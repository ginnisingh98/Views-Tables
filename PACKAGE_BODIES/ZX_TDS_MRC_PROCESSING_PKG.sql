--------------------------------------------------------
--  DDL for Package Body ZX_TDS_MRC_PROCESSING_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "APPS"."ZX_TDS_MRC_PROCESSING_PKG" AS
/* $Header: zxdimrcprocspkgb.pls 120.7 2006/07/27 17:34:22 hongliu ship $ */

 g_current_runtime_level      NUMBER;
 g_level_statement            CONSTANT NUMBER   := FND_LOG.LEVEL_STATEMENT;
 g_level_procedure            CONSTANT NUMBER   := FND_LOG.LEVEL_PROCEDURE;
 g_level_event                CONSTANT NUMBER   := FND_LOG.LEVEL_EVENT;
 g_level_unexpected           CONSTANT NUMBER   := FND_LOG.LEVEL_UNEXPECTED;

/* ======================================================================*
 |  Public Procedures create_mrc_det_tax_lines creates detail tax lines  |
 |   for each reporting currency                                         |
 * =====================================================================*/
PROCEDURE  create_mrc_det_tax_lines (
  p_event_class_rec	    IN              zx_api_pub.event_class_rec_type,
  x_return_status	    OUT NOCOPY      VARCHAR2) IS
BEGIN

  g_current_runtime_level := FND_LOG.G_CURRENT_RUNTIME_LEVEL;

  IF (g_level_statement >= g_current_runtime_level ) THEN
    FND_LOG.STRING(g_level_statement,
           'ZX.PLSQL.ZX_TDS_MRC_PROCESSING_PKG.create_mrc_det_tax_lines.BEGIN',
           'ZX_TDS_MRC_PROCESSING_PKG.create_mrc_det_tax_lines(+)');
  END IF;

  x_return_status := FND_API.G_RET_STS_SUCCESS;

  -- Bug 4352593: comment out the SQL. eTax does not process MRC tax lines.
  --
  -- -- Insert MRC detail tax lines into zx_detail_tax_lines_gt
  -- --
  -- INSERT INTO zx_detail_tax_lines_gt(
  --             tax_line_id,
  --             internal_organization_id,
  --             application_id,
  --             entity_code,
  --             event_class_code,
  --             event_type_code,
  --             trx_id,
  --             trx_line_id,
  --             trx_level_type,
  --             trx_line_number,
  --             doc_event_status,
  --             tax_event_class_code,
  --             tax_event_type_code,
  --             tax_line_number,
  --             content_owner_id,
  --             tax_regime_id,
  --             tax_regime_code,
  --             tax_id,
  --             tax,
  --             tax_status_id,
  --             tax_status_code,
  --             tax_rate_id,
  --             tax_rate_code,
  --             tax_rate,
  --             tax_apportionment_line_number,
  --             trx_id_level2,
  --             trx_id_level3,
  --             trx_id_level4,
  --             trx_id_level5,
  --             trx_id_level6,
  --             trx_user_key_level1,
  --             trx_user_key_level2,
  --             trx_user_key_level3,
  --             trx_user_key_level4,
  --             trx_user_key_level5,
  --             trx_user_key_level6,
  --             mrc_tax_line_flag,
  --             ledger_id,
  --             establishment_id,
  --             legal_entity_id,
  --             legal_entity_tax_reg_number,
  --             hq_estb_reg_number,
  --             hq_estb_party_tax_prof_id,
  --             currency_conversion_date,
  --             currency_conversion_type,
  --             currency_conversion_rate,
  --             tax_currency_conversion_date,
  --             tax_currency_conversion_type,
  --             tax_currency_conversion_rate,
  --             trx_currency_code,
  --             minimum_accountable_unit,
  --             precision,
  --             trx_number,
  --             trx_date,
  --             unit_price,
  --             line_amt,
  --             trx_line_quantity,
  --             tax_base_modifier_rate,
  --             ref_doc_application_id,
  --             ref_doc_entity_code,
  --             ref_doc_event_class_code,
  --             ref_doc_trx_id,
  --             ref_doc_line_id,
  --             ref_doc_line_quantity,
  --             other_doc_line_amt,
  --             other_doc_line_tax_amt,
  --             other_doc_line_taxable_amt,
  --             unrounded_taxable_amt,
  --             unrounded_tax_amt,
  --             related_doc_application_id,
  --             related_doc_entity_code,
  --             related_doc_event_class_code,
  --             related_doc_trx_id,
  --             related_doc_number,
  --             related_doc_date,
  --             applied_from_application_id,
  --             applied_from_event_class_code,
  --             applied_from_entity_code,
  --             applied_from_trx_id,
  --             applied_from_line_id,
  --             applied_from_trx_number,
  --             adjusted_doc_application_id,
  --             adjusted_doc_entity_code,
  --             adjusted_doc_event_class_code,
  --             adjusted_doc_trx_id,
  --             adjusted_doc_line_id,
  --             adjusted_doc_number,
  --             adjusted_doc_date,
  --             applied_to_application_id,
  --             applied_to_event_class_code,
  --             applied_to_entity_code,
  --             applied_to_trx_id,
  --             applied_to_line_id,
  --             summary_tax_line_id,
  --             offset_link_to_tax_line_id,
  --             offset_flag,
  --             process_for_recovery_flag,
  --             tax_jurisdiction_id,
  --             tax_jurisdiction_code,
  --             place_of_supply,
  --             place_of_supply_type_code,
  --             place_of_supply_result_id,
  --             tax_date_rule_id,
  --             tax_date,
  --             tax_determine_date,
  --             tax_point_date,
  --             trx_line_date,
  --             tax_type_code,
  --             tax_code,
  --             tax_registration_id,
  --             tax_registration_number,
  --             registration_party_type,
  --             rounding_level_code,
  --             rounding_rule_code,
  --             rounding_lvl_party_tax_prof_id,
  --             rounding_lvl_party_type,
  --             compounding_tax_flag,
  --             orig_tax_status_id,
  --             orig_tax_status_code,
  --             orig_tax_rate_id,
  --             orig_tax_rate_code,
  --             orig_tax_rate,
  --             orig_tax_jurisdiction_id,
  --             orig_tax_jurisdiction_code,
  --             orig_tax_amt_included_flag,
  --             orig_self_assessed_flag,
  --             tax_currency_code,
  --             tax_amt,
  --             tax_amt_tax_curr,
  --             tax_amt_funcl_curr,
  --             taxable_amt,
  --             taxable_amt_tax_curr,
  --             taxable_amt_funcl_curr,
  --             orig_taxable_amt,
  --             orig_taxable_amt_tax_curr,
  --             cal_tax_amt,
  --             cal_tax_amt_tax_curr,
  --             cal_tax_amt_funcl_curr,
  --             orig_tax_amt,
  --             orig_tax_amt_tax_curr,
  --             rec_tax_amt,
  --             rec_tax_amt_tax_curr,
  --             rec_tax_amt_funcl_curr,
  --             nrec_tax_amt,
  --             nrec_tax_amt_tax_curr,
  --             nrec_tax_amt_funcl_curr,
  --             tax_exemption_id,
  --             tax_rate_before_exemption,
  --             tax_rate_name_before_exemption,
  --             exempt_rate_modifier,
  --             exempt_certificate_number,
  --             exempt_reason,
  --             exempt_reason_code,
  --             tax_exception_id,
  --             tax_rate_before_exception,
  --             tax_rate_name_before_exception,
  --             exception_rate,
  --             tax_apportionment_flag,
  --             historical_flag,
  --             taxable_basis_formula,
  --             tax_calculation_formula,
  --             cancel_flag,
  --             purge_flag,
  --             delete_flag,
  --             tax_amt_included_flag,
  --             self_assessed_flag,
  --             overridden_flag,
  --             manually_entered_flag,
  --             reporting_only_flag,
  --             freeze_until_overridden_flag,
  --             copied_from_other_doc_flag,
  --             recalc_required_flag,
  --             settlement_flag,
  --             item_dist_changed_flag,
  --             associated_child_frozen_flag,
  --             tax_only_line_flag,
  --             compounding_dep_tax_flag,
  --             last_manual_entry,
  --             tax_provider_id,
  --             record_type_code,
  --             reporting_period_id,
  --             legal_message_appl_2,
  --             legal_message_status,
  --             legal_message_rate,
  --             legal_message_basis,
  --             legal_message_calc,
  --             legal_message_threshold,
  --             legal_message_pos,
  --             legal_message_trn,
  --             legal_message_exmpt,
  --             legal_message_excpt,
  --             tax_regime_template_id,
  --             tax_applicability_result_id,
  --             direct_rate_result_id,
  --             status_result_id,
  --             rate_result_id,
  --             basis_result_id,
  --             thresh_result_id,
  --             calc_result_id,
  --             tax_reg_num_det_result_id,
  --             eval_exmpt_result_id,
  --             eval_excpt_result_id,
  --             enforce_from_natural_acct_flag,
  --             tax_hold_code,
  --             tax_hold_released_code,
  --             prd_total_tax_amt,
  --             prd_total_tax_amt_tax_curr,
  --             prd_total_tax_amt_funcl_curr,
  --             internal_org_location_id,
  --             attribute_category,
  --             attribute1,
  --             attribute2,
  --             attribute3,
  --             attribute4,
  --             attribute5,
  --             attribute6,
  --             attribute7,
  --             attribute8,
  --             attribute9,
  --             attribute10,
  --             attribute11,
  --             attribute12,
  --             attribute13,
  --             attribute14,
  --             attribute15,
  --             global_attribute_category,
  --             global_attribute1,
  --             global_attribute2,
  --             global_attribute3,
  --             global_attribute4,
  --             global_attribute5,
  --             global_attribute6,
  --             global_attribute7,
  --             global_attribute8,
  --             global_attribute9,
  --             global_attribute10,
  --             global_attribute11,
  --             global_attribute12,
  --             global_attribute13,
  --             global_attribute14,
  --             global_attribute15,
  --             numeric1,
  --             numeric2,
  --             numeric3,
  --             numeric4,
  --             numeric5,
  --             numeric6,
  --             numeric7,
  --             numeric8,
  --             numeric9,
  --             numeric10,
  --             char1,
  --             char2,
  --             char3,
  --             char4,
  --             char5,
  --             char6,
  --             char7,
  --             char8,
  --             char9,
  --             char10,
  --             date1,
  --             date2,
  --             date3,
  --             date4,
  --             date5,
  --             date6,
  --             date7,
  --             date8,
  --             date9,
  --             date10,
  --             created_by,
  --             creation_date,
  --             last_updated_by,
  --             last_update_date,
  --             last_update_login,
  --             legal_justification_text1,
  --             legal_justification_text2,
  --             legal_justification_text3,
  --             reporting_currency_code,
  --             line_assessable_value,
  --             trx_line_index,
  --             offset_tax_rate_code,
  --             proration_code,
  --             other_doc_source,
  --             ctrl_total_line_tx_amt,
  --             interface_entity_code,
  --             interface_tax_line_id,
  --             taxing_juris_geography_id,
  --             adjusted_doc_tax_line_id,
  --             object_version_number)
  --      SELECT /*+ INDEX(ZX_DETAIL_TAX_LINES_GT ZX_DETAIL_TAX_LINES_GT_U1) */
  --             zx_lines_s.NEXTVAL,                 -- tax_line_id from SEQUENCE
  --             taxlngt.internal_organization_id,
  --             taxlngt.application_id,
  --             taxlngt.entity_code,
  --             taxlngt.event_class_code,
  --             taxlngt.event_type_code,
  --             taxlngt.trx_id,
  --             taxlngt.trx_line_id,
  --             taxlngt.trx_level_type,
  --             taxlngt.trx_line_number,
  --             taxlngt.doc_event_status,
  --             taxlngt.tax_event_class_code,
  --             taxlngt.tax_event_type_code,
  --             taxlngt.tax_line_number,
  --             taxlngt.content_owner_id,
  --             taxlngt.tax_regime_id,
  --             taxlngt.tax_regime_code,
  --             taxlngt.tax_id,
  --             taxlngt.tax,
  --             taxlngt.tax_status_id,
  --             taxlngt.tax_status_code,
  --             taxlngt.tax_rate_id,
  --             taxlngt.tax_rate_code,
  --             taxlngt.tax_rate,
  --             taxlngt.tax_apportionment_line_number,
  --             taxlngt.trx_id_level2,
  --             taxlngt.trx_id_level3,
  --             taxlngt.trx_id_level4,
  --             taxlngt.trx_id_level5,
  --             taxlngt.trx_id_level6,
  --             taxlngt.trx_user_key_level1,
  --             taxlngt.trx_user_key_level2,
  --             taxlngt.trx_user_key_level3,
  --             taxlngt.trx_user_key_level4,
  --             taxlngt.trx_user_key_level5,
  --             taxlngt.trx_user_key_level6,
  --             'Y',                                -- mrc_tax_line_flag
  --             mrcgt.ledger_id,                    -- ledger_id FROM MRC table
  --             taxlngt.establishment_id,
  --             taxlngt.legal_entity_id,
  --             taxlngt.legal_entity_tax_reg_number,
  --             taxlngt.hq_estb_reg_number,
  --             taxlngt.hq_estb_party_tax_prof_id,
  --             mrcgt.currency_conversion_date,     -- currency_conversion_date
  --             mrcgt.currency_conversion_type,     -- currency_conversion_type
  --             mrcgt.currency_conversion_rate,     -- currency_conversion_rate
  --             NULL,                               -- tax_currency_conversion_date
  --             NULL,                               -- tax_currency_conversion_type
  --             NULL,                               -- tax_currency_conversion_rate
  --             taxlngt.trx_currency_code,
  --             mrcgt.minimum_accountable_unit,     -- minimum_accountable_unit
  --             mrcgt.precision,                    -- precision
  --             taxlngt.trx_number,
  --             taxlngt.trx_date,
  --             taxlngt.unit_price,
  --             taxlngt.line_amt,
  --             taxlngt.trx_line_quantity,
  --             taxlngt.tax_base_modifier_rate,
  --             taxlngt.ref_doc_application_id,
  --             taxlngt.ref_doc_entity_code,
  --             taxlngt.ref_doc_event_class_code,
  --             taxlngt.ref_doc_trx_id,
  --             taxlngt.ref_doc_line_id,
  --             taxlngt.ref_doc_line_quantity,
  --             taxlngt.other_doc_line_amt,
  --             taxlngt.other_doc_line_tax_amt,
  --             taxlngt.other_doc_line_taxable_amt,
  --             taxlngt.unrounded_taxable_amt*mrcgt.currency_conversion_rate,   --
  --             taxlngt.unrounded_tax_amt*mrcgt.currency_conversion_rate,       --
  --             taxlngt.related_doc_application_id,
  --             taxlngt.related_doc_entity_code,
  --             taxlngt.related_doc_event_class_code,
  --             taxlngt.related_doc_trx_id,
  --             taxlngt.related_doc_number,
  --             taxlngt.related_doc_date,
  --             taxlngt.applied_from_application_id,
  --             taxlngt.applied_from_event_class_code,
  --             taxlngt.applied_from_entity_code,
  --             taxlngt.applied_from_trx_id,
  --             taxlngt.applied_from_line_id,
  --             taxlngt.applied_from_trx_number,
  --             taxlngt.adjusted_doc_application_id,
  --             taxlngt.adjusted_doc_entity_code,
  --             taxlngt.adjusted_doc_event_class_code,
  --             taxlngt.adjusted_doc_trx_id,
  --             taxlngt.adjusted_doc_line_id,
  --             taxlngt.adjusted_doc_number,
  --             taxlngt.adjusted_doc_date,
  --             taxlngt.applied_to_application_id,
  --             taxlngt.applied_to_event_class_code,
  --             taxlngt.applied_to_entity_code,
  --             taxlngt.applied_to_trx_id,
  --             taxlngt.applied_to_line_id,
  --             NULL,                               -- summary_tax_line_id
  --             NULL,                               -- offset_link_to_tax_line_id
  --             taxlngt.offset_flag,
  --             'N',                                -- process_for_recovery_flag
  --             taxlngt.tax_jurisdiction_id,
  --             taxlngt.tax_jurisdiction_code,
  --             taxlngt.place_of_supply,
  --             taxlngt.place_of_supply_type_code,
  --             taxlngt.place_of_supply_result_id,
  --             taxlngt.tax_date_rule_id,
  --             taxlngt.tax_date,
  --             taxlngt.tax_determine_date,
  --             taxlngt.tax_point_date,
  --             taxlngt.trx_line_date,
  --             taxlngt.tax_type_code,
  --             taxlngt.tax_code,
  --             taxlngt.tax_registration_id,
  --             taxlngt.tax_registration_number,
  --             taxlngt.registration_party_type,
  --             taxlngt.rounding_level_code,
  --             taxlngt.rounding_rule_code,
  --             taxlngt.rounding_lvl_party_tax_prof_id,
  --             taxlngt.rounding_lvl_party_type,
  --             taxlngt.compounding_tax_flag,
  --             taxlngt.orig_tax_status_id,
  --             taxlngt.orig_tax_status_code,
  --             taxlngt.orig_tax_rate_id,
  --             taxlngt.orig_tax_rate_code,
  --             taxlngt.orig_tax_rate,
  --             taxlngt.orig_tax_jurisdiction_id,
  --             taxlngt.orig_tax_jurisdiction_code,
  --             taxlngt.orig_tax_amt_included_flag,
  --             taxlngt.orig_self_assessed_flag,
  --             NULL,                               -- tax_currency_code
  --             NULL,                               -- tax_amt
  --             NULL,                               -- tax_amt_tax_curr
  --             NULL,                               -- tax_amt_funcl_curr
  --             NULL,                               -- taxable_amt
  --             NULL,                               -- taxable_amt_tax_curr
  --             NULL,                               -- taxable_amt_funcl_curr
  --             NULL,                               -- orig_taxable_amt
  --             NULL,                               -- orig_taxable_amt_tax_curr
  --             NULL,                               -- cal_tax_amt
  --             NULL,                               -- cal_tax_amt_tax_curr
  --             NULL,                               -- cal_tax_amt_funcl_curr
  --             NULL,                               -- orig_tax_amt
  --             NULL,                               -- orig_tax_amt_tax_curr
  --             NULL,                               -- rec_tax_amt
  --             NULL,                               -- rec_tax_amt_tax_curr
  --             NULL,                               -- rec_tax_amt_funcl_curr
  --             NULL,                               -- nrec_tax_amt
  --             NULL,                               -- nrec_tax_amt_tax_curr
  --             NULL,                               -- nrec_tax_amt_funcl_curr
  --             taxlngt.tax_exemption_id,
  --             taxlngt.tax_rate_before_exemption,
  --             taxlngt.tax_rate_name_before_exemption,
  --             taxlngt.exempt_rate_modifier,
  --             taxlngt.exempt_certificate_number,
  --             taxlngt.exempt_reason,
  --             taxlngt.exempt_reason_code,
  --             taxlngt.tax_exception_id,
  --             taxlngt.tax_rate_before_exception,
  --             taxlngt.tax_rate_name_before_exception,
  --             taxlngt.exception_rate,
  --             taxlngt.tax_apportionment_flag,
  --             taxlngt.historical_flag,
  --             taxlngt.taxable_basis_formula,
  --             taxlngt.tax_calculation_formula,
  --             taxlngt.cancel_flag,
  --             taxlngt.purge_flag,
  --             taxlngt.delete_flag,
  --             taxlngt.tax_amt_included_flag,
  --             taxlngt.self_assessed_flag,
  --             taxlngt.overridden_flag,
  --             taxlngt.manually_entered_flag,
  --             taxlngt.reporting_only_flag,
  --             taxlngt.freeze_until_overridden_flag,
  --             taxlngt.copied_from_other_doc_flag,
  --             taxlngt.recalc_required_flag,
  --             taxlngt.settlement_flag,
  --             taxlngt.item_dist_changed_flag,
  --             taxlngt.associated_child_frozen_flag,
  --             taxlngt.tax_only_line_flag,
  --             taxlngt.compounding_dep_tax_flag,
  --             taxlngt.last_manual_entry,
  --             taxlngt.tax_provider_id,
  --             taxlngt.record_type_code,
  --             taxlngt.reporting_period_id,
  --             taxlngt.legal_message_appl_2,
  --             taxlngt.legal_message_status,
  --             taxlngt.legal_message_rate,
  --             taxlngt.legal_message_basis,
  --             taxlngt.legal_message_calc,
  --             taxlngt.legal_message_threshold,
  --             taxlngt.legal_message_pos,
  --             taxlngt.legal_message_trn,
  --             taxlngt.legal_message_exmpt,
  --             taxlngt.legal_message_excpt,
  --             taxlngt.tax_regime_template_id,
  --             taxlngt.tax_applicability_result_id,
  --             taxlngt.direct_rate_result_id,
  --             taxlngt.status_result_id,
  --             taxlngt.rate_result_id,
  --             taxlngt.basis_result_id,
  --             taxlngt.thresh_result_id,
  --             taxlngt.calc_result_id,
  --             taxlngt.tax_reg_num_det_result_id,
  --             taxlngt.eval_exmpt_result_id,
  --             taxlngt.eval_excpt_result_id,
  --             taxlngt.enforce_from_natural_acct_flag,
  --             NULL,                                   -- tax_hold_code
  --             NULL,                                   -- tax_hold_released_code
  --             NULL,                                   -- prd_total_tax_amt
  --             NULL,                                   -- prd_total_tax_amt_tax_curr
  --             NULL,                                   -- prd_total_tax_amt_funcl_curr
  --             taxlngt.internal_org_location_id,
  --             taxlngt.attribute_category,
  --             taxlngt.attribute1,
  --             taxlngt.attribute2,
  --             taxlngt.attribute3,
  --             taxlngt.attribute4,
  --             taxlngt.attribute5,
  --             taxlngt.attribute6,
  --             taxlngt.attribute7,
  --             taxlngt.attribute8,
  --             taxlngt.attribute9,
  --             taxlngt.attribute10,
  --             taxlngt.attribute11,
  --             taxlngt.attribute12,
  --             taxlngt.attribute13,
  --             taxlngt.attribute14,
  --             taxlngt.attribute15,
  --             taxlngt.global_attribute_category,
  --             taxlngt.global_attribute1,
  --             taxlngt.global_attribute2,
  --             taxlngt.global_attribute3,
  --             taxlngt.global_attribute4,
  --             taxlngt.global_attribute5,
  --             taxlngt.global_attribute6,
  --             taxlngt.global_attribute7,
  --             taxlngt.global_attribute8,
  --             taxlngt.global_attribute9,
  --             taxlngt.global_attribute10,
  --             taxlngt.global_attribute11,
  --             taxlngt.global_attribute12,
  --             taxlngt.global_attribute13,
  --             taxlngt.global_attribute14,
  --             taxlngt.global_attribute15,
  --             taxlngt.numeric1,
  --             taxlngt.numeric2,
  --             taxlngt.numeric3,
  --             taxlngt.numeric4,
  --             taxlngt.numeric5,
  --             taxlngt.numeric6,
  --             taxlngt.numeric7,
  --             taxlngt.numeric8,
  --             taxlngt.numeric9,
  --             taxlngt.numeric10,
  --             taxlngt.char1,
  --             taxlngt.char2,
  --             taxlngt.char3,
  --             taxlngt.char4,
  --             taxlngt.char5,
  --             taxlngt.char6,
  --             taxlngt.char7,
  --             taxlngt.char8,
  --             taxlngt.char9,
  --             taxlngt.char10,
  --             taxlngt.date1,
  --             taxlngt.date2,
  --             taxlngt.date3,
  --             taxlngt.date4,
  --             taxlngt.date5,
  --             taxlngt.date6,
  --             taxlngt.date7,
  --             taxlngt.date8,
  --             taxlngt.date9,
  --             taxlngt.date10,
  --             FND_GLOBAL.user_id,                    -- created_by
  --             SYSDATE,                               -- creation_date
  --             FND_GLOBAL.user_id,                    -- last_updated_by
  --             SYSDATE,                               -- last_update_date
  --             FND_GLOBAL.login_id,                   -- last_update_login
  --             taxlngt.legal_justification_text1,
  --             taxlngt.legal_justification_text2,
  --             taxlngt.legal_justification_text3,
  --             mrcgt.reporting_currency_code,         -- reporting_currency_code
  --             taxlngt.line_assessable_value,
  --             taxlngt.trx_line_index,
  --             taxlngt.offset_tax_rate_code,
  --             taxlngt.proration_code,
  --             taxlngt.other_doc_source,
  --             taxlngt.ctrl_total_line_tx_amt,
  --             taxlngt.interface_entity_code,
  --             taxlngt.interface_tax_line_id,
  --             taxlngt.taxing_juris_geography_id,
  --             taxlngt.adjusted_doc_tax_line_id,
  --             1
  --       FROM zx_detail_tax_lines_gt taxlngt,
  --            zx_mrc_gt mrcgt
  --      WHERE taxlngt.application_id = p_event_class_rec.application_id
  --        AND taxlngt.entity_code = p_event_class_rec.entity_code
  --        AND taxlngt.event_class_code = p_event_class_rec.event_class_code
  --        AND taxlngt.trx_id = p_event_class_rec.trx_id
  --        AND taxlngt.mrc_tax_line_flag <> 'Y';

  IF (g_level_statement >= g_current_runtime_level ) THEN
    FND_LOG.STRING(g_level_statement,
           'ZX.PLSQL.ZX_TDS_MRC_PROCESSING_PKG.create_mrc_det_tax_lines.END',
           'ZX_TDS_MRC_PROCESSING_PKG.create_mrc_det_tax_lines(-)');
  END IF;

EXCEPTION
  WHEN OTHERS THEN
    x_return_status := FND_API.G_RET_STS_UNEXP_ERROR;

    IF (g_level_unexpected >= g_current_runtime_level ) THEN
      FND_LOG.STRING(g_level_unexpected,
             'ZX.PLSQL.ZX_TDS_MRC_PROCESSING_PKG.create_mrc_det_tax_lines',
              sqlcode || ': ' || SUBSTR(SQLERRM, 1, 80));
      FND_LOG.STRING(g_level_unexpected,
             'ZX.PLSQL.ZX_TDS_MRC_PROCESSING_PKG.create_mrc_det_tax_lines.END',
             'ZX_TDS_MRC_PROCESSING_PKG.create_mrc_det_tax_lines(-)');
    END IF;

END create_mrc_det_tax_lines;


END ZX_TDS_MRC_PROCESSING_PKG;

/
