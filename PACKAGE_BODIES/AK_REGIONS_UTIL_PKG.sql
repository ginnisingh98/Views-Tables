--------------------------------------------------------
--  DDL for Package Body AK_REGIONS_UTIL_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "APPS"."AK_REGIONS_UTIL_PKG" as
/* $Header: AKDRUTLB.pls 115.6 2002/09/27 19:30:12 tshort noship $ */

procedure UPDATE_ITEM_LONG_LABEL (
X_REGION_APPLICATION_ID in NUMBER,
X_REGION_CODE in VARCHAR2,
X_ATTRIBUTE_APPLICATION_ID in NUMBER,
X_ATTRIBUTE_CODE in VARCHAR2,
X_ATTRIBUTE_LABEL_LONG in VARCHAR2,
X_LAST_UPDATE_DATE in DATE,
X_LAST_UPDATED_BY in NUMBER,
X_LAST_UPDATE_LOGIN in NUMBER
) is
begin

update ak_region_items_tl
set attribute_label_long = X_ATTRIBUTE_LABEL_LONG,
SOURCE_LANG = userenv('LANG'),
LAST_UPDATED_BY = X_LAST_UPDATED_BY,
LAST_UPDATE_DATE = X_LAST_UPDATE_DATE,
LAST_UPDATE_LOGIN = X_LAST_UPDATE_LOGIN
where REGION_CODE = X_REGION_CODE
and REGION_APPLICATION_ID = X_REGION_APPLICATION_ID
and ATTRIBUTE_CODE = X_ATTRIBUTE_CODE
and ATTRIBUTE_APPLICATION_ID = X_ATTRIBUTE_APPLICATION_ID
and userenv('LANG') in (LANGUAGE, SOURCE_LANG);
if (sql%notfound) then
raise no_data_found;
end if;

end;

procedure UPDATE_NODE_DISPLAY_FLAG (
X_REGION_APPLICATION_ID in NUMBER,
X_REGION_CODE in VARCHAR2,
X_ATTRIBUTE_APPLICATION_ID in NUMBER,
X_ATTRIBUTE_CODE in VARCHAR2,
X_NODE_DISPLAY_FLAG in VARCHAR2,
X_LAST_UPDATE_DATE in DATE,
X_LAST_UPDATED_BY in NUMBER,
X_LAST_UPDATE_LOGIN in NUMBER
) is
begin

if (X_NODE_DISPLAY_FLAG = 'Y' or X_NODE_DISPLAY_FLAG = 'N') then
update ak_region_items
set node_display_flag = X_NODE_DISPLAY_FLAG,
LAST_UPDATED_BY = X_LAST_UPDATED_BY,
LAST_UPDATE_DATE = X_LAST_UPDATE_DATE,
LAST_UPDATE_LOGIN = X_LAST_UPDATE_LOGIN
where REGION_CODE = X_REGION_CODE
and REGION_APPLICATION_ID = X_REGION_APPLICATION_ID
and ATTRIBUTE_CODE = X_ATTRIBUTE_CODE
and ATTRIBUTE_APPLICATION_ID = X_ATTRIBUTE_APPLICATION_ID;
end if;

if (sql%notfound) then
raise no_data_found;
end if;

end;

/* valid values for X_USER_CUSTOMIZABLE are 'Y' and NULL */
procedure UPDATE_USER_CUSTOMIZABLE (
X_REGION_APPLICATION_ID in NUMBER,
X_REGION_CODE in VARCHAR2,
X_ATTRIBUTE_APPLICATION_ID in NUMBER,
X_ATTRIBUTE_CODE in VARCHAR2,
X_USER_CUSTOMIZABLE in VARCHAR2,
X_LAST_UPDATE_DATE in DATE,
X_LAST_UPDATED_BY in NUMBER,
X_LAST_UPDATE_LOGIN in NUMBER
) is
begin

if ( X_USER_CUSTOMIZABLE = 'Y' or X_USER_CUSTOMIZABLE = 'N' or X_USER_CUSTOMIZABLE is null ) then
update ak_region_items
set user_customizable = X_USER_CUSTOMIZABLE,
LAST_UPDATED_BY = X_LAST_UPDATED_BY,
LAST_UPDATE_DATE = X_LAST_UPDATE_DATE,
LAST_UPDATE_LOGIN = X_LAST_UPDATE_LOGIN
where REGION_CODE = X_REGION_CODE
and REGION_APPLICATION_ID = X_REGION_APPLICATION_ID
and ATTRIBUTE_CODE = X_ATTRIBUTE_CODE
and ATTRIBUTE_APPLICATION_ID = X_ATTRIBUTE_APPLICATION_ID;
end if;

if (sql%notfound) then
raise no_data_found;
end if;

end;

end AK_REGIONS_UTIL_PKG;

/
