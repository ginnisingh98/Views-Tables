--------------------------------------------------------
--  DDL for Package Body LNS_TERMS_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "APPS"."LNS_TERMS_PKG" AS
/*$Header: LNS_TERMS_TBLH_B.pls 120.5.12010000.9 2010/03/19 08:44:10 gparuchu ship $ */

PROCEDURE Insert_Row (
	X_TERM_ID                         IN OUT NOCOPY NUMBER,
	X_LOAN_ID                         IN NUMBER,
	X_DAY_COUNT_METHOD                IN VARCHAR2,
	X_BASED_ON_BALANCE                IN VARCHAR2,
	X_FIRST_RATE_CHANGE_DATE          IN DATE,
	X_NEXT_RATE_CHANGE_DATE           IN DATE,
	X_PERCENT_INCREASE                IN NUMBER,
	X_PERCENT_INCREASE_TERM           IN VARCHAR2,
	X_PAYMENT_APPLICATION_ORDER       IN VARCHAR2,
	X_PREPAY_PENALTY_FLAG             IN VARCHAR2,
	X_PREPAY_PENALTY_DATE             IN DATE,
	X_CEILING_RATE                    IN NUMBER,
	X_FLOOR_RATE                      IN NUMBER,
	X_DELINQUENCY_THRESHOLD_NUMBER    IN NUMBER,
	X_DELINQUENCY_THRESHOLD_AMOUNT    IN NUMBER,
	X_CALCULATION_METHOD              IN VARCHAR2,
	X_REAMORTIZE_UNDER_PAYMENT        IN VARCHAR2,
	X_REAMORTIZE_OVER_PAYMENT        IN VARCHAR2,
	X_REAMORTIZE_WITH_INTEREST        IN VARCHAR2,
	X_LOAN_PAYMENT_FREQUENCY          IN VARCHAR2,
	X_INTEREST_COMPOUNDING_FREQ       IN VARCHAR2,
	X_OBJECT_VERSION_NUMBER           IN NUMBER,
	X_AMORTIZATION_FREQUENCY          IN VARCHAR2,
	X_NUMBER_GRACE_DAYS               IN NUMBER,
	X_RATE_TYPE                       IN VARCHAR2,
	X_INDEX_NAME                      IN VARCHAR2,
	X_ADJUSTMENT_FREQUENCY            IN NUMBER,
	X_ADJUSTMENT_FREQUENCY_TYPE       IN VARCHAR2,
	X_FIXED_RATE_PERIOD               IN NUMBER,
	X_FIXED_RATE_PERIOD_TYPE          IN VARCHAR2,
	X_FIRST_PAYMENT_DATE		  IN DATE,
	X_NEXT_PAYMENT_DUE_DATE		  IN DATE,
	X_OPEN_FIRST_PAYMENT_DATE         IN DATE,
	X_OPEN_PAYMENT_FREQUENCY          IN VARCHAR2,
	X_OPEN_NEXT_PAYMENT_DATE          IN DATE,
	X_LOCK_IN_DATE			  IN DATE,
	X_LOCK_TO_DATE			  IN DATE,
	X_RATE_CHANGE_FREQUENCY		  IN VARCHAR2,
	X_INDEX_RATE_ID			  IN NUMBER,
 	X_PERCENT_INCREASE_LIFE           IN NUMBER,
	X_FIRST_PERCENT_INCREASE          IN NUMBER,
	X_OPEN_PERCENT_INCREASE           IN NUMBER,
	X_OPEN_PERCENT_INCREASE_LIFE      IN NUMBER,
	X_OPEN_FIRST_PERCENT_INCREASE     IN NUMBER,
	X_PMT_APPL_ORDER_SCOPE            IN VARCHAR2,
	X_OPEN_CEILING_RATE               IN NUMBER,
	X_OPEN_FLOOR_RATE                 IN NUMBER,
	X_OPEN_INDEX_DATE                 IN DATE,
	X_TERM_INDEX_DATE                 IN DATE,
	X_OPEN_PROJECTED_RATE             IN NUMBER,
	X_TERM_PROJECTED_RATE             IN NUMBER,
	X_PAYMENT_CALC_METHOD             IN VARCHAR2,
        X_CUSTOM_CALC_METHOD              IN VARCHAR2,
        X_ORIG_PAY_CALC_METHOD            IN VARCHAR2,
        X_PRIN_FIRST_PAY_DATE		  IN DATE,
        X_PRIN_PAYMENT_FREQUENCY          IN VARCHAR2,
        X_PENAL_INT_RATE                  IN NUMBER,
        X_PENAL_INT_GRACE_DAYS            IN NUMBER,
	X_CALC_ADD_INT_UNPAID_PRIN	  IN VARCHAR2,
	X_CALC_ADD_INT_UNPAID_INT	  IN VARCHAR2,
	X_REAMORTIZE_ON_FUNDING           IN VARCHAR2

) IS

BEGIN

	INSERT INTO LNS_TERMS
	(
		TERM_ID
		,LOAN_ID
		,LAST_UPDATE_DATE
		,LAST_UPDATED_BY
		,LAST_UPDATE_LOGIN
		,CREATION_DATE
		,CREATED_BY
		,OBJECT_VERSION_NUMBER
		,DAY_COUNT_METHOD
		,BASED_ON_BALANCE
		,FIRST_RATE_CHANGE_DATE
		,NEXT_RATE_CHANGE_DATE
		,PERCENT_INCREASE
		,PERCENT_INCREASE_TERM
		,PAYMENT_APPLICATION_ORDER
		,PREPAY_PENALTY_FLAG
		,PREPAY_PENALTY_DATE
		,CEILING_RATE
		,FLOOR_RATE
		,DELINQUENCY_THRESHOLD_NUMBER
		,DELINQUENCY_THRESHOLD_AMOUNT
		,CALCULATION_METHOD
		,REAMORTIZE_UNDER_PAYMENT
		,REAMORTIZE_OVER_PAYMENT
		,REAMORTIZE_WITH_INTEREST
		,LOAN_PAYMENT_FREQUENCY
		,INTEREST_COMPOUNDING_FREQ
		,AMORTIZATION_FREQUENCY
		,NUMBER_GRACE_DAYS
		,RATE_TYPE
		,INDEX_NAME
		,ADJUSTMENT_FREQUENCY
		,ADJUSTMENT_FREQUENCY_TYPE
		,FIXED_RATE_PERIOD
		,FIXED_RATE_PERIOD_TYPE
		,FIRST_PAYMENT_DATE
		,NEXT_PAYMENT_DUE_DATE
		,OPEN_FIRST_PAYMENT_DATE
		,OPEN_PAYMENT_FREQUENCY
		,OPEN_NEXT_PAYMENT_DATE
		,LOCK_IN_DATE
		,LOCK_TO_DATE
		,RATE_CHANGE_FREQUENCY
		,INDEX_RATE_ID
		,PERCENT_INCREASE_LIFE
		,FIRST_PERCENT_INCREASE
		,OPEN_PERCENT_INCREASE
		,OPEN_PERCENT_INCREASE_LIFE
		,OPEN_FIRST_PERCENT_INCREASE
		,PMT_APPL_ORDER_SCOPE
		,OPEN_CEILING_RATE
		,OPEN_FLOOR_RATE
		,OPEN_INDEX_DATE
		,TERM_INDEX_DATE
		,OPEN_PROJECTED_RATE
		,TERM_PROJECTED_RATE
		,PAYMENT_CALC_METHOD
	        ,CUSTOM_CALC_METHOD
		,ORIG_PAY_CALC_METHOD
		,PRIN_FIRST_PAY_DATE
		,PRIN_PAYMENT_FREQUENCY
		,PENAL_INT_RATE
                ,PENAL_INT_GRACE_DAYS
		,CALC_ADD_INT_UNPAID_PRIN
		,CALC_ADD_INT_UNPAID_INT
		,REAMORTIZE_ON_FUNDING
	) VALUES (
		DECODE( X_TERM_ID, FND_API.G_MISS_NUM, LNS_TERMS_S.NEXTVAL, NULL, LNS_TERMS_S.NEXTVAL, X_TERM_ID )
		,DECODE( X_LOAN_ID, FND_API.G_MISS_NUM, NULL, X_LOAN_ID )
		,LNS_UTILITY_PUB.LAST_UPDATE_DATE
		,LNS_UTILITY_PUB.LAST_UPDATED_BY
		,LNS_UTILITY_PUB.LAST_UPDATE_LOGIN
		,LNS_UTILITY_PUB.CREATION_DATE
		,LNS_UTILITY_PUB.CREATED_BY
		,DECODE( X_OBJECT_VERSION_NUMBER, FND_API.G_MISS_NUM, NULL, X_OBJECT_VERSION_NUMBER )
		,DECODE( X_DAY_COUNT_METHOD, FND_API.G_MISS_CHAR, NULL, X_DAY_COUNT_METHOD )
		,DECODE( X_BASED_ON_BALANCE, FND_API.G_MISS_CHAR, NULL, X_BASED_ON_BALANCE )
		,DECODE( X_FIRST_RATE_CHANGE_DATE, FND_API.G_MISS_DATE, NULL, X_FIRST_RATE_CHANGE_DATE )
		,DECODE( X_NEXT_RATE_CHANGE_DATE, FND_API.G_MISS_DATE, NULL, X_NEXT_RATE_CHANGE_DATE )
		,DECODE( X_PERCENT_INCREASE, FND_API.G_MISS_NUM, NULL, X_PERCENT_INCREASE )
		,DECODE( X_PERCENT_INCREASE_TERM, FND_API.G_MISS_CHAR, NULL, X_PERCENT_INCREASE_TERM )
		,DECODE( X_PAYMENT_APPLICATION_ORDER, FND_API.G_MISS_CHAR, NULL, X_PAYMENT_APPLICATION_ORDER )
		,DECODE( X_PREPAY_PENALTY_FLAG, FND_API.G_MISS_CHAR, NULL, X_PREPAY_PENALTY_FLAG )
		,DECODE( X_PREPAY_PENALTY_DATE, FND_API.G_MISS_DATE, NULL, X_PREPAY_PENALTY_DATE )
		,DECODE( X_CEILING_RATE, FND_API.G_MISS_NUM, NULL, X_CEILING_RATE )
		,DECODE( X_FLOOR_RATE, FND_API.G_MISS_NUM, NULL, X_FLOOR_RATE )
		,DECODE( X_DELINQUENCY_THRESHOLD_NUMBER, FND_API.G_MISS_NUM, NULL, X_DELINQUENCY_THRESHOLD_NUMBER )
		,DECODE( X_DELINQUENCY_THRESHOLD_AMOUNT, FND_API.G_MISS_NUM, NULL, X_DELINQUENCY_THRESHOLD_AMOUNT )
		,DECODE( X_CALCULATION_METHOD, FND_API.G_MISS_CHAR, NULL, X_CALCULATION_METHOD )
		,DECODE( X_REAMORTIZE_UNDER_PAYMENT, FND_API.G_MISS_CHAR, NULL, X_REAMORTIZE_UNDER_PAYMENT )
		,DECODE( X_REAMORTIZE_OVER_PAYMENT, FND_API.G_MISS_CHAR, NULL, X_REAMORTIZE_OVER_PAYMENT )
		,DECODE( X_REAMORTIZE_WITH_INTEREST, FND_API.G_MISS_CHAR, NULL, X_REAMORTIZE_WITH_INTEREST )
		,DECODE( X_LOAN_PAYMENT_FREQUENCY, FND_API.G_MISS_CHAR, NULL, X_LOAN_PAYMENT_FREQUENCY )
		,DECODE( X_INTEREST_COMPOUNDING_FREQ, FND_API.G_MISS_CHAR, NULL, X_INTEREST_COMPOUNDING_FREQ )
		,DECODE( X_AMORTIZATION_FREQUENCY, FND_API.G_MISS_CHAR, NULL, X_AMORTIZATION_FREQUENCY )
		,DECODE( X_NUMBER_GRACE_DAYS, FND_API.G_MISS_NUM, NULL, X_NUMBER_GRACE_DAYS )
		,DECODE( X_RATE_TYPE, FND_API.G_MISS_CHAR, NULL, X_RATE_TYPE )
		,DECODE( X_INDEX_NAME, FND_API.G_MISS_CHAR, NULL, X_INDEX_NAME )
		,DECODE( X_ADJUSTMENT_FREQUENCY, FND_API.G_MISS_NUM, NULL, X_ADJUSTMENT_FREQUENCY )
		,DECODE( X_ADJUSTMENT_FREQUENCY_TYPE, FND_API.G_MISS_CHAR, NULL, X_ADJUSTMENT_FREQUENCY_TYPE )
		,DECODE( X_FIXED_RATE_PERIOD, FND_API.G_MISS_NUM, NULL, X_FIXED_RATE_PERIOD )
		,DECODE( X_FIXED_RATE_PERIOD_TYPE, FND_API.G_MISS_CHAR, NULL, X_FIXED_RATE_PERIOD_TYPE )
		,DECODE( X_FIRST_PAYMENT_DATE, FND_API.G_MISS_DATE, NULL, X_FIRST_PAYMENT_DATE )
		,DECODE( X_NEXT_PAYMENT_DUE_DATE, FND_API.G_MISS_DATE, NULL, X_NEXT_PAYMENT_DUE_DATE )
		,DECODE( X_OPEN_FIRST_PAYMENT_DATE, FND_API.G_MISS_DATE, NULL, X_OPEN_FIRST_PAYMENT_DATE )
		,DECODE( X_OPEN_PAYMENT_FREQUENCY, FND_API.G_MISS_CHAR, NULL, X_OPEN_PAYMENT_FREQUENCY )
		,DECODE( X_OPEN_NEXT_PAYMENT_DATE, FND_API.G_MISS_DATE, NULL, X_OPEN_NEXT_PAYMENT_DATE )
		,DECODE( X_LOCK_IN_DATE, FND_API.G_MISS_DATE, NULL, X_LOCK_IN_DATE )
		,DECODE( X_LOCK_TO_DATE, FND_API.G_MISS_DATE, NULL, X_LOCK_TO_DATE )
		,DECODE( X_RATE_CHANGE_FREQUENCY, FND_API.G_MISS_CHAR, NULL, X_RATE_CHANGE_FREQUENCY )
		,DECODE( X_INDEX_RATE_ID, FND_API.G_MISS_NUM, NULL, X_INDEX_RATE_ID )
		,DECODE( X_PERCENT_INCREASE_LIFE, FND_API.G_MISS_NUM, NULL, X_PERCENT_INCREASE_LIFE )
		,DECODE( X_FIRST_PERCENT_INCREASE, FND_API.G_MISS_NUM, NULL, X_FIRST_PERCENT_INCREASE )
		,DECODE( X_OPEN_PERCENT_INCREASE, FND_API.G_MISS_NUM, NULL, X_OPEN_PERCENT_INCREASE )
		,DECODE( X_OPEN_PERCENT_INCREASE_LIFE, FND_API.G_MISS_NUM, NULL, X_OPEN_PERCENT_INCREASE_LIFE )
		,DECODE( X_OPEN_FIRST_PERCENT_INCREASE, FND_API.G_MISS_NUM, NULL, X_OPEN_FIRST_PERCENT_INCREASE )
		,DECODE( X_PMT_APPL_ORDER_SCOPE, FND_API.G_MISS_CHAR, NULL, X_PMT_APPL_ORDER_SCOPE )
		,DECODE( X_OPEN_CEILING_RATE, FND_API.G_MISS_NUM, NULL, X_OPEN_CEILING_RATE )
		,DECODE( X_OPEN_FLOOR_RATE, FND_API.G_MISS_NUM, NULL, X_OPEN_FLOOR_RATE )
		,DECODE( X_OPEN_INDEX_DATE, FND_API.G_MISS_DATE, NULL, X_OPEN_INDEX_DATE )
		,DECODE( X_TERM_INDEX_DATE, FND_API.G_MISS_DATE, NULL, X_TERM_INDEX_DATE )
		,DECODE( X_OPEN_PROJECTED_RATE, FND_API.G_MISS_NUM, NULL, X_OPEN_PROJECTED_RATE )
		,DECODE( X_TERM_PROJECTED_RATE, FND_API.G_MISS_NUM, NULL, X_TERM_PROJECTED_RATE )
	        ,DECODE( X_PAYMENT_CALC_METHOD, FND_API.G_MISS_CHAR, NULL, X_PAYMENT_CALC_METHOD )
		,DECODE( X_CUSTOM_CALC_METHOD, FND_API.G_MISS_CHAR, NULL, X_CUSTOM_CALC_METHOD )
		,DECODE( X_ORIG_PAY_CALC_METHOD, FND_API.G_MISS_CHAR, NULL, X_ORIG_PAY_CALC_METHOD )
		,DECODE( X_PRIN_FIRST_PAY_DATE, FND_API.G_MISS_DATE, NULL, X_PRIN_FIRST_PAY_DATE )
		,DECODE( X_PRIN_PAYMENT_FREQUENCY, FND_API.G_MISS_CHAR, NULL, X_PRIN_PAYMENT_FREQUENCY )
		,DECODE( X_PENAL_INT_RATE, FND_API.G_MISS_NUM, NULL, X_PENAL_INT_RATE )
                ,DECODE( X_PENAL_INT_GRACE_DAYS, FND_API.G_MISS_NUM, NULL, X_PENAL_INT_GRACE_DAYS )
		,DECODE( X_CALC_ADD_INT_UNPAID_PRIN, FND_API.G_MISS_CHAR, NULL, X_CALC_ADD_INT_UNPAID_PRIN)
		,DECODE( X_CALC_ADD_INT_UNPAID_INT, FND_API.G_MISS_CHAR, NULL, X_CALC_ADD_INT_UNPAID_INT)
		,DECODE( X_REAMORTIZE_ON_FUNDING, FND_API.G_MISS_CHAR, NULL, X_REAMORTIZE_ON_FUNDING)

        ) RETURNING
            TERM_ID
        INTO
            X_TERM_ID;

END Insert_Row;

PROCEDURE Update_Row(
	X_Rowid				  IN OUT NOCOPY VARCHAR2,
	X_TERM_ID                         IN NUMBER,
	X_LOAN_ID                         IN NUMBER,
	X_DAY_COUNT_METHOD                IN VARCHAR2,
	X_BASED_ON_BALANCE                IN VARCHAR2,
	X_FIRST_RATE_CHANGE_DATE          IN DATE,
	X_NEXT_RATE_CHANGE_DATE           IN DATE,
	X_PERCENT_INCREASE                IN NUMBER,
	X_PERCENT_INCREASE_TERM           IN VARCHAR2,
	X_PAYMENT_APPLICATION_ORDER       IN VARCHAR2,
	X_PREPAY_PENALTY_FLAG             IN VARCHAR2,
	X_PREPAY_PENALTY_DATE             IN DATE,
	X_CEILING_RATE                    IN NUMBER,
	X_FLOOR_RATE                      IN NUMBER,
	X_DELINQUENCY_THRESHOLD_NUMBER    IN NUMBER,
	X_DELINQUENCY_THRESHOLD_AMOUNT    IN NUMBER,
	X_CALCULATION_METHOD              IN VARCHAR2,
	X_REAMORTIZE_UNDER_PAYMENT        IN VARCHAR2,
	X_REAMORTIZE_OVER_PAYMENT        IN VARCHAR2,
	X_REAMORTIZE_WITH_INTEREST        IN VARCHAR2,
	X_LOAN_PAYMENT_FREQUENCY          IN VARCHAR2,
	X_INTEREST_COMPOUNDING_FREQ       IN VARCHAR2,
	X_OBJECT_VERSION_NUMBER           IN NUMBER,
	X_AMORTIZATION_FREQUENCY          IN VARCHAR2,
	X_NUMBER_GRACE_DAYS               IN NUMBER,
	X_RATE_TYPE                       IN VARCHAR2,
	X_INDEX_NAME                      IN VARCHAR2,
	X_ADJUSTMENT_FREQUENCY            IN NUMBER,
	X_ADJUSTMENT_FREQUENCY_TYPE       IN VARCHAR2,
	X_FIXED_RATE_PERIOD               IN NUMBER,
	X_FIXED_RATE_PERIOD_TYPE          IN VARCHAR2,
	X_FIRST_PAYMENT_DATE		  IN DATE,
	X_NEXT_PAYMENT_DUE_DATE		  IN DATE,
	X_OPEN_FIRST_PAYMENT_DATE         IN DATE,
	X_OPEN_PAYMENT_FREQUENCY          IN VARCHAR2,
	X_OPEN_NEXT_PAYMENT_DATE          IN DATE,
	X_LOCK_IN_DATE			  IN DATE,
	X_LOCK_TO_DATE			  IN DATE,
	X_RATE_CHANGE_FREQUENCY		  IN VARCHAR2,
	X_INDEX_RATE_ID			  IN NUMBER,
 	X_PERCENT_INCREASE_LIFE           IN NUMBER,
	X_FIRST_PERCENT_INCREASE          IN NUMBER,
	X_OPEN_PERCENT_INCREASE           IN NUMBER,
	X_OPEN_PERCENT_INCREASE_LIFE      IN NUMBER,
	X_OPEN_FIRST_PERCENT_INCREASE     IN NUMBER,
	X_PMT_APPL_ORDER_SCOPE            IN VARCHAR2,
	X_OPEN_CEILING_RATE               IN NUMBER,
	X_OPEN_FLOOR_RATE                 IN NUMBER,
	X_OPEN_INDEX_DATE                 IN DATE,
	X_TERM_INDEX_DATE                 IN DATE,
	X_OPEN_PROJECTED_RATE             IN NUMBER,
	X_TERM_PROJECTED_RATE             IN NUMBER,
	X_PAYMENT_CALC_METHOD	          IN VARCHAR2,
	X_CUSTOM_CALC_METHOD		  IN VARCHAR2,
	X_ORIG_PAY_CALC_METHOD            IN VARCHAR2,
	X_PRIN_FIRST_PAY_DATE		  IN DATE,
	X_PRIN_PAYMENT_FREQUENCY          IN VARCHAR2,
        X_PENAL_INT_RATE                  IN NUMBER,
        X_PENAL_INT_GRACE_DAYS            IN NUMBER,
	X_CALC_ADD_INT_UNPAID_PRIN	  IN VARCHAR2,
	X_CALC_ADD_INT_UNPAID_INT	  IN VARCHAR2,
	X_REAMORTIZE_ON_FUNDING           IN VARCHAR2


) IS
BEGIN
        --Call to record history
        LNS_LOAN_HISTORY_PUB.log_record_pre(
                p_id => X_TERM_ID,
                p_primary_key_name => 'TERM_ID',
                p_table_name => 'LNS_TERMS'
        );

	UPDATE LNS_TERMS SET
		TERM_ID = DECODE( X_TERM_ID, NULL, TERM_ID, FND_API.G_MISS_NUM, NULL, X_TERM_ID )
		,LOAN_ID = DECODE( X_LOAN_ID, NULL, LOAN_ID, FND_API.G_MISS_NUM, NULL, X_LOAN_ID )
		,LAST_UPDATE_DATE = LNS_UTILITY_PUB.LAST_UPDATE_DATE
		,LAST_UPDATED_BY = LNS_UTILITY_PUB.LAST_UPDATED_BY
		,LAST_UPDATE_LOGIN = LNS_UTILITY_PUB.LAST_UPDATE_LOGIN
		,OBJECT_VERSION_NUMBER = DECODE( X_OBJECT_VERSION_NUMBER, NULL, OBJECT_VERSION_NUMBER, FND_API.G_MISS_NUM, NULL, X_OBJECT_VERSION_NUMBER )
		,DAY_COUNT_METHOD = DECODE( X_DAY_COUNT_METHOD, NULL, DAY_COUNT_METHOD, FND_API.G_MISS_NUM, NULL, X_DAY_COUNT_METHOD )
		,BASED_ON_BALANCE = DECODE( X_BASED_ON_BALANCE, NULL, BASED_ON_BALANCE, FND_API.G_MISS_NUM, NULL, X_BASED_ON_BALANCE )
		,FIRST_RATE_CHANGE_DATE = DECODE( X_FIRST_RATE_CHANGE_DATE, NULL, FIRST_RATE_CHANGE_DATE, FND_API.G_MISS_NUM, NULL, X_FIRST_RATE_CHANGE_DATE )
		,NEXT_RATE_CHANGE_DATE = DECODE( X_NEXT_RATE_CHANGE_DATE, NULL, NEXT_RATE_CHANGE_DATE, FND_API.G_MISS_NUM, NULL, X_NEXT_RATE_CHANGE_DATE )
		,PERCENT_INCREASE = DECODE( X_PERCENT_INCREASE, NULL, PERCENT_INCREASE, FND_API.G_MISS_NUM, NULL, X_PERCENT_INCREASE )
		,PERCENT_INCREASE_TERM = DECODE( X_PERCENT_INCREASE_TERM, NULL, PERCENT_INCREASE_TERM, FND_API.G_MISS_NUM, NULL, X_PERCENT_INCREASE_TERM )
		,PAYMENT_APPLICATION_ORDER = DECODE( X_PAYMENT_APPLICATION_ORDER, NULL, PAYMENT_APPLICATION_ORDER, FND_API.G_MISS_NUM, NULL, X_PAYMENT_APPLICATION_ORDER )
		,PREPAY_PENALTY_FLAG = DECODE( X_PREPAY_PENALTY_FLAG, NULL, PREPAY_PENALTY_FLAG, FND_API.G_MISS_NUM, NULL, X_PREPAY_PENALTY_FLAG )
		,PREPAY_PENALTY_DATE = DECODE( X_PREPAY_PENALTY_DATE, NULL, PREPAY_PENALTY_DATE, FND_API.G_MISS_NUM, NULL, X_PREPAY_PENALTY_DATE )
		,CEILING_RATE = DECODE( X_CEILING_RATE, NULL, CEILING_RATE, FND_API.G_MISS_NUM, NULL, X_CEILING_RATE )
		,FLOOR_RATE = DECODE( X_FLOOR_RATE, NULL, FLOOR_RATE, FND_API.G_MISS_NUM, NULL, X_FLOOR_RATE )
		,DELINQUENCY_THRESHOLD_NUMBER = DECODE( X_DELINQUENCY_THRESHOLD_NUMBER, NULL, DELINQUENCY_THRESHOLD_NUMBER, FND_API.G_MISS_NUM, NULL, X_DELINQUENCY_THRESHOLD_NUMBER )
		,DELINQUENCY_THRESHOLD_AMOUNT = DECODE( X_DELINQUENCY_THRESHOLD_AMOUNT, NULL, DELINQUENCY_THRESHOLD_AMOUNT, FND_API.G_MISS_NUM, NULL, X_DELINQUENCY_THRESHOLD_AMOUNT )
		,CALCULATION_METHOD = DECODE( X_CALCULATION_METHOD, NULL, CALCULATION_METHOD, FND_API.G_MISS_NUM, NULL, X_CALCULATION_METHOD )
		,REAMORTIZE_UNDER_PAYMENT = DECODE( X_REAMORTIZE_UNDER_PAYMENT, NULL, REAMORTIZE_UNDER_PAYMENT, FND_API.G_MISS_NUM, NULL, X_REAMORTIZE_UNDER_PAYMENT )
		,REAMORTIZE_OVER_PAYMENT = DECODE( X_REAMORTIZE_OVER_PAYMENT, NULL, REAMORTIZE_OVER_PAYMENT, FND_API.G_MISS_NUM, NULL, X_REAMORTIZE_OVER_PAYMENT )
		,REAMORTIZE_WITH_INTEREST = DECODE( X_REAMORTIZE_WITH_INTEREST, NULL, REAMORTIZE_WITH_INTEREST, FND_API.G_MISS_NUM, NULL, X_REAMORTIZE_WITH_INTEREST )
		,LOAN_PAYMENT_FREQUENCY = DECODE( X_LOAN_PAYMENT_FREQUENCY, NULL, LOAN_PAYMENT_FREQUENCY, FND_API.G_MISS_NUM, NULL, X_LOAN_PAYMENT_FREQUENCY )
		,INTEREST_COMPOUNDING_FREQ = DECODE( X_INTEREST_COMPOUNDING_FREQ, NULL, INTEREST_COMPOUNDING_FREQ, FND_API.G_MISS_NUM, NULL, X_INTEREST_COMPOUNDING_FREQ )
		,AMORTIZATION_FREQUENCY = DECODE( X_AMORTIZATION_FREQUENCY, NULL, AMORTIZATION_FREQUENCY, FND_API.G_MISS_NUM, NULL, X_AMORTIZATION_FREQUENCY )
		,NUMBER_GRACE_DAYS = DECODE( X_NUMBER_GRACE_DAYS, NULL, NUMBER_GRACE_DAYS, FND_API.G_MISS_NUM, NULL, X_NUMBER_GRACE_DAYS )
		,RATE_TYPE = DECODE( X_RATE_TYPE, NULL, RATE_TYPE, FND_API.G_MISS_NUM, NULL, X_RATE_TYPE )
		,INDEX_NAME = DECODE( X_INDEX_NAME, NULL, INDEX_NAME, FND_API.G_MISS_NUM, NULL, X_INDEX_NAME )
		,ADJUSTMENT_FREQUENCY = DECODE( X_ADJUSTMENT_FREQUENCY, NULL, ADJUSTMENT_FREQUENCY, FND_API.G_MISS_NUM, NULL, X_ADJUSTMENT_FREQUENCY )
		,ADJUSTMENT_FREQUENCY_TYPE = DECODE( X_ADJUSTMENT_FREQUENCY_TYPE, NULL, ADJUSTMENT_FREQUENCY_TYPE, FND_API.G_MISS_NUM, NULL, X_ADJUSTMENT_FREQUENCY_TYPE )
		,FIXED_RATE_PERIOD = DECODE( X_FIXED_RATE_PERIOD, NULL, FIXED_RATE_PERIOD, FND_API.G_MISS_NUM, NULL, X_FIXED_RATE_PERIOD )
		,FIXED_RATE_PERIOD_TYPE = DECODE( X_FIXED_RATE_PERIOD_TYPE, NULL, FIXED_RATE_PERIOD_TYPE, FND_API.G_MISS_NUM, NULL, X_FIXED_RATE_PERIOD_TYPE )
		,FIRST_PAYMENT_DATE = DECODE( X_FIRST_PAYMENT_DATE, NULL, FIRST_PAYMENT_DATE, FND_API.G_MISS_NUM, NULL, X_FIRST_PAYMENT_DATE )
		,NEXT_PAYMENT_DUE_DATE = DECODE( X_NEXT_PAYMENT_DUE_DATE, NULL, NEXT_PAYMENT_DUE_DATE, FND_API.G_MISS_NUM, NULL, X_NEXT_PAYMENT_DUE_DATE )
		,OPEN_FIRST_PAYMENT_DATE = DECODE( X_OPEN_FIRST_PAYMENT_DATE, NULL, OPEN_FIRST_PAYMENT_DATE, FND_API.G_MISS_NUM, NULL, X_OPEN_FIRST_PAYMENT_DATE )
		,OPEN_PAYMENT_FREQUENCY = DECODE( X_OPEN_PAYMENT_FREQUENCY, NULL, OPEN_PAYMENT_FREQUENCY, FND_API.G_MISS_NUM, NULL, X_OPEN_PAYMENT_FREQUENCY )
		,OPEN_NEXT_PAYMENT_DATE = DECODE( X_OPEN_NEXT_PAYMENT_DATE, NULL, OPEN_NEXT_PAYMENT_DATE, FND_API.G_MISS_NUM, NULL, X_OPEN_NEXT_PAYMENT_DATE )
		,LOCK_IN_DATE = DECODE( X_LOCK_IN_DATE, NULL, LOCK_IN_DATE, FND_API.G_MISS_DATE, NULL, X_LOCK_IN_DATE )
		,LOCK_TO_DATE = DECODE( X_LOCK_TO_DATE, NULL, LOCK_TO_DATE, FND_API.G_MISS_DATE, NULL, X_LOCK_TO_DATE )
		,RATE_CHANGE_FREQUENCY = DECODE( X_RATE_CHANGE_FREQUENCY, NULL, RATE_CHANGE_FREQUENCY, FND_API.G_MISS_NUM, NULL, X_RATE_CHANGE_FREQUENCY )
		,INDEX_RATE_ID = DECODE( X_INDEX_RATE_ID, NULL, INDEX_RATE_ID, FND_API.G_MISS_NUM, NULL, X_INDEX_RATE_ID )
		,PERCENT_INCREASE_LIFE = DECODE( X_PERCENT_INCREASE_LIFE, NULL, PERCENT_INCREASE_LIFE, FND_API.G_MISS_NUM, NULL, X_PERCENT_INCREASE_LIFE )
		,FIRST_PERCENT_INCREASE = DECODE( X_FIRST_PERCENT_INCREASE, NULL, FIRST_PERCENT_INCREASE, FND_API.G_MISS_NUM, NULL, X_FIRST_PERCENT_INCREASE )
		,OPEN_PERCENT_INCREASE = DECODE( X_OPEN_PERCENT_INCREASE, NULL, OPEN_PERCENT_INCREASE, FND_API.G_MISS_NUM, NULL, X_OPEN_PERCENT_INCREASE )
		,OPEN_PERCENT_INCREASE_LIFE = DECODE( X_OPEN_PERCENT_INCREASE_LIFE, NULL, OPEN_PERCENT_INCREASE_LIFE, FND_API.G_MISS_NUM, NULL, X_OPEN_PERCENT_INCREASE_LIFE )
		,OPEN_FIRST_PERCENT_INCREASE = DECODE( X_OPEN_FIRST_PERCENT_INCREASE, NULL, OPEN_FIRST_PERCENT_INCREASE, FND_API.G_MISS_NUM, NULL, X_OPEN_FIRST_PERCENT_INCREASE )
		,PMT_APPL_ORDER_SCOPE = DECODE( X_PMT_APPL_ORDER_SCOPE, NULL, PMT_APPL_ORDER_SCOPE, FND_API.G_MISS_CHAR, NULL, X_PMT_APPL_ORDER_SCOPE )
		,OPEN_CEILING_RATE = DECODE( X_OPEN_CEILING_RATE, NULL, OPEN_CEILING_RATE, FND_API.G_MISS_NUM, NULL, X_OPEN_CEILING_RATE )
		,OPEN_FLOOR_RATE = DECODE( X_OPEN_FLOOR_RATE, NULL, OPEN_FLOOR_RATE, FND_API.G_MISS_NUM, NULL, X_OPEN_FLOOR_RATE )
		,OPEN_INDEX_DATE = DECODE( X_OPEN_INDEX_DATE, NULL, OPEN_INDEX_DATE, FND_API.G_MISS_DATE, NULL, X_OPEN_INDEX_DATE )
		,TERM_INDEX_DATE = DECODE( X_TERM_INDEX_DATE, NULL, TERM_INDEX_DATE, FND_API.G_MISS_DATE, NULL, X_TERM_INDEX_DATE )
		,OPEN_PROJECTED_RATE = DECODE( X_OPEN_PROJECTED_RATE, NULL, OPEN_PROJECTED_RATE, FND_API.G_MISS_NUM, NULL, X_OPEN_PROJECTED_RATE )
		,TERM_PROJECTED_RATE = DECODE( X_TERM_PROJECTED_RATE, NULL, TERM_PROJECTED_RATE, FND_API.G_MISS_NUM, NULL, X_TERM_PROJECTED_RATE )
	        ,PAYMENT_CALC_METHOD = DECODE( X_PAYMENT_CALC_METHOD, NULL, PAYMENT_CALC_METHOD, FND_API.G_MISS_CHAR, NULL, X_PAYMENT_CALC_METHOD )
		,CUSTOM_CALC_METHOD = DECODE( X_CUSTOM_CALC_METHOD, NULL, CUSTOM_CALC_METHOD, FND_API.G_MISS_CHAR, NULL, X_CUSTOM_CALC_METHOD )
	        ,ORIG_PAY_CALC_METHOD = DECODE( X_ORIG_PAY_CALC_METHOD, NULL, ORIG_PAY_CALC_METHOD, FND_API.G_MISS_CHAR, NULL, X_ORIG_PAY_CALC_METHOD )
		,PRIN_FIRST_PAY_DATE = DECODE( X_PRIN_FIRST_PAY_DATE, NULL, PRIN_FIRST_PAY_DATE, FND_API.G_MISS_NUM, NULL, X_PRIN_FIRST_PAY_DATE )
                ,PRIN_PAYMENT_FREQUENCY = DECODE( X_PRIN_PAYMENT_FREQUENCY, NULL, PRIN_PAYMENT_FREQUENCY, FND_API.G_MISS_NUM, NULL, X_PRIN_PAYMENT_FREQUENCY )
		,PENAL_INT_RATE = DECODE( X_PENAL_INT_RATE, NULL, PENAL_INT_RATE, FND_API.G_MISS_NUM, NULL, X_PENAL_INT_RATE )
                ,PENAL_INT_GRACE_DAYS = DECODE( X_PENAL_INT_GRACE_DAYS, NULL, PENAL_INT_GRACE_DAYS, FND_API.G_MISS_NUM, NULL, X_PENAL_INT_GRACE_DAYS )
		,CALC_ADD_INT_UNPAID_PRIN = DECODE( X_CALC_ADD_INT_UNPAID_PRIN, NULL, CALC_ADD_INT_UNPAID_PRIN, FND_API.G_MISS_CHAR, NULL, X_CALC_ADD_INT_UNPAID_PRIN)
		,CALC_ADD_INT_UNPAID_INT = DECODE( X_CALC_ADD_INT_UNPAID_INT, NULL, CALC_ADD_INT_UNPAID_INT, FND_API.G_MISS_CHAR, NULL, X_CALC_ADD_INT_UNPAID_INT)
		,REAMORTIZE_ON_FUNDING = DECODE( X_REAMORTIZE_ON_FUNDING, NULL, REAMORTIZE_ON_FUNDING, FND_API.G_MISS_CHAR, NULL, X_REAMORTIZE_ON_FUNDING)


		WHERE ROWID = X_Rowid;

	IF (SQL%NOTFOUND) THEN
		RAISE NO_DATA_FOUND;
	END IF;

        --Call to record history
        LNS_LOAN_HISTORY_PUB.log_record_post(
                p_id => X_TERM_ID,
                p_primary_key_name => 'TERM_ID',
                p_table_name => 'LNS_TERMS',
                p_loan_id => X_LOAN_ID
        );
END Update_Row;

PROCEDURE Lock_Row(
	X_Rowid				  IN VARCHAR2,
	X_TERM_ID                         IN NUMBER,
	X_LOAN_ID                         IN NUMBER,
	X_DAY_COUNT_METHOD                IN VARCHAR2,
	X_BASED_ON_BALANCE                IN VARCHAR2,
	X_FIRST_RATE_CHANGE_DATE          IN DATE,
	X_NEXT_RATE_CHANGE_DATE           IN DATE,
	X_PERCENT_INCREASE                IN NUMBER,
	X_PERCENT_INCREASE_TERM           IN VARCHAR2,
	X_PAYMENT_APPLICATION_ORDER       IN VARCHAR2,
	X_PREPAY_PENALTY_FLAG             IN VARCHAR2,
	X_PREPAY_PENALTY_DATE             IN DATE,
	X_CEILING_RATE                    IN NUMBER,
	X_FLOOR_RATE                      IN NUMBER,
	X_DELINQUENCY_THRESHOLD_NUMBER    IN NUMBER,
	X_DELINQUENCY_THRESHOLD_AMOUNT    IN NUMBER,
	X_CALCULATION_METHOD              IN VARCHAR2,
	X_REAMORTIZE_UNDER_PAYMENT        IN VARCHAR2,
	X_REAMORTIZE_OVER_PAYMENT        IN VARCHAR2,
	X_REAMORTIZE_WITH_INTEREST        IN VARCHAR2,
	X_LOAN_PAYMENT_FREQUENCY          IN VARCHAR2,
	X_INTEREST_COMPOUNDING_FREQ       IN VARCHAR2,
	X_CREATED_BY                      IN NUMBER,
	X_CREATION_DATE                   IN DATE,
	X_LAST_UPDATED_BY                 IN NUMBER,
	X_LAST_UPDATE_DATE                IN DATE,
	X_LAST_UPDATE_LOGIN               IN NUMBER,
	X_OBJECT_VERSION_NUMBER           IN NUMBER,
	X_AMORTIZATION_FREQUENCY          IN VARCHAR2,
	X_NUMBER_GRACE_DAYS               IN NUMBER,
	X_RATE_TYPE                       IN VARCHAR2,
	X_INDEX_NAME                      IN VARCHAR2,
	X_ADJUSTMENT_FREQUENCY            IN NUMBER,
	X_ADJUSTMENT_FREQUENCY_TYPE       IN VARCHAR2,
	X_FIXED_RATE_PERIOD               IN NUMBER,
	X_FIXED_RATE_PERIOD_TYPE          IN VARCHAR2,
	X_FIRST_PAYMENT_DATE		  IN DATE,
	X_NEXT_PAYMENT_DUE_DATE		  IN DATE,
	X_OPEN_FIRST_PAYMENT_DATE         IN DATE,
	X_OPEN_PAYMENT_FREQUENCY          IN VARCHAR2,
	X_OPEN_NEXT_PAYMENT_DATE          IN DATE,
	X_LOCK_IN_DATE			  IN DATE,
	X_LOCK_TO_DATE			  IN DATE,
	X_RATE_CHANGE_FREQUENCY		  IN VARCHAR2,
	X_INDEX_RATE_ID			  IN NUMBER,
 	X_PERCENT_INCREASE_LIFE           IN NUMBER,
	X_FIRST_PERCENT_INCREASE          IN NUMBER,
	X_OPEN_PERCENT_INCREASE           IN NUMBER,
	X_OPEN_PERCENT_INCREASE_LIFE      IN NUMBER,
	X_OPEN_FIRST_PERCENT_INCREASE     IN NUMBER,
	X_PMT_APPL_ORDER_SCOPE            IN VARCHAR2,
	X_OPEN_CEILING_RATE               IN NUMBER,
	X_OPEN_FLOOR_RATE                 IN NUMBER,
	X_OPEN_INDEX_DATE                 IN DATE,
	X_TERM_INDEX_DATE                 IN DATE,
	X_OPEN_PROJECTED_RATE             IN NUMBER,
	X_TERM_PROJECTED_RATE             IN NUMBER,
	X_PAYMENT_CALC_METHOD	          IN VARCHAR2,
	X_CUSTOM_CALC_METHOD              IN VARCHAR2,
	X_ORIG_PAY_CALC_METHOD            IN VARCHAR2,
	X_PRIN_FIRST_PAY_DATE		  IN DATE,
	X_PRIN_PAYMENT_FREQUENCY          IN VARCHAR2,
        X_PENAL_INT_RATE                  IN NUMBER,
        X_PENAL_INT_GRACE_DAYS            IN NUMBER,
	X_CALC_ADD_INT_UNPAID_PRIN	  IN VARCHAR2,
	X_CALC_ADD_INT_UNPAID_INT	  IN VARCHAR2,
	X_REAMORTIZE_ON_FUNDING           IN VARCHAR2

) IS
	CURSOR C IS SELECT * FROM LNS_TERMS
		WHERE rowid = x_rowid
		FOR UPDATE of LOAN_ID NOWAIT;
	Recinfo C%ROWTYPE;
BEGIN
	OPEN C;
	FETCH C INTO Recinfo;
	IF (C%NOTFOUND) THEN
		CLOSE C;
		FND_MESSAGE.Set_Name('FND', 'FORM_RECORD_DELETED');
		APP_EXCEPTION.Raise_Exception;
	END IF;
	CLOSE C;

	IF (
		(Recinfo.TERM_ID = X_TERM_ID)
		AND ( (Recinfo.OBJECT_VERSION_NUMBER = X_OBJECT_VERSION_NUMBER)
			OR ( (Recinfo.OBJECT_VERSION_NUMBER IS NULL)
				AND (X_OBJECT_VERSION_NUMBER IS NULL)))
	   ) THEN
		return;
	ELSE
		FND_MESSAGE.Set_Name('FND', 'FORM_RECORD_CHANGED');
		APP_EXCEPTION.Raise_Exception;
	END IF;
END Lock_Row;


PROCEDURE Select_Row (
	X_TERM_ID                         IN OUT NOCOPY NUMBER,
	X_LOAN_ID                         OUT NOCOPY NUMBER,
	X_DAY_COUNT_METHOD                OUT NOCOPY VARCHAR2,
	X_BASED_ON_BALANCE                OUT NOCOPY VARCHAR2,
	X_FIRST_RATE_CHANGE_DATE          OUT NOCOPY DATE,
	X_NEXT_RATE_CHANGE_DATE           OUT NOCOPY DATE,
	X_PERCENT_INCREASE                OUT NOCOPY NUMBER,
	X_PERCENT_INCREASE_TERM           OUT NOCOPY VARCHAR2,
	X_PAYMENT_APPLICATION_ORDER       OUT NOCOPY VARCHAR2,
	X_PREPAY_PENALTY_FLAG             OUT NOCOPY VARCHAR2,
	X_PREPAY_PENALTY_DATE             OUT NOCOPY DATE,
	X_CEILING_RATE                    OUT NOCOPY NUMBER,
	X_FLOOR_RATE                      OUT NOCOPY NUMBER,
	X_DELINQUENCY_THRESHOLD_NUMBER    OUT NOCOPY NUMBER,
	X_DELINQUENCY_THRESHOLD_AMOUNT    OUT NOCOPY NUMBER,
	X_CALCULATION_METHOD              OUT NOCOPY VARCHAR2,
	X_REAMORTIZE_UNDER_PAYMENT        OUT NOCOPY VARCHAR2,
	X_REAMORTIZE_OVER_PAYMENT         OUT NOCOPY VARCHAR2,
	X_REAMORTIZE_WITH_INTEREST        OUT NOCOPY VARCHAR2,
	X_LOAN_PAYMENT_FREQUENCY          OUT NOCOPY VARCHAR2,
	X_INTEREST_COMPOUNDING_FREQ       OUT NOCOPY VARCHAR2,
	X_AMORTIZATION_FREQUENCY          OUT NOCOPY VARCHAR2,
	X_NUMBER_GRACE_DAYS               OUT NOCOPY NUMBER,
	X_RATE_TYPE                       OUT NOCOPY VARCHAR2,
	X_INDEX_NAME                      OUT NOCOPY VARCHAR2,
	X_ADJUSTMENT_FREQUENCY            OUT NOCOPY NUMBER,
	X_ADJUSTMENT_FREQUENCY_TYPE       OUT NOCOPY VARCHAR2,
	X_FIXED_RATE_PERIOD               OUT NOCOPY NUMBER,
	X_FIXED_RATE_PERIOD_TYPE          OUT NOCOPY VARCHAR2,
	X_FIRST_PAYMENT_DATE		  OUT NOCOPY DATE,
	X_NEXT_PAYMENT_DUE_DATE		  OUT NOCOPY DATE,
	X_OPEN_FIRST_PAYMENT_DATE         OUT NOCOPY DATE,
	X_OPEN_PAYMENT_FREQUENCY          OUT NOCOPY VARCHAR2,
	X_OPEN_NEXT_PAYMENT_DATE          OUT NOCOPY DATE,
	X_LOCK_IN_DATE			  OUT NOCOPY DATE,
	X_LOCK_TO_DATE			  OUT NOCOPY DATE,
	X_RATE_CHANGE_FREQUENCY		  OUT NOCOPY VARCHAR2,
	X_INDEX_RATE_ID			  OUT NOCOPY NUMBER,
 	X_PERCENT_INCREASE_LIFE           OUT NOCOPY NUMBER,
	X_FIRST_PERCENT_INCREASE          OUT NOCOPY NUMBER,
	X_OPEN_PERCENT_INCREASE           OUT NOCOPY NUMBER,
	X_OPEN_PERCENT_INCREASE_LIFE      OUT NOCOPY NUMBER,
	X_OPEN_FIRST_PERCENT_INCREASE     OUT NOCOPY NUMBER,
	X_PMT_APPL_ORDER_SCOPE            OUT NOCOPY VARCHAR2,
	X_OPEN_CEILING_RATE               OUT NOCOPY NUMBER,
	X_OPEN_FLOOR_RATE                 OUT NOCOPY NUMBER,
	X_OPEN_INDEX_DATE                 OUT NOCOPY DATE,
	X_TERM_INDEX_DATE                 OUT NOCOPY DATE,
	X_OPEN_PROJECTED_RATE             OUT NOCOPY NUMBER,
	X_TERM_PROJECTED_RATE             OUT NOCOPY NUMBER,
	X_PAYMENT_CALC_METHOD	          OUT NOCOPY VARCHAR2,
	X_CUSTOM_CALC_METHOD              OUT NOCOPY VARCHAR2,
	X_ORIG_PAY_CALC_METHOD            OUT NOCOPY VARCHAR2,
	X_PRIN_FIRST_PAY_DATE		  OUT NOCOPY DATE,
	X_PRIN_PAYMENT_FREQUENCY          OUT NOCOPY VARCHAR2,
        X_PENAL_INT_RATE                  OUT NOCOPY NUMBER,
        X_PENAL_INT_GRACE_DAYS            OUT NOCOPY NUMBER,
	X_CALC_ADD_INT_UNPAID_PRIN	  OUT NOCOPY VARCHAR2,
	X_CALC_ADD_INT_UNPAID_INT	  OUT NOCOPY VARCHAR2,
	X_REAMORTIZE_ON_FUNDING           OUT NOCOPY VARCHAR2


) IS

BEGIN

    SELECT
	NVL( TERM_ID, FND_API.G_MISS_NUM ),
	NVL( LOAN_ID, FND_API.G_MISS_NUM ),
	NVL( DAY_COUNT_METHOD, FND_API.G_MISS_CHAR ),
	NVL( BASED_ON_BALANCE, FND_API.G_MISS_CHAR ),
	NVL( FIRST_RATE_CHANGE_DATE, FND_API.G_MISS_DATE ),
	NVL( NEXT_RATE_CHANGE_DATE, FND_API.G_MISS_DATE ),
	NVL( PERCENT_INCREASE, FND_API.G_MISS_NUM ),
	NVL( PERCENT_INCREASE_TERM, FND_API.G_MISS_CHAR ),
	NVL( PAYMENT_APPLICATION_ORDER, FND_API.G_MISS_CHAR ),
	NVL( PREPAY_PENALTY_FLAG, FND_API.G_MISS_CHAR ),
	NVL( PREPAY_PENALTY_DATE, FND_API.G_MISS_DATE ),
	NVL( CEILING_RATE, FND_API.G_MISS_NUM ),
	NVL( FLOOR_RATE, FND_API.G_MISS_NUM ),
	NVL( DELINQUENCY_THRESHOLD_NUMBER, FND_API.G_MISS_NUM ),
	NVL( DELINQUENCY_THRESHOLD_AMOUNT, FND_API.G_MISS_NUM ),
	NVL( CALCULATION_METHOD, FND_API.G_MISS_CHAR ),
	NVL( REAMORTIZE_UNDER_PAYMENT, FND_API.G_MISS_CHAR ),
	NVL( REAMORTIZE_OVER_PAYMENT, FND_API.G_MISS_CHAR ),
	NVL( REAMORTIZE_WITH_INTEREST, FND_API.G_MISS_CHAR ),
	NVL( LOAN_PAYMENT_FREQUENCY, FND_API.G_MISS_CHAR ),
	NVL( INTEREST_COMPOUNDING_FREQ, FND_API.G_MISS_CHAR ),
	NVL( AMORTIZATION_FREQUENCY, FND_API.G_MISS_CHAR ),
	NVL( NUMBER_GRACE_DAYS, FND_API.G_MISS_NUM ),
	NVL( RATE_TYPE, FND_API.G_MISS_CHAR ),
	NVL( INDEX_NAME, FND_API.G_MISS_CHAR ),
	NVL( ADJUSTMENT_FREQUENCY, FND_API.G_MISS_NUM ),
	NVL( ADJUSTMENT_FREQUENCY_TYPE, FND_API.G_MISS_CHAR ),
	NVL( FIXED_RATE_PERIOD, FND_API.G_MISS_NUM ),
	NVL( FIXED_RATE_PERIOD_TYPE, FND_API.G_MISS_CHAR ),
	NVL( FIRST_PAYMENT_DATE, FND_API.G_MISS_DATE ),
	NVL( NEXT_PAYMENT_DUE_DATE, FND_API.G_MISS_DATE ),
	NVL( OPEN_FIRST_PAYMENT_DATE, FND_API.G_MISS_DATE ),
	NVL( OPEN_PAYMENT_FREQUENCY, FND_API.G_MISS_CHAR ),
	NVL( OPEN_NEXT_PAYMENT_DATE, FND_API.G_MISS_DATE ),
	NVL( LOCK_IN_DATE, FND_API.G_MISS_DATE ),
	NVL( LOCK_TO_DATE, FND_API.G_MISS_DATE ),
	NVL( RATE_CHANGE_FREQUENCY, FND_API.G_MISS_CHAR ),
	NVL( INDEX_RATE_ID, FND_API.G_MISS_NUM ),
	NVL( PERCENT_INCREASE_LIFE, FND_API.G_MISS_NUM ),
	NVL( FIRST_PERCENT_INCREASE, FND_API.G_MISS_NUM ),
	NVL( OPEN_PERCENT_INCREASE, FND_API.G_MISS_NUM ),
	NVL( OPEN_PERCENT_INCREASE_LIFE, FND_API.G_MISS_NUM ),
	NVL( OPEN_FIRST_PERCENT_INCREASE, FND_API.G_MISS_NUM ),
	NVL( PMT_APPL_ORDER_SCOPE, FND_API.G_MISS_CHAR ),
	NVL( OPEN_CEILING_RATE, FND_API.G_MISS_NUM ),
	NVL( OPEN_FLOOR_RATE, FND_API.G_MISS_NUM ),
	NVL( OPEN_INDEX_DATE, FND_API.G_MISS_DATE ),
	NVL( TERM_INDEX_DATE, FND_API.G_MISS_DATE ),
	NVL( OPEN_PROJECTED_RATE, FND_API.G_MISS_NUM ),
	NVL( TERM_PROJECTED_RATE, FND_API.G_MISS_NUM ),
	NVL( PAYMENT_CALC_METHOD, FND_API.G_MISS_CHAR),
	NVL( CUSTOM_CALC_METHOD, FND_API.G_MISS_CHAR ),
	NVL( ORIG_PAY_CALC_METHOD, FND_API.G_MISS_CHAR ),
	NVL( PRIN_FIRST_PAY_DATE, FND_API.G_MISS_DATE ),
	NVL( PRIN_PAYMENT_FREQUENCY, FND_API.G_MISS_CHAR ),
        NVL( PENAL_INT_RATE, FND_API.G_MISS_NUM ),
        NVL( PENAL_INT_GRACE_DAYS, FND_API.G_MISS_NUM ),
	NVL( CALC_ADD_INT_UNPAID_PRIN, FND_API.G_MISS_CHAR ),
	NVL( CALC_ADD_INT_UNPAID_INT,  FND_API.G_MISS_CHAR ),
	NVL( REAMORTIZE_ON_FUNDING,  FND_API.G_MISS_CHAR )

    INTO
	X_TERM_ID,
	X_LOAN_ID,
	X_DAY_COUNT_METHOD,
	X_BASED_ON_BALANCE,
	X_FIRST_RATE_CHANGE_DATE,
	X_NEXT_RATE_CHANGE_DATE,
	X_PERCENT_INCREASE,
	X_PERCENT_INCREASE_TERM,
	X_PAYMENT_APPLICATION_ORDER,
	X_PREPAY_PENALTY_FLAG,
	X_PREPAY_PENALTY_DATE,
	X_CEILING_RATE,
	X_FLOOR_RATE,
	X_DELINQUENCY_THRESHOLD_NUMBER,
	X_DELINQUENCY_THRESHOLD_AMOUNT,
	X_CALCULATION_METHOD,
	X_REAMORTIZE_UNDER_PAYMENT,
	X_REAMORTIZE_OVER_PAYMENT,
	X_REAMORTIZE_WITH_INTEREST,
	X_LOAN_PAYMENT_FREQUENCY,
	X_INTEREST_COMPOUNDING_FREQ,
	X_AMORTIZATION_FREQUENCY,
	X_NUMBER_GRACE_DAYS,
	X_RATE_TYPE,
	X_INDEX_NAME,
	X_ADJUSTMENT_FREQUENCY,
	X_ADJUSTMENT_FREQUENCY_TYPE,
	X_FIXED_RATE_PERIOD,
	X_FIXED_RATE_PERIOD_TYPE,
	X_FIRST_PAYMENT_DATE,
	X_NEXT_PAYMENT_DUE_DATE,
	X_OPEN_FIRST_PAYMENT_DATE,
	X_OPEN_PAYMENT_FREQUENCY,
	X_OPEN_NEXT_PAYMENT_DATE,
	X_LOCK_IN_DATE,
	X_LOCK_TO_DATE,
    	X_RATE_CHANGE_FREQUENCY,
    	X_INDEX_RATE_ID,
	X_PERCENT_INCREASE_LIFE,
	X_FIRST_PERCENT_INCREASE,
	X_OPEN_PERCENT_INCREASE,
	X_OPEN_PERCENT_INCREASE_LIFE,
	X_OPEN_FIRST_PERCENT_INCREASE,
	X_PMT_APPL_ORDER_SCOPE,
	X_OPEN_CEILING_RATE,
	X_OPEN_FLOOR_RATE,
	X_OPEN_INDEX_DATE,
	X_TERM_INDEX_DATE,
	X_OPEN_PROJECTED_RATE,
	X_TERM_PROJECTED_RATE,
	X_PAYMENT_CALC_METHOD,
	X_CUSTOM_CALC_METHOD,
	X_ORIG_PAY_CALC_METHOD,
	X_PRIN_FIRST_PAY_DATE,
	X_PRIN_PAYMENT_FREQUENCY,
        X_PENAL_INT_RATE,
        X_PENAL_INT_GRACE_DAYS,
	X_CALC_ADD_INT_UNPAID_PRIN,
	X_CALC_ADD_INT_UNPAID_INT,
	X_REAMORTIZE_ON_FUNDING
	FROM LNS_TERMS
	WHERE TERM_ID = X_TERM_ID;

EXCEPTION
    WHEN NO_DATA_FOUND THEN
        FND_MESSAGE.SET_NAME( 'LNS', 'LNS_API_NO_RECORD' );
        FND_MESSAGE.SET_TOKEN( 'RECORD', 'loan_terms_rec');
        FND_MESSAGE.SET_TOKEN( 'VALUE', TO_CHAR( X_TERM_ID ) );
        FND_MSG_PUB.ADD;
        RAISE FND_API.G_EXC_ERROR;

END Select_Row;

PROCEDURE Delete_Row (
    X_TERM_ID                         IN     NUMBER
) IS

BEGIN

    DELETE FROM LNS_TERMS
    WHERE TERM_ID = X_TERM_ID;

    IF ( SQL%NOTFOUND ) THEN
        RAISE NO_DATA_FOUND;
    END IF;

END Delete_Row;

END LNS_TERMS_PKG;

/
