--------------------------------------------------------
--  DDL for Package Body IGC_IGCBDTRR_XMLP_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "APPS"."IGC_IGCBDTRR_XMLP_PKG" AS
/* $Header: IGCBDTRRB.pls 120.0.12010000.1 2008/07/28 06:27:41 appldev ship $ */
  FUNCTION AFTERREPORT RETURN BOOLEAN IS
  BEGIN
    /*SRW.USER_EXIT('FND SRWEXIT')*/NULL;
    RETURN (TRUE);
  END AFTERREPORT;

  FUNCTION STRUCT_NUM_P RETURN VARCHAR2 IS
  BEGIN
    RETURN STRUCT_NUM;
  END STRUCT_NUM_P;

  FUNCTION SET_OF_BOOKS_NAME_P RETURN VARCHAR2 IS
  BEGIN
    RETURN SET_OF_BOOKS_NAME;
  END SET_OF_BOOKS_NAME_P;

  FUNCTION FUNCTIONAL_CURRENCY_P RETURN VARCHAR2 IS
  BEGIN
    RETURN FUNCTIONAL_CURRENCY;
  END FUNCTIONAL_CURRENCY_P;

  FUNCTION FLEX_SELECT_ALL_P RETURN VARCHAR2 IS
  BEGIN
    RETURN FLEX_SELECT_ALL;
  END FLEX_SELECT_ALL_P;

FUNCTION BEFOREREPORT RETURN BOOLEAN IS
BEGIN

DECLARE
  ERRBUF  VARCHAR2(132);
  ERRBUF2 VARCHAR2(132);
BEGIN
  --SRW.USER_EXIT('FND SRWINIT');

  /* GET THE SET OF BOOKS INFO */
  DECLARE
    COA_ID       NUMBER;
    SOB_NAME     VARCHAR2( 30 );
    FUNC_CURR   VARCHAR2( 15 );
  BEGIN
    GL_INFO.GL_GET_LEDGER_INFO(P_SET_OF_BOOKS_ID,
                              COA_ID,
                              SOB_NAME,
                              FUNC_CURR,
                              ERRBUF );


    IF (ERRBUF IS NOT NULL) THEN
      ERRBUF2 := GL_MESSAGE.GET_MESSAGE(
                 'GL_PLL_ROUTINE_ERROR',
                 'N',
                 'ROUTINE',
                 'GL_INFO.GL_GET_SET_OF_BOOKS_INFO' );
     -- SRW.MESSAGE('00', ERRBUF2);
     -- SRW.MESSAGE('00', ERRBUF);
     -- RAISE SRW.PROGRAM_ABORT;
    END IF;

    STRUCT_NUM := COA_ID;
    SET_OF_BOOKS_NAME := SOB_NAME;
    FUNCTIONAL_CURRENCY := FUNC_CURR;
  END;

 /* SRW.REFERENCE( :STRUCT_NUM );
  SRW.USER_EXIT( 'FND FLEXSQL
                  CODE = "GL#"
                  NUM = ":STRUCT_NUM"
                  APPL_SHORT_NAME = "SQLGL"
                  OUTPUT = ":FLEX_SELECT_ALL"
                  MODE = "SELECT"
                  DISPLAY = "ALL" ' );*/

END;  RETURN (TRUE);
END;

END IGC_IGCBDTRR_XMLP_PKG;

/
