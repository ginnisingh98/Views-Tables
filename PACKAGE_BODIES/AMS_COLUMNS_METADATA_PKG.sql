--------------------------------------------------------
--  DDL for Package Body AMS_COLUMNS_METADATA_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "APPS"."AMS_COLUMNS_METADATA_PKG" as
/* $Header: amslcmdb.pls 120.1 2005/06/27 05:38:21 appldev ship $ */
procedure INSERT_ROW (
  X_ROWID in OUT NOCOPY VARCHAR2,
  X_COLUMNS_METADATA_ID in NUMBER,
  X_SEARCH_EXCLUSION_GROUP in VARCHAR2,
  X_SEARCH_OPERATOR_EXCLUSION_ID in NUMBER,
  X_SEARCH_COLSPAN in VARCHAR2,
  X_APPLICATION_ID in NUMBER,
  X_SEARCH_CONDITION_ALLOWED_FLA in VARCHAR2,
  X_HTML_FORM_PARAM in VARCHAR2,
  X_DB_TABLE_NAME in VARCHAR2,
  X_DB_COLUMN_NAME in VARCHAR2,
  X_SEARCH_TYPE in VARCHAR2,
  X_SEARCH_QUERY in VARCHAR2,
  X_SEARCH_PARAM1 in VARCHAR2,
  X_SECURITY_GROUP_ID in NUMBER,
  X_OBJECT_VERSION_NUMBER in NUMBER,
  X_OBJECT_ATTRIBUTE in VARCHAR2,
  X_OBJECT_TYPE in VARCHAR2,
  X_ACTIVITY_TYPE_CODE in VARCHAR2,
  X_AK_REGION_CODE in VARCHAR2,
  X_AK_ATTRIBUTE_CODE in VARCHAR2,
  X_SEEDED_FLAG in VARCHAR2,
  X_SEARCH_DISPLAY_ALLOWED_FLAG in VARCHAR2,
  X_SEARCH_GROUP in VARCHAR2,
  X_SEARCH_PARAM11 in VARCHAR2,
  X_SEARCH_PARAM12 in VARCHAR2,
  X_SEARCH_PARAM13 in VARCHAR2,
  X_SEARCH_PARAM14 in VARCHAR2,
  X_SEARCH_PARAM15 in VARCHAR2,
  X_OBJECT_RULE_ID in NUMBER,
  X_SEARCH_PARAM2 in VARCHAR2,
  X_SEARCH_PARAM3 in VARCHAR2,
  X_SEARCH_PARAM4 in VARCHAR2,
  X_SEARCH_PARAM5 in VARCHAR2,
  X_SEARCH_PARAM6 in VARCHAR2,
  X_SEARCH_PARAM7 in VARCHAR2,
  X_SEARCH_PARAM8 in VARCHAR2,
  X_SEARCH_PARAM9 in VARCHAR2,
  X_SEARCH_PARAM10 in VARCHAR2,
  X_SEARCH_DISPLAY_SCALE in VARCHAR2,
  X_CREATION_DATE in DATE,
  X_CREATED_BY in NUMBER,
  X_LAST_UPDATE_DATE in DATE,
  X_LAST_UPDATED_BY in NUMBER,
  X_LAST_UPDATE_LOGIN in NUMBER
) is

begin
  insert into AMS_COLUMNS_METADATA (
    SEARCH_EXCLUSION_GROUP,
    SEARCH_OPERATOR_EXCLUSION_ID,
    SEARCH_COLSPAN,
    APPLICATION_ID,
    SEARCH_CONDITION_ALLOWED_FLAG,
    HTML_FORM_PARAM,
    DB_TABLE_NAME,
    DB_COLUMN_NAME,
    SEARCH_TYPE,
    SEARCH_QUERY,
    SEARCH_PARAM1,
    LAST_UPDATE_DATE,
    --SECURITY_GROUP_ID,
    OBJECT_VERSION_NUMBER,
    OBJECT_ATTRIBUTE,
    OBJECT_TYPE,
    ACTIVITY_TYPE_CODE,
    AK_REGION_CODE,
    AK_ATTRIBUTE_CODE,
    SEEDED_FLAG,
    SEARCH_DISPLAY_ALLOWED_FLAG,
    SEARCH_GROUP,
    COLUMNS_METADATA_ID,
    LAST_UPDATED_BY,
    CREATION_DATE,
    CREATED_BY,
    LAST_UPDATE_LOGIN,
    SEARCH_PARAM11,
    SEARCH_PARAM12,
    SEARCH_PARAM13,
    SEARCH_PARAM14,
    SEARCH_PARAM15,
    OBJECT_RULE_ID,
    SEARCH_PARAM2,
    SEARCH_PARAM3,
    SEARCH_PARAM4,
    SEARCH_PARAM5,
    SEARCH_PARAM6,
    SEARCH_PARAM7,
    SEARCH_PARAM8,
    SEARCH_PARAM9,
    SEARCH_PARAM10,
    SEARCH_DISPLAY_SCALE
  ) values (
    X_SEARCH_EXCLUSION_GROUP,
    X_SEARCH_OPERATOR_EXCLUSION_ID,
    X_SEARCH_COLSPAN,
    X_APPLICATION_ID,
    X_SEARCH_CONDITION_ALLOWED_FLA,
    X_HTML_FORM_PARAM,
    X_DB_TABLE_NAME,
    X_DB_COLUMN_NAME,
    X_SEARCH_TYPE,
    X_SEARCH_QUERY,
    X_SEARCH_PARAM1,
    X_LAST_UPDATE_DATE,
    --X_SECURITY_GROUP_ID,
    X_OBJECT_VERSION_NUMBER,
    X_OBJECT_ATTRIBUTE,
    X_OBJECT_TYPE,
    X_ACTIVITY_TYPE_CODE,
    X_AK_REGION_CODE,
    X_AK_ATTRIBUTE_CODE,
    X_SEEDED_FLAG,
    X_SEARCH_DISPLAY_ALLOWED_FLAG,
    X_SEARCH_GROUP,
    X_COLUMNS_METADATA_ID,
    X_LAST_UPDATED_BY,
    X_CREATION_DATE,
    X_CREATED_BY,
    X_LAST_UPDATE_LOGIN,
    X_SEARCH_PARAM11,
    X_SEARCH_PARAM12,
    X_SEARCH_PARAM13,
    X_SEARCH_PARAM14,
    X_SEARCH_PARAM15,
    X_OBJECT_RULE_ID,
    X_SEARCH_PARAM2,
    X_SEARCH_PARAM3,
    X_SEARCH_PARAM4,
    X_SEARCH_PARAM5,
    X_SEARCH_PARAM6,
    X_SEARCH_PARAM7,
    X_SEARCH_PARAM8,
    X_SEARCH_PARAM9,
    X_SEARCH_PARAM10,
    X_SEARCH_DISPLAY_SCALE
 );

end INSERT_ROW;

procedure LOCK_ROW (
  X_COLUMNS_METADATA_ID in NUMBER,
  X_SEARCH_EXCLUSION_GROUP in VARCHAR2,
  X_SEARCH_OPERATOR_EXCLUSION_ID in NUMBER,
  X_SEARCH_COLSPAN in VARCHAR2,
  X_APPLICATION_ID in NUMBER,
  X_SEARCH_CONDITION_ALLOWED_FLA in VARCHAR2,
  X_HTML_FORM_PARAM in VARCHAR2,
  X_DB_TABLE_NAME in VARCHAR2,
  X_DB_COLUMN_NAME in VARCHAR2,
  X_SEARCH_TYPE in VARCHAR2,
  X_SEARCH_QUERY in VARCHAR2,
  X_SEARCH_PARAM1 in VARCHAR2,
  X_SECURITY_GROUP_ID in NUMBER,
  X_OBJECT_VERSION_NUMBER in NUMBER,
  X_OBJECT_ATTRIBUTE in VARCHAR2,
  X_OBJECT_TYPE in VARCHAR2,
  X_ACTIVITY_TYPE_CODE in VARCHAR2,
  X_AK_REGION_CODE in VARCHAR2,
  X_AK_ATTRIBUTE_CODE in VARCHAR2,
  X_SEEDED_FLAG in VARCHAR2,
  X_SEARCH_DISPLAY_ALLOWED_FLAG in VARCHAR2,
  X_SEARCH_GROUP in VARCHAR2,
  X_SEARCH_PARAM11 in VARCHAR2,
  X_SEARCH_PARAM12 in VARCHAR2,
  X_SEARCH_PARAM13 in VARCHAR2,
  X_SEARCH_PARAM14 in VARCHAR2,
  X_SEARCH_PARAM15 in VARCHAR2,
  X_OBJECT_RULE_ID in NUMBER,
  X_SEARCH_PARAM2 in VARCHAR2,
  X_SEARCH_PARAM3 in VARCHAR2,
  X_SEARCH_PARAM4 in VARCHAR2,
  X_SEARCH_PARAM5 in VARCHAR2,
  X_SEARCH_PARAM6 in VARCHAR2,
  X_SEARCH_PARAM7 in VARCHAR2,
  X_SEARCH_PARAM8 in VARCHAR2,
  X_SEARCH_PARAM9 in VARCHAR2,
  X_SEARCH_PARAM10 in VARCHAR2,
  X_SEARCH_DISPLAY_SCALE in VARCHAR2
) is
  cursor c1 is select
      SEARCH_EXCLUSION_GROUP,
      SEARCH_OPERATOR_EXCLUSION_ID,
      SEARCH_COLSPAN,
      APPLICATION_ID,
      SEARCH_CONDITION_ALLOWED_FLAG,
      HTML_FORM_PARAM,
      DB_TABLE_NAME,
      DB_COLUMN_NAME,
      SEARCH_TYPE,
      SEARCH_QUERY,
      SEARCH_PARAM1,
      SECURITY_GROUP_ID,
      OBJECT_VERSION_NUMBER,
      OBJECT_ATTRIBUTE,
      OBJECT_TYPE,
      ACTIVITY_TYPE_CODE,
      AK_REGION_CODE,
      AK_ATTRIBUTE_CODE,
      SEEDED_FLAG,
      SEARCH_DISPLAY_ALLOWED_FLAG,
      SEARCH_GROUP,
      SEARCH_PARAM11,
      SEARCH_PARAM12,
      SEARCH_PARAM13,
      SEARCH_PARAM14,
      SEARCH_PARAM15,
      OBJECT_RULE_ID,
      SEARCH_PARAM2,
      SEARCH_PARAM3,
      SEARCH_PARAM4,
      SEARCH_PARAM5,
      SEARCH_PARAM6,
      SEARCH_PARAM7,
      SEARCH_PARAM8,
      SEARCH_PARAM9,
      SEARCH_PARAM10,
      SEARCH_DISPLAY_SCALE,
      COLUMNS_METADATA_ID
    from AMS_COLUMNS_METADATA
    where COLUMNS_METADATA_ID = X_COLUMNS_METADATA_ID
    for update of COLUMNS_METADATA_ID nowait;
begin
  for tlinfo in c1 loop
      if (    (tlinfo.COLUMNS_METADATA_ID = X_COLUMNS_METADATA_ID)
          AND ((tlinfo.SEARCH_EXCLUSION_GROUP = X_SEARCH_EXCLUSION_GROUP)
               OR ((tlinfo.SEARCH_EXCLUSION_GROUP is null) AND (X_SEARCH_EXCLUSION_GROUP is null)))
          AND ((tlinfo.SEARCH_OPERATOR_EXCLUSION_ID = X_SEARCH_OPERATOR_EXCLUSION_ID)
               OR ((tlinfo.SEARCH_OPERATOR_EXCLUSION_ID is null) AND (X_SEARCH_OPERATOR_EXCLUSION_ID is null)))
          AND ((tlinfo.SEARCH_COLSPAN = X_SEARCH_COLSPAN)
               OR ((tlinfo.SEARCH_COLSPAN is null) AND (X_SEARCH_COLSPAN is null)))
          AND ((tlinfo.APPLICATION_ID = X_APPLICATION_ID)
               OR ((tlinfo.APPLICATION_ID is null) AND (X_APPLICATION_ID is null)))
          AND ((tlinfo.SEEDED_FLAG = X_SEEDED_FLAG)
               OR ((tlinfo.SEEDED_FLAG is null) AND (X_SEEDED_FLAG is null)))
          AND ((tlinfo.SEARCH_CONDITION_ALLOWED_FLAG = X_SEARCH_CONDITION_ALLOWED_FLA)
               OR ((tlinfo.SEARCH_CONDITION_ALLOWED_FLAG is null) AND (X_SEARCH_CONDITION_ALLOWED_FLA is null)))
          AND ((tlinfo.HTML_FORM_PARAM = X_HTML_FORM_PARAM)
               OR ((tlinfo.HTML_FORM_PARAM is null) AND (X_HTML_FORM_PARAM is null)))
          AND ((tlinfo.DB_TABLE_NAME = X_DB_TABLE_NAME)
               OR ((tlinfo.DB_TABLE_NAME is null) AND (X_DB_TABLE_NAME is null)))
          AND ((tlinfo.DB_COLUMN_NAME = X_DB_COLUMN_NAME)
               OR ((tlinfo.DB_COLUMN_NAME is null) AND (X_DB_COLUMN_NAME is null)))
          AND ((tlinfo.SEARCH_TYPE = X_SEARCH_TYPE)
               OR ((tlinfo.SEARCH_TYPE is null) AND (X_SEARCH_TYPE is null)))
          AND ((tlinfo.SEARCH_QUERY = X_SEARCH_QUERY)
               OR ((tlinfo.SEARCH_QUERY is null) AND (X_SEARCH_QUERY is null)))
          AND ((tlinfo.SEARCH_PARAM1 = X_SEARCH_PARAM1)
               OR ((tlinfo.SEARCH_PARAM1 is null) AND (X_SEARCH_PARAM1 is null)))
          --AND ((tlinfo.SECURITY_GROUP_ID = X_SECURITY_GROUP_ID)
              -- OR ((tlinfo.SECURITY_GROUP_ID is null) AND (X_SECURITY_GROUP_ID is null)))
          AND ((tlinfo.OBJECT_VERSION_NUMBER = X_OBJECT_VERSION_NUMBER)
               OR ((tlinfo.OBJECT_VERSION_NUMBER is null) AND (X_OBJECT_VERSION_NUMBER is null)))
          AND ((tlinfo.OBJECT_ATTRIBUTE = X_OBJECT_ATTRIBUTE)
               OR ((tlinfo.OBJECT_ATTRIBUTE is null) AND (X_OBJECT_ATTRIBUTE is null)))
          AND ((tlinfo.OBJECT_TYPE = X_OBJECT_TYPE)
               OR ((tlinfo.OBJECT_TYPE is null) AND (X_OBJECT_TYPE is null)))
          AND ((tlinfo.ACTIVITY_TYPE_CODE = X_ACTIVITY_TYPE_CODE)
               OR ((tlinfo.ACTIVITY_TYPE_CODE is null) AND (X_ACTIVITY_TYPE_CODE is null)))
          AND ((tlinfo.AK_REGION_CODE = X_AK_REGION_CODE)
               OR ((tlinfo.AK_REGION_CODE is null) AND (X_AK_REGION_CODE is null)))
          AND ((tlinfo.AK_ATTRIBUTE_CODE = X_AK_ATTRIBUTE_CODE)
               OR ((tlinfo.AK_ATTRIBUTE_CODE is null) AND (X_AK_ATTRIBUTE_CODE is null)))
          AND ((tlinfo.SEARCH_DISPLAY_ALLOWED_FLAG = X_SEARCH_DISPLAY_ALLOWED_FLAG)
               OR ((tlinfo.SEARCH_DISPLAY_ALLOWED_FLAG is null) AND (X_SEARCH_DISPLAY_ALLOWED_FLAG is null)))
          AND ((tlinfo.SEARCH_GROUP = X_SEARCH_GROUP)
               OR ((tlinfo.SEARCH_GROUP is null) AND (X_SEARCH_GROUP is null)))
          AND ((tlinfo.SEARCH_PARAM11 = X_SEARCH_PARAM11)
               OR ((tlinfo.SEARCH_PARAM11 is null) AND (X_SEARCH_PARAM11 is null)))
          AND ((tlinfo.SEARCH_PARAM12 = X_SEARCH_PARAM12)
               OR ((tlinfo.SEARCH_PARAM12 is null) AND (X_SEARCH_PARAM12 is null)))
          AND ((tlinfo.SEARCH_PARAM13 = X_SEARCH_PARAM13)
               OR ((tlinfo.SEARCH_PARAM13 is null) AND (X_SEARCH_PARAM13 is null)))
          AND ((tlinfo.SEARCH_PARAM14 = X_SEARCH_PARAM14)
               OR ((tlinfo.SEARCH_PARAM14 is null) AND (X_SEARCH_PARAM14 is null)))
          AND ((tlinfo.SEARCH_PARAM15 = X_SEARCH_PARAM15)
               OR ((tlinfo.SEARCH_PARAM15 is null) AND (X_SEARCH_PARAM15 is null)))
          AND ((tlinfo.OBJECT_RULE_ID = X_OBJECT_RULE_ID)
               OR ((tlinfo.OBJECT_RULE_ID is null) AND (X_OBJECT_RULE_ID is null)))
          AND ((tlinfo.SEARCH_PARAM2 = X_SEARCH_PARAM2)
               OR ((tlinfo.SEARCH_PARAM2 is null) AND (X_SEARCH_PARAM2 is null)))
          AND ((tlinfo.SEARCH_PARAM3 = X_SEARCH_PARAM3)
               OR ((tlinfo.SEARCH_PARAM3 is null) AND (X_SEARCH_PARAM3 is null)))
          AND ((tlinfo.SEARCH_PARAM4 = X_SEARCH_PARAM4)
               OR ((tlinfo.SEARCH_PARAM4 is null) AND (X_SEARCH_PARAM4 is null)))
          AND ((tlinfo.SEARCH_PARAM5 = X_SEARCH_PARAM5)
               OR ((tlinfo.SEARCH_PARAM5 is null) AND (X_SEARCH_PARAM5 is null)))
          AND ((tlinfo.SEARCH_PARAM6 = X_SEARCH_PARAM6)
               OR ((tlinfo.SEARCH_PARAM6 is null) AND (X_SEARCH_PARAM6 is null)))
          AND ((tlinfo.SEARCH_PARAM7 = X_SEARCH_PARAM7)
               OR ((tlinfo.SEARCH_PARAM7 is null) AND (X_SEARCH_PARAM7 is null)))
          AND ((tlinfo.SEARCH_PARAM8 = X_SEARCH_PARAM8)
               OR ((tlinfo.SEARCH_PARAM8 is null) AND (X_SEARCH_PARAM8 is null)))
          AND ((tlinfo.SEARCH_PARAM9 = X_SEARCH_PARAM9)
               OR ((tlinfo.SEARCH_PARAM9 is null) AND (X_SEARCH_PARAM9 is null)))
          AND ((tlinfo.SEARCH_PARAM10 = X_SEARCH_PARAM10)
               OR ((tlinfo.SEARCH_PARAM10 is null) AND (X_SEARCH_PARAM10 is null)))
          AND ((tlinfo.SEARCH_DISPLAY_SCALE = X_SEARCH_DISPLAY_SCALE)
               OR ((tlinfo.SEARCH_DISPLAY_SCALE is null) AND (X_SEARCH_DISPLAY_SCALE is null)))
      ) then
        null;
      else
        fnd_message.set_name('FND', 'FORM_RECORD_CHANGED');
        app_exception.raise_exception;
      end if;
  end loop;
  return;
end LOCK_ROW;

procedure UPDATE_ROW (
  X_COLUMNS_METADATA_ID in NUMBER,
  X_SEARCH_EXCLUSION_GROUP in VARCHAR2,
  X_SEARCH_OPERATOR_EXCLUSION_ID in NUMBER,
  X_SEARCH_COLSPAN in VARCHAR2,
  X_APPLICATION_ID in NUMBER,
  X_SEARCH_CONDITION_ALLOWED_FLA in VARCHAR2,
  X_HTML_FORM_PARAM in VARCHAR2,
  X_DB_TABLE_NAME in VARCHAR2,
  X_DB_COLUMN_NAME in VARCHAR2,
  X_SEARCH_TYPE in VARCHAR2,
  X_SEARCH_QUERY in VARCHAR2,
  X_SEARCH_PARAM1 in VARCHAR2,
  X_SECURITY_GROUP_ID in NUMBER,
  X_OBJECT_VERSION_NUMBER in NUMBER,
  X_OBJECT_ATTRIBUTE in VARCHAR2,
  X_OBJECT_TYPE in VARCHAR2,
  X_ACTIVITY_TYPE_CODE in VARCHAR2,
  X_AK_REGION_CODE in VARCHAR2,
  X_AK_ATTRIBUTE_CODE in VARCHAR2,
  X_SEEDED_FLAG in VARCHAR2,
  X_SEARCH_DISPLAY_ALLOWED_FLAG in VARCHAR2,
  X_SEARCH_GROUP in VARCHAR2,
  X_SEARCH_PARAM11 in VARCHAR2,
  X_SEARCH_PARAM12 in VARCHAR2,
  X_SEARCH_PARAM13 in VARCHAR2,
  X_SEARCH_PARAM14 in VARCHAR2,
  X_SEARCH_PARAM15 in VARCHAR2,
  X_OBJECT_RULE_ID in NUMBER,
  X_SEARCH_PARAM2 in VARCHAR2,
  X_SEARCH_PARAM3 in VARCHAR2,
  X_SEARCH_PARAM4 in VARCHAR2,
  X_SEARCH_PARAM5 in VARCHAR2,
  X_SEARCH_PARAM6 in VARCHAR2,
  X_SEARCH_PARAM7 in VARCHAR2,
  X_SEARCH_PARAM8 in VARCHAR2,
  X_SEARCH_PARAM9 in VARCHAR2,
  X_SEARCH_PARAM10 in VARCHAR2,
  X_SEARCH_DISPLAY_SCALE in VARCHAR2,
  X_LAST_UPDATE_DATE in DATE,
  X_LAST_UPDATED_BY in NUMBER,
  X_LAST_UPDATE_LOGIN in NUMBER
) is
begin
  update AMS_COLUMNS_METADATA set
    SEARCH_EXCLUSION_GROUP = X_SEARCH_EXCLUSION_GROUP,
    SEARCH_OPERATOR_EXCLUSION_ID = X_SEARCH_OPERATOR_EXCLUSION_ID,
    SEARCH_COLSPAN = X_SEARCH_COLSPAN,
    APPLICATION_ID = X_APPLICATION_ID,
    SEARCH_CONDITION_ALLOWED_FLAG = X_SEARCH_CONDITION_ALLOWED_FLA,
    HTML_FORM_PARAM = X_HTML_FORM_PARAM,
    DB_TABLE_NAME = X_DB_TABLE_NAME,
    DB_COLUMN_NAME = X_DB_COLUMN_NAME,
    SEARCH_TYPE = X_SEARCH_TYPE,
    SEARCH_QUERY = X_SEARCH_QUERY,
    SEARCH_PARAM1 = X_SEARCH_PARAM1,
    --SECURITY_GROUP_ID = X_SECURITY_GROUP_ID,
    OBJECT_VERSION_NUMBER = X_OBJECT_VERSION_NUMBER,
    OBJECT_ATTRIBUTE = X_OBJECT_ATTRIBUTE,
    OBJECT_TYPE = X_OBJECT_TYPE,
    ACTIVITY_TYPE_CODE = X_ACTIVITY_TYPE_CODE,
    AK_REGION_CODE = X_AK_REGION_CODE,
    AK_ATTRIBUTE_CODE = X_AK_ATTRIBUTE_CODE,
    SEEDED_FLAG = X_SEEDED_FLAG,
    SEARCH_DISPLAY_ALLOWED_FLAG = X_SEARCH_DISPLAY_ALLOWED_FLAG,
    SEARCH_GROUP = X_SEARCH_GROUP,
    SEARCH_PARAM11 = X_SEARCH_PARAM11,
    SEARCH_PARAM12 = X_SEARCH_PARAM12,
    SEARCH_PARAM13 = X_SEARCH_PARAM13,
    SEARCH_PARAM14 = X_SEARCH_PARAM14,
    SEARCH_PARAM15 = X_SEARCH_PARAM15,
    OBJECT_RULE_ID = X_OBJECT_RULE_ID,
    SEARCH_PARAM2 = X_SEARCH_PARAM2,
    SEARCH_PARAM3 = X_SEARCH_PARAM3,
    SEARCH_PARAM4 = X_SEARCH_PARAM4,
    SEARCH_PARAM5 = X_SEARCH_PARAM5,
    SEARCH_PARAM6 = X_SEARCH_PARAM6,
    SEARCH_PARAM7 = X_SEARCH_PARAM7,
    SEARCH_PARAM8 = X_SEARCH_PARAM8,
    SEARCH_PARAM9 = X_SEARCH_PARAM9,
    SEARCH_PARAM10 = X_SEARCH_PARAM10,
    SEARCH_DISPLAY_SCALE = X_SEARCH_DISPLAY_SCALE,
    COLUMNS_METADATA_ID = X_COLUMNS_METADATA_ID,
    LAST_UPDATE_DATE = X_LAST_UPDATE_DATE,
    LAST_UPDATED_BY = X_LAST_UPDATED_BY,
    LAST_UPDATE_LOGIN = X_LAST_UPDATE_LOGIN
  where COLUMNS_METADATA_ID = X_COLUMNS_METADATA_ID;

  if (sql%notfound) then
    raise no_data_found;
  end if;
end UPDATE_ROW;

procedure DELETE_ROW (
  X_COLUMNS_METADATA_ID in NUMBER
) is
begin
  delete from AMS_COLUMNS_METADATA
  where COLUMNS_METADATA_ID = X_COLUMNS_METADATA_ID;

  if (sql%notfound) then
    raise no_data_found;
  end if;

end DELETE_ROW;

procedure LOAD_ROW (
  X_COLUMNS_METADATA_ID in NUMBER,
  X_SEARCH_EXCLUSION_GROUP in VARCHAR2,
  X_SEARCH_OPERATOR_EXCLUSION_ID in NUMBER,
  X_SEARCH_COLSPAN in VARCHAR2,
  X_APPLICATION_ID in NUMBER,
  X_SEARCH_CONDITION_ALLOWED_FLA in VARCHAR2,
  X_HTML_FORM_PARAM in VARCHAR2,
  X_DB_TABLE_NAME in VARCHAR2,
  X_DB_COLUMN_NAME in VARCHAR2,
  X_SEARCH_TYPE in VARCHAR2,
  X_SEARCH_QUERY in VARCHAR2,
  X_SEARCH_PARAM1 in VARCHAR2,
  X_SECURITY_GROUP_ID in NUMBER,
  X_OBJECT_VERSION_NUMBER in NUMBER,
  X_OBJECT_ATTRIBUTE in VARCHAR2,
  X_OBJECT_TYPE in VARCHAR2,
  X_ACTIVITY_TYPE_CODE in VARCHAR2,
  X_AK_REGION_CODE in VARCHAR2,
  X_AK_ATTRIBUTE_CODE in VARCHAR2,
  X_SEEDED_FLAG in VARCHAR2,
  X_SEARCH_DISPLAY_ALLOWED_FLAG in VARCHAR2,
  X_SEARCH_GROUP in VARCHAR2,
  X_SEARCH_PARAM11 in VARCHAR2,
  X_SEARCH_PARAM12 in VARCHAR2,
  X_SEARCH_PARAM13 in VARCHAR2,
  X_SEARCH_PARAM14 in VARCHAR2,
  X_SEARCH_PARAM15 in VARCHAR2,
  X_OBJECT_RULE_ID in NUMBER,
  X_SEARCH_PARAM2 in VARCHAR2,
  X_SEARCH_PARAM3 in VARCHAR2,
  X_SEARCH_PARAM4 in VARCHAR2,
  X_SEARCH_PARAM5 in VARCHAR2,
  X_SEARCH_PARAM6 in VARCHAR2,
  X_SEARCH_PARAM7 in VARCHAR2,
  X_SEARCH_PARAM8 in VARCHAR2,
  X_SEARCH_PARAM9 in VARCHAR2,
  X_SEARCH_PARAM10 in VARCHAR2,
  X_SEARCH_DISPLAY_SCALE in VARCHAR2,
  X_OWNER in  VARCHAR2)is
l_user_id number := 0;
l_COLUMNS_METADATA_ID  number;
l_obj_verno number;
l_dummy_char  varchar2(1);
l_row_id    varchar2(100);


-- Commented after OZF is migrated from AMS : aranka

cursor  c_obj_verno is
 select object_version_number, columns_metadata_id
  from    AMS_COLUMNS_METADATA
--  where OBJECT_TYPE = X_OBJECT_TYPE
--  and OBJECT_ATTRIBUTE = X_OBJECT_ATTRIBUTE
--  and nvl(ACTIVITY_TYPE_CODE,0) = nvl(X_ACTIVITY_TYPE_CODE, 0)
--  and HTML_FORM_PARAM = X_HTML_FORM_PARAM
--  and APPLICATION_ID = X_APPLICATION_ID;
where  COLUMNS_METADATA_ID =  X_COLUMNS_METADATA_ID;

-- Commented after OZF is migrated from AMS : aranka
  cursor c_chk_colmtd_exists is
  select 'x'
  from  AMS_COLUMNS_METADATA
--  where OBJECT_TYPE = X_OBJECT_TYPE
--  and OBJECT_ATTRIBUTE = X_OBJECT_ATTRIBUTE
--  and nvl(ACTIVITY_TYPE_CODE,0) = nvl(X_ACTIVITY_TYPE_CODE, 0)
--  and HTML_FORM_PARAM = X_HTML_FORM_PARAM
--  and APPLICATION_ID = X_APPLICATION_ID;
  where  COLUMNS_METADATA_ID =  X_COLUMNS_METADATA_ID;

  cursor c_get_colmtd_id is
  select AMS_COLUMNS_METADATA_S.nextval
  from dual;

BEGIN
	if X_OWNER = 'SEED' then
		l_user_id := 1;
	end if;

	open c_chk_colmtd_exists;
	fetch c_chk_colmtd_exists into l_dummy_char;
	if c_chk_colmtd_exists%notfound
	then
		close c_chk_colmtd_exists;
		if X_COLUMNS_METADATA_ID is null
		then
			open c_get_colmtd_id;
			fetch c_get_colmtd_id into l_COLUMNS_METADATA_ID;
			close c_get_colmtd_id;
		else
			l_COLUMNS_METADATA_ID := X_COLUMNS_METADATA_ID;
		end if;

		AMS_COLUMNS_METADATA_PKG.INSERT_ROW (
			X_ROWID => l_row_id,
			X_COLUMNS_METADATA_ID => l_COLUMNS_METADATA_ID,
			X_SEARCH_EXCLUSION_GROUP => X_SEARCH_EXCLUSION_GROUP,
			X_SEARCH_OPERATOR_EXCLUSION_ID => X_SEARCH_OPERATOR_EXCLUSION_ID,
			X_SEARCH_COLSPAN => X_SEARCH_COLSPAN,
			X_APPLICATION_ID => X_APPLICATION_ID,
			X_SEEDED_FLAG => X_SEEDED_FLAG,
			X_SEARCH_CONDITION_ALLOWED_FLA => X_SEARCH_CONDITION_ALLOWED_FLA,
			X_HTML_FORM_PARAM => X_HTML_FORM_PARAM,
			X_DB_TABLE_NAME => X_DB_TABLE_NAME,
			X_DB_COLUMN_NAME => X_DB_COLUMN_NAME,
			X_SEARCH_TYPE => X_SEARCH_TYPE,
			X_SEARCH_QUERY => X_SEARCH_QUERY,
			X_SEARCH_PARAM1 => X_SEARCH_PARAM1,
			X_SECURITY_GROUP_ID => X_SECURITY_GROUP_ID,
			X_OBJECT_VERSION_NUMBER => X_OBJECT_VERSION_NUMBER,
			X_OBJECT_ATTRIBUTE => X_OBJECT_ATTRIBUTE,
			X_OBJECT_TYPE => X_OBJECT_TYPE,
			X_ACTIVITY_TYPE_CODE => X_ACTIVITY_TYPE_CODE,
			X_AK_REGION_CODE => X_AK_REGION_CODE,
			X_AK_ATTRIBUTE_CODE => X_AK_ATTRIBUTE_CODE,
			X_SEARCH_DISPLAY_ALLOWED_FLAG => X_SEARCH_DISPLAY_ALLOWED_FLAG,
			X_SEARCH_GROUP => X_SEARCH_GROUP,
			X_SEARCH_PARAM11 => X_SEARCH_PARAM11,
			X_SEARCH_PARAM12 => X_SEARCH_PARAM12,
			X_SEARCH_PARAM13 => X_SEARCH_PARAM13,
			X_SEARCH_PARAM14 => X_SEARCH_PARAM14,
			X_SEARCH_PARAM15 => X_SEARCH_PARAM15,
			X_OBJECT_RULE_ID => X_OBJECT_RULE_ID,
			X_SEARCH_PARAM2 => X_SEARCH_PARAM2,
			X_SEARCH_PARAM3 => X_SEARCH_PARAM3,
			X_SEARCH_PARAM4 => X_SEARCH_PARAM4,
			X_SEARCH_PARAM5 => X_SEARCH_PARAM5,
			X_SEARCH_PARAM6 => X_SEARCH_PARAM6,
			X_SEARCH_PARAM7 => X_SEARCH_PARAM7,
			X_SEARCH_PARAM8 => X_SEARCH_PARAM8,
			X_SEARCH_PARAM9 => X_SEARCH_PARAM9,
			X_SEARCH_PARAM10 => X_SEARCH_PARAM10,
			X_SEARCH_DISPLAY_SCALE => X_SEARCH_DISPLAY_SCALE,
			X_CREATION_DATE => sysdate,
			X_CREATED_BY => l_user_id,
			X_LAST_UPDATE_DATE => sysdate,
			X_LAST_UPDATED_BY => l_user_id,
			X_LAST_UPDATE_LOGIN => 0
			);
	else
		close c_chk_colmtd_exists;
		open c_obj_verno;
		fetch c_obj_verno into l_obj_verno, l_COLUMNS_METADATA_ID;
		close c_obj_verno;
       -- assigning value for l_user_status_id
		--l_COLUMNS_METADATA_ID := X_COLUMNS_METADATA_ID;
		AMS_COLUMNS_METADATA_PKG.UPDATE_ROW(
			X_COLUMNS_METADATA_ID => l_COLUMNS_METADATA_ID,
			X_SEARCH_EXCLUSION_GROUP => X_SEARCH_EXCLUSION_GROUP,
			X_SEARCH_OPERATOR_EXCLUSION_ID => X_SEARCH_OPERATOR_EXCLUSION_ID,
			X_SEARCH_COLSPAN => X_SEARCH_COLSPAN,
			X_APPLICATION_ID => X_APPLICATION_ID,
			X_SEEDED_FLAG => X_SEEDED_FLAG,
			X_SEARCH_CONDITION_ALLOWED_FLA => X_SEARCH_CONDITION_ALLOWED_FLA,
			X_HTML_FORM_PARAM => X_HTML_FORM_PARAM,
			X_DB_TABLE_NAME => X_DB_TABLE_NAME,
			X_DB_COLUMN_NAME => X_DB_COLUMN_NAME,
			X_SEARCH_TYPE => X_SEARCH_TYPE,
			X_SEARCH_QUERY => X_SEARCH_QUERY,
			X_SEARCH_PARAM1 => X_SEARCH_PARAM1,
			X_SECURITY_GROUP_ID => X_SECURITY_GROUP_ID,
			X_OBJECT_VERSION_NUMBER => l_obj_verno,
			X_OBJECT_ATTRIBUTE => X_OBJECT_ATTRIBUTE,
			X_OBJECT_TYPE => X_OBJECT_TYPE,
			X_ACTIVITY_TYPE_CODE => X_ACTIVITY_TYPE_CODE,
			X_AK_REGION_CODE => X_AK_REGION_CODE,
			X_AK_ATTRIBUTE_CODE => X_AK_ATTRIBUTE_CODE,
			X_SEARCH_DISPLAY_ALLOWED_FLAG => X_SEARCH_DISPLAY_ALLOWED_FLAG,
			X_SEARCH_GROUP => X_SEARCH_GROUP,
			X_SEARCH_PARAM11 => X_SEARCH_PARAM11,
			X_SEARCH_PARAM12 => X_SEARCH_PARAM12,
			X_SEARCH_PARAM13 => X_SEARCH_PARAM13,
			X_SEARCH_PARAM14 => X_SEARCH_PARAM14,
			X_SEARCH_PARAM15 => X_SEARCH_PARAM15,
			X_OBJECT_RULE_ID => X_OBJECT_RULE_ID,
			X_SEARCH_PARAM2 => X_SEARCH_PARAM2,
			X_SEARCH_PARAM3 => X_SEARCH_PARAM3,
			X_SEARCH_PARAM4 => X_SEARCH_PARAM4,
			X_SEARCH_PARAM5 => X_SEARCH_PARAM5,
			X_SEARCH_PARAM6 => X_SEARCH_PARAM6,
			X_SEARCH_PARAM7 => X_SEARCH_PARAM7,
			X_SEARCH_PARAM8 => X_SEARCH_PARAM8,
			X_SEARCH_PARAM9 => X_SEARCH_PARAM9,
			X_SEARCH_PARAM10 => X_SEARCH_PARAM10,
			X_SEARCH_DISPLAY_SCALE => X_SEARCH_DISPLAY_SCALE,
			X_LAST_UPDATE_DATE => SYSDATE,
			X_LAST_UPDATED_BY => l_user_id,
			X_LAST_UPDATE_LOGIN => 0
			);
	END IF;

end LOAD_ROW;

end AMS_COLUMNS_METADATA_PKG;

/
