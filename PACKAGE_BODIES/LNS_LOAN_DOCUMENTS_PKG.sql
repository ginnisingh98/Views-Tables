--------------------------------------------------------
--  DDL for Package Body LNS_LOAN_DOCUMENTS_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "APPS"."LNS_LOAN_DOCUMENTS_PKG" AS
/* $Header: LNS_LNDOC_TBLH_B.pls 120.0.12010000.2 2009/05/25 10:25:01 gparuchu ship $ */

/* Insert_Row procedure */
PROCEDURE Insert_Row(
        X_DOCUMENT_ID                   IN OUT NOCOPY NUMBER
        ,P_SOURCE_ID                    IN NUMBER
        ,P_SOURCE_TABLE                 IN VARCHAR2
        ,P_DOCUMENT_TYPE        	IN VARCHAR2
        ,P_VERSION              	IN NUMBER
        ,P_DOCUMENT_XML                 IN CLOB
        ,P_CREATION_DATE                IN DATE         DEFAULT NULL
        ,P_CREATED_BY           	IN NUMBER       DEFAULT NULL
        ,P_LAST_UPDATE_DATE             IN DATE         DEFAULT NULL
        ,P_LAST_UPDATED_BY              IN NUMBER       DEFAULT NULL
        ,P_LAST_UPDATE_LOGIN            IN NUMBER       DEFAULT NULL
        ,P_PROGRAM_UPDATE_DATE          IN DATE 	DEFAULT NULL
        ,P_PROGRAM_APPLICATION_ID       IN NUMBER 	DEFAULT NULL
        ,P_PROGRAM_ID                   IN NUMBER 	DEFAULT NULL
        ,P_REQUEST_ID                   IN NUMBER 	DEFAULT NULL
        ,P_OBJECT_VERSION_NUMBER        IN NUMBER
	,P_REASON                       IN VARCHAR2     DEFAULT NULL
) IS
BEGIN
	INSERT INTO LNS_LOAN_DOCUMENTS
	(
		DOCUMENT_ID
		,SOURCE_ID
		,SOURCE_TABLE
		,DOCUMENT_TYPE
		,VERSION
		,DOCUMENT_XML
		,CREATED_BY
		,CREATION_DATE
		,LAST_UPDATED_BY
		,LAST_UPDATE_DATE
		,LAST_UPDATE_LOGIN
		,PROGRAM_UPDATE_DATE
		,PROGRAM_APPLICATION_ID
		,PROGRAM_ID
		,REQUEST_ID
		,OBJECT_VERSION_NUMBER
		,REASON
	) VALUES (
		LNS_LOAN_DOCUMENTS_S.NEXTVAL
		,DECODE(P_SOURCE_ID, FND_API.G_MISS_NUM, NULL, P_SOURCE_ID)
		,DECODE(P_SOURCE_TABLE, FND_API.G_MISS_CHAR, NULL, P_SOURCE_TABLE)
		,DECODE(P_DOCUMENT_TYPE, FND_API.G_MISS_CHAR, NULL, P_DOCUMENT_TYPE)
		,DECODE(P_VERSION, FND_API.G_MISS_NUM, NULL, P_VERSION)
		,P_DOCUMENT_XML
		,LNS_UTILITY_PUB.CREATED_BY
		,LNS_UTILITY_PUB.CREATION_DATE
		,LNS_UTILITY_PUB.LAST_UPDATED_BY
		,LNS_UTILITY_PUB.LAST_UPDATE_DATE
		,LNS_UTILITY_PUB.LAST_UPDATE_LOGIN
		,LNS_UTILITY_PUB.PROGRAM_UPDATE_DATE
		,LNS_UTILITY_PUB.PROGRAM_APPLICATION_ID
		,LNS_UTILITY_PUB.PROGRAM_ID
		,LNS_UTILITY_PUB.REQUEST_ID
		,DECODE(P_OBJECT_VERSION_NUMBER, FND_API.G_MISS_NUM, NULL, P_OBJECT_VERSION_NUMBER)
		,P_REASON
	) RETURNING
		 DOCUMENT_ID
	 INTO
		 X_DOCUMENT_ID;
END Insert_Row;

/* Update_Row procedure */
PROCEDURE Update_Row(
        X_DOCUMENT_ID                   IN OUT NOCOPY NUMBER
        ,P_SOURCE_ID                    IN NUMBER
        ,P_SOURCE_TABLE                 IN VARCHAR2
        ,P_DOCUMENT_TYPE        	IN VARCHAR2
        ,P_VERSION              	IN NUMBER
        ,P_DOCUMENT_XML                 IN CLOB
        ,P_CREATION_DATE                IN DATE         DEFAULT NULL
        ,P_CREATED_BY           	IN NUMBER       DEFAULT NULL
        ,P_LAST_UPDATE_DATE             IN DATE         DEFAULT NULL
        ,P_LAST_UPDATED_BY              IN NUMBER       DEFAULT NULL
        ,P_LAST_UPDATE_LOGIN            IN NUMBER       DEFAULT NULL
        ,P_PROGRAM_UPDATE_DATE          IN DATE 	DEFAULT NULL
        ,P_PROGRAM_APPLICATION_ID       IN NUMBER 	DEFAULT NULL
        ,P_PROGRAM_ID                   IN NUMBER 	DEFAULT NULL
        ,P_REQUEST_ID                   IN NUMBER 	DEFAULT NULL
        ,P_OBJECT_VERSION_NUMBER        IN NUMBER
        ,P_REASON                       IN VARCHAR2     DEFAULT NULL
) IS
BEGIN
	UPDATE LNS_LOAN_DOCUMENTS SET
	 DOCUMENT_ID = LNS_LOAN_DOCUMENTS_S.NEXTVAL
         ,SOURCE_ID = DECODE(P_SOURCE_ID, FND_API.G_MISS_NUM, NULL, P_SOURCE_ID)
	 ,SOURCE_TABLE = DECODE(P_SOURCE_TABLE, FND_API.G_MISS_CHAR, NULL, P_SOURCE_TABLE)
	 ,DOCUMENT_TYPE = DECODE(P_DOCUMENT_TYPE, FND_API.G_MISS_CHAR, NULL, P_DOCUMENT_TYPE)
	 ,VERSION = DECODE(P_VERSION, FND_API.G_MISS_NUM, NULL, P_VERSION)
	 ,DOCUMENT_XML = P_DOCUMENT_XML
	 ,CREATED_BY = LNS_UTILITY_PUB.CREATED_BY
	 ,CREATION_DATE = LNS_UTILITY_PUB.CREATION_DATE
	 ,LAST_UPDATED_BY = LNS_UTILITY_PUB.LAST_UPDATED_BY
	 ,LAST_UPDATE_DATE = LNS_UTILITY_PUB.LAST_UPDATE_DATE
	 ,LAST_UPDATE_LOGIN = LNS_UTILITY_PUB.LAST_UPDATE_LOGIN
	 ,PROGRAM_UPDATE_DATE = LNS_UTILITY_PUB.PROGRAM_UPDATE_DATE
	 ,PROGRAM_APPLICATION_ID = LNS_UTILITY_PUB.PROGRAM_APPLICATION_ID
	 ,PROGRAM_ID = LNS_UTILITY_PUB.PROGRAM_ID
	 ,REQUEST_ID = LNS_UTILITY_PUB.REQUEST_ID
	 ,OBJECT_VERSION_NUMBER = DECODE(P_OBJECT_VERSION_NUMBER, FND_API.G_MISS_NUM, NULL, P_OBJECT_VERSION_NUMBER)
         ,REASON = P_REASON

	 where SOURCE_ID = P_SOURCE_ID;

END Update_Row;

END LNS_LOAN_DOCUMENTS_PKG;


/
