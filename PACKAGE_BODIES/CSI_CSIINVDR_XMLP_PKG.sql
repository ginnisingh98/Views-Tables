--------------------------------------------------------
--  DDL for Package Body CSI_CSIINVDR_XMLP_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "APPS"."CSI_CSIINVDR_XMLP_PKG" AS
/* $Header: CSIINVDRB.pls 120.0 2007/12/24 12:59:44 nchinnam noship $ */
  FUNCTION BEFOREREPORT RETURN BOOLEAN IS
  BEGIN
    BEGIN
      P_CONC_REQUEST_ID := FND_GLOBAL.CONC_REQUEST_ID;
      /*SRW.USER_EXIT('FND SRWINIT')*/NULL;
    EXCEPTION
      WHEN /*SRW.USER_EXIT_FAILURE*/OTHERS THEN
        /*SRW.MESSAGE(100
                   ,'Failed in Before Report trigger')*/NULL;
        RETURN (FALSE);
    END;
    DECLARE
      L_COMPANY_NAME VARCHAR2(100);
    BEGIN
      SELECT
        SOB.NAME
      INTO L_COMPANY_NAME
      FROM
        GL_SETS_OF_BOOKS SOB
      WHERE SOB.SET_OF_BOOKS_ID = 1;
      CP_COMPANY_NAME := L_COMPANY_NAME;
    EXCEPTION
      WHEN NO_DATA_FOUND THEN
        NULL;
    END;
    DECLARE
      L_REPORT_NAME VARCHAR2(240);
    BEGIN
      SELECT
        CP.USER_CONCURRENT_PROGRAM_NAME
      INTO L_REPORT_NAME
      FROM
        FND_CONCURRENT_PROGRAMS_VL CP,
        FND_CONCURRENT_REQUESTS CR
      WHERE CR.REQUEST_ID = P_CONC_REQUEST_ID
        AND CP.APPLICATION_ID = CR.PROGRAM_APPLICATION_ID
        AND CP.CONCURRENT_PROGRAM_ID = CR.CONCURRENT_PROGRAM_ID;
      CP_REPORT_NAME := L_REPORT_NAME;
    EXCEPTION
      WHEN NO_DATA_FOUND THEN
        CP_REPORT_NAME := 'IB - INV Discrepancy Report';
    END;
    RETURN (TRUE);
  END BEFOREREPORT;

  FUNCTION AFTERREPORT RETURN BOOLEAN IS
  BEGIN
    BEGIN
      BEGIN
        /*SRW.USER_EXIT('FND SRWEXIT')*/NULL;
      END;
    END;
    RETURN (TRUE);
  END AFTERREPORT;

  FUNCTION CP_REPORT_NAME_P RETURN VARCHAR2 IS
  BEGIN
    RETURN CP_REPORT_NAME;
  END CP_REPORT_NAME_P;

  FUNCTION CP_COMPANY_NAME_P RETURN VARCHAR2 IS
  BEGIN
    RETURN CP_COMPANY_NAME;
  END CP_COMPANY_NAME_P;

END CSI_CSIINVDR_XMLP_PKG;



/
