--------------------------------------------------------
--  DDL for Package Body CSD_REPAIR_ACTUAL_LINES_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "APPS"."CSD_REPAIR_ACTUAL_LINES_PKG" as
/* $Header: csdtalnb.pls 120.1 2008/02/15 04:02:42 takwong ship $ csdtalnb.pls */

    G_PKG_NAME CONSTANT  VARCHAR2(30)  := 'CSD_REPAIR_ACTUAL_LINES_PKG';
    G_FILE_NAME CONSTANT VARCHAR2(12)  := 'csdtclnb.pls';
    l_debug              NUMBER        := csd_gen_utility_pvt.g_debug_level;

    -- Global variable for storing the debug level
    G_debug_level number   := FND_LOG.G_CURRENT_RUNTIME_LEVEL;

PROCEDURE Insert_Row(
          px_REPAIR_ACTUAL_LINE_ID   IN OUT NOCOPY NUMBER
         ,p_OBJECT_VERSION_NUMBER    NUMBER
         ,p_ESTIMATE_DETAIL_ID    NUMBER
         ,p_REPAIR_ACTUAL_ID    NUMBER
         ,p_REPAIR_LINE_ID    NUMBER
         ,p_CREATED_BY    NUMBER
         ,p_CREATION_DATE    DATE
         ,p_LAST_UPDATED_BY    NUMBER
         ,p_LAST_UPDATE_DATE    DATE
         ,p_LAST_UPDATE_LOGIN    NUMBER
         ,p_ITEM_COST    NUMBER
         ,p_JUSTIFICATION_NOTES    VARCHAR2
         ,p_RESOURCE_ID    NUMBER
         ,p_OVERRIDE_CHARGE_FLAG    VARCHAR2
         ,p_ACTUAL_SOURCE_CODE    VARCHAR2
         ,p_ACTUAL_SOURCE_ID    NUMBER
         ,p_WARRANTY_CLAIM_FLAG   VARCHAR2  := FND_API.G_MISS_CHAR
         ,p_WARRANTY_NUMBER       VARCHAR2  := FND_API.G_MISS_CHAR
         ,p_WARRANTY_STATUS_CODE  VARCHAR2  := FND_API.G_MISS_CHAR
         ,p_REPLACED_ITEM_ID      NUMBER    := FND_API.G_MISS_NUM
         ,p_ATTRIBUTE_CATEGORY    VARCHAR2
         ,p_ATTRIBUTE1    VARCHAR2
         ,p_ATTRIBUTE2    VARCHAR2
         ,p_ATTRIBUTE3    VARCHAR2
         ,p_ATTRIBUTE4    VARCHAR2
         ,p_ATTRIBUTE5    VARCHAR2
         ,p_ATTRIBUTE6    VARCHAR2
         ,p_ATTRIBUTE7    VARCHAR2
         ,p_ATTRIBUTE8    VARCHAR2
         ,p_ATTRIBUTE9    VARCHAR2
         ,p_ATTRIBUTE10    VARCHAR2
         ,p_ATTRIBUTE11    VARCHAR2
         ,p_ATTRIBUTE12    VARCHAR2
         ,p_ATTRIBUTE13    VARCHAR2
         ,p_ATTRIBUTE14    VARCHAR2
         ,p_ATTRIBUTE15    VARCHAR2
         ,p_LOCATOR_ID    NUMBER
         ,p_LOC_SEGMENT1    VARCHAR2
         ,p_LOC_SEGMENT2    VARCHAR2
         ,p_LOC_SEGMENT3    VARCHAR2
         ,p_LOC_SEGMENT4    VARCHAR2
         ,p_LOC_SEGMENT5    VARCHAR2
         ,p_LOC_SEGMENT6    VARCHAR2
         ,p_LOC_SEGMENT7    VARCHAR2
         ,p_LOC_SEGMENT8    VARCHAR2
         ,p_LOC_SEGMENT9    VARCHAR2
         ,p_LOC_SEGMENT10    VARCHAR2
         ,p_LOC_SEGMENT11    VARCHAR2
         ,p_LOC_SEGMENT12    VARCHAR2
         ,p_LOC_SEGMENT13    VARCHAR2
         ,p_LOC_SEGMENT14    VARCHAR2
         ,p_LOC_SEGMENT15    VARCHAR2
         ,p_LOC_SEGMENT16    VARCHAR2
         ,p_LOC_SEGMENT17    VARCHAR2
         ,p_LOC_SEGMENT18    VARCHAR2
         ,p_LOC_SEGMENT19    VARCHAR2
         ,p_LOC_SEGMENT20    VARCHAR2)

 IS
   CURSOR C2 IS SELECT CSD_REPAIR_ACTUAL_LINES_S1.nextval FROM sys.dual;
BEGIN
   If (px_REPAIR_ACTUAL_LINE_ID IS NULL) OR (px_REPAIR_ACTUAL_LINE_ID = FND_API.G_MISS_NUM) then
       OPEN C2;
       FETCH C2 INTO px_REPAIR_ACTUAL_LINE_ID;
       CLOSE C2;
   End If;
   INSERT INTO CSD_REPAIR_ACTUAL_LINES(
           REPAIR_ACTUAL_LINE_ID
          ,OBJECT_VERSION_NUMBER
          ,ESTIMATE_DETAIL_ID
          ,REPAIR_ACTUAL_ID
          ,REPAIR_LINE_ID
          ,CREATED_BY
          ,CREATION_DATE
          ,LAST_UPDATED_BY
          ,LAST_UPDATE_DATE
          ,LAST_UPDATE_LOGIN
          ,ITEM_COST
          ,JUSTIFICATION_NOTES
          ,RESOURCE_ID
          ,OVERRIDE_CHARGE_FLAG
          ,ACTUAL_SOURCE_CODE
          ,ACTUAL_SOURCE_ID
          ,WARRANTY_CLAIM_FLAG
          ,WARRANTY_NUMBER
          ,WARRANTY_STATUS_CODE
          ,REPLACED_ITEM_ID
          ,ATTRIBUTE_CATEGORY
          ,ATTRIBUTE1
          ,ATTRIBUTE2
          ,ATTRIBUTE3
          ,ATTRIBUTE4
          ,ATTRIBUTE5
          ,ATTRIBUTE6
          ,ATTRIBUTE7
          ,ATTRIBUTE8
          ,ATTRIBUTE9
          ,ATTRIBUTE10
          ,ATTRIBUTE11
          ,ATTRIBUTE12
          ,ATTRIBUTE13
          ,ATTRIBUTE14
          ,ATTRIBUTE15
          ,LOCATOR_ID
          ,LOC_SEGMENT1
          ,LOC_SEGMENT2
          ,LOC_SEGMENT3
          ,LOC_SEGMENT4
          ,LOC_SEGMENT5
          ,LOC_SEGMENT6
          ,LOC_SEGMENT7
          ,LOC_SEGMENT8
          ,LOC_SEGMENT9
          ,LOC_SEGMENT10
          ,LOC_SEGMENT11
          ,LOC_SEGMENT12
          ,LOC_SEGMENT13
          ,LOC_SEGMENT14
          ,LOC_SEGMENT15
          ,LOC_SEGMENT16
          ,LOC_SEGMENT17
          ,LOC_SEGMENT18
          ,LOC_SEGMENT19
          ,LOC_SEGMENT20
          ) VALUES (
           px_REPAIR_ACTUAL_LINE_ID
          ,decode( p_OBJECT_VERSION_NUMBER, FND_API.G_MISS_NUM, NULL, p_OBJECT_VERSION_NUMBER)
          ,decode( p_ESTIMATE_DETAIL_ID, FND_API.G_MISS_NUM, NULL, p_ESTIMATE_DETAIL_ID)
          ,decode( p_REPAIR_ACTUAL_ID, FND_API.G_MISS_NUM, NULL, p_REPAIR_ACTUAL_ID)
          ,decode( p_REPAIR_LINE_ID, FND_API.G_MISS_NUM, NULL, p_REPAIR_LINE_ID)
          ,decode( p_CREATED_BY, FND_API.G_MISS_NUM, NULL, p_CREATED_BY)
          ,decode( p_CREATION_DATE, FND_API.G_MISS_DATE, TO_DATE(NULL), p_CREATION_DATE)
          ,decode( p_LAST_UPDATED_BY, FND_API.G_MISS_NUM, NULL, p_LAST_UPDATED_BY)
          ,decode( p_LAST_UPDATE_DATE, FND_API.G_MISS_DATE, TO_DATE(NULL), p_LAST_UPDATE_DATE)
          ,decode( p_LAST_UPDATE_LOGIN, FND_API.G_MISS_NUM, NULL, p_LAST_UPDATE_LOGIN)
          ,decode( p_ITEM_COST, FND_API.G_MISS_NUM, NULL, p_ITEM_COST)
          ,decode( p_JUSTIFICATION_NOTES, FND_API.G_MISS_CHAR, NULL, p_JUSTIFICATION_NOTES)
          ,decode( p_RESOURCE_ID, FND_API.G_MISS_NUM, NULL, p_RESOURCE_ID)
          ,decode( p_OVERRIDE_CHARGE_FLAG, FND_API.G_MISS_CHAR, NULL, p_OVERRIDE_CHARGE_FLAG)
          ,decode( p_ACTUAL_SOURCE_CODE, FND_API.G_MISS_CHAR, NULL, p_ACTUAL_SOURCE_CODE)
          ,decode( p_ACTUAL_SOURCE_ID, FND_API.G_MISS_NUM, NULL, p_ACTUAL_SOURCE_ID)
          ,decode( p_WARRANTY_CLAIM_FLAG, FND_API.G_MISS_CHAR, NULL, p_WARRANTY_CLAIM_FLAG)
          ,decode( p_WARRANTY_NUMBER, FND_API.G_MISS_CHAR, NULL, p_WARRANTY_NUMBER)
          ,decode( p_WARRANTY_STATUS_CODE, FND_API.G_MISS_CHAR, NULL, p_WARRANTY_STATUS_CODE)
          ,decode( p_REPLACED_ITEM_ID, FND_API.G_MISS_NUM, NULL, p_REPLACED_ITEM_ID)
          ,decode( p_ATTRIBUTE_CATEGORY, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE_CATEGORY)
          ,decode( p_ATTRIBUTE1, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE1)
          ,decode( p_ATTRIBUTE2, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE2)
          ,decode( p_ATTRIBUTE3, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE3)
          ,decode( p_ATTRIBUTE4, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE4)
          ,decode( p_ATTRIBUTE5, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE5)
          ,decode( p_ATTRIBUTE6, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE6)
          ,decode( p_ATTRIBUTE7, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE7)
          ,decode( p_ATTRIBUTE8, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE8)
          ,decode( p_ATTRIBUTE9, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE9)
          ,decode( p_ATTRIBUTE10, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE10)
          ,decode( p_ATTRIBUTE11, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE11)
          ,decode( p_ATTRIBUTE12, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE12)
          ,decode( p_ATTRIBUTE13, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE13)
          ,decode( p_ATTRIBUTE14, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE14)
          ,decode( p_ATTRIBUTE15, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE15)
          ,decode( p_LOCATOR_ID, FND_API.G_MISS_NUM, NULL, p_LOCATOR_ID)
          ,decode( p_LOC_SEGMENT1, FND_API.G_MISS_CHAR, NULL, p_LOC_SEGMENT1)
          ,decode( p_LOC_SEGMENT2, FND_API.G_MISS_CHAR, NULL, p_LOC_SEGMENT2)
          ,decode( p_LOC_SEGMENT3, FND_API.G_MISS_CHAR, NULL, p_LOC_SEGMENT3)
          ,decode( p_LOC_SEGMENT4, FND_API.G_MISS_CHAR, NULL, p_LOC_SEGMENT4)
          ,decode( p_LOC_SEGMENT5, FND_API.G_MISS_CHAR, NULL, p_LOC_SEGMENT5)
          ,decode( p_LOC_SEGMENT6, FND_API.G_MISS_CHAR, NULL, p_LOC_SEGMENT6)
          ,decode( p_LOC_SEGMENT7, FND_API.G_MISS_CHAR, NULL, p_LOC_SEGMENT7)
          ,decode( p_LOC_SEGMENT8, FND_API.G_MISS_CHAR, NULL, p_LOC_SEGMENT8)
          ,decode( p_LOC_SEGMENT9, FND_API.G_MISS_CHAR, NULL, p_LOC_SEGMENT9)
          ,decode( p_LOC_SEGMENT10, FND_API.G_MISS_CHAR, NULL, p_LOC_SEGMENT10)
          ,decode( p_LOC_SEGMENT11, FND_API.G_MISS_CHAR, NULL, p_LOC_SEGMENT11)
          ,decode( p_LOC_SEGMENT12, FND_API.G_MISS_CHAR, NULL, p_LOC_SEGMENT12)
          ,decode( p_LOC_SEGMENT13, FND_API.G_MISS_CHAR, NULL, p_LOC_SEGMENT13)
          ,decode( p_LOC_SEGMENT14, FND_API.G_MISS_CHAR, NULL, p_LOC_SEGMENT14)
          ,decode( p_LOC_SEGMENT15, FND_API.G_MISS_CHAR, NULL, p_LOC_SEGMENT15)
          ,decode( p_LOC_SEGMENT16, FND_API.G_MISS_CHAR, NULL, p_LOC_SEGMENT16)
          ,decode( p_LOC_SEGMENT17, FND_API.G_MISS_CHAR, NULL, p_LOC_SEGMENT17)
          ,decode( p_LOC_SEGMENT18, FND_API.G_MISS_CHAR, NULL, p_LOC_SEGMENT18)
          ,decode( p_LOC_SEGMENT19, FND_API.G_MISS_CHAR, NULL, p_LOC_SEGMENT19)
          ,decode( p_LOC_SEGMENT20, FND_API.G_MISS_CHAR, NULL, p_LOC_SEGMENT20));
End Insert_Row;

PROCEDURE Update_Row(
          p_REPAIR_ACTUAL_LINE_ID    NUMBER
         ,p_OBJECT_VERSION_NUMBER    NUMBER
         ,p_ESTIMATE_DETAIL_ID    NUMBER
         ,p_REPAIR_ACTUAL_ID    NUMBER
         ,p_REPAIR_LINE_ID    NUMBER
         ,p_CREATED_BY    NUMBER
         ,p_CREATION_DATE    DATE
         ,p_LAST_UPDATED_BY    NUMBER
         ,p_LAST_UPDATE_DATE    DATE
         ,p_LAST_UPDATE_LOGIN    NUMBER
         ,p_ITEM_COST    NUMBER
         ,p_JUSTIFICATION_NOTES    VARCHAR2
         ,p_RESOURCE_ID    NUMBER
         ,p_OVERRIDE_CHARGE_FLAG    VARCHAR2
         ,p_ACTUAL_SOURCE_CODE    VARCHAR2
         ,p_ACTUAL_SOURCE_ID    NUMBER
         ,p_WARRANTY_CLAIM_FLAG   VARCHAR2  := FND_API.G_MISS_CHAR
         ,p_WARRANTY_NUMBER       VARCHAR2  := FND_API.G_MISS_CHAR
         ,p_WARRANTY_STATUS_CODE  VARCHAR2  := FND_API.G_MISS_CHAR
         ,p_REPLACED_ITEM_ID      NUMBER    := FND_API.G_MISS_NUM
         ,p_ATTRIBUTE_CATEGORY    VARCHAR2
         ,p_ATTRIBUTE1    VARCHAR2
         ,p_ATTRIBUTE2    VARCHAR2
         ,p_ATTRIBUTE3    VARCHAR2
         ,p_ATTRIBUTE4    VARCHAR2
         ,p_ATTRIBUTE5    VARCHAR2
         ,p_ATTRIBUTE6    VARCHAR2
         ,p_ATTRIBUTE7    VARCHAR2
         ,p_ATTRIBUTE8    VARCHAR2
         ,p_ATTRIBUTE9    VARCHAR2
         ,p_ATTRIBUTE10    VARCHAR2
         ,p_ATTRIBUTE11    VARCHAR2
         ,p_ATTRIBUTE12    VARCHAR2
         ,p_ATTRIBUTE13    VARCHAR2
         ,p_ATTRIBUTE14    VARCHAR2
         ,p_ATTRIBUTE15    VARCHAR2
         ,p_LOCATOR_ID    NUMBER
         ,p_LOC_SEGMENT1    VARCHAR2
         ,p_LOC_SEGMENT2    VARCHAR2
         ,p_LOC_SEGMENT3    VARCHAR2
         ,p_LOC_SEGMENT4    VARCHAR2
         ,p_LOC_SEGMENT5    VARCHAR2
         ,p_LOC_SEGMENT6    VARCHAR2
         ,p_LOC_SEGMENT7    VARCHAR2
         ,p_LOC_SEGMENT8    VARCHAR2
         ,p_LOC_SEGMENT9    VARCHAR2
         ,p_LOC_SEGMENT10    VARCHAR2
         ,p_LOC_SEGMENT11    VARCHAR2
         ,p_LOC_SEGMENT12    VARCHAR2
         ,p_LOC_SEGMENT13    VARCHAR2
         ,p_LOC_SEGMENT14    VARCHAR2
         ,p_LOC_SEGMENT15    VARCHAR2
         ,p_LOC_SEGMENT16    VARCHAR2
         ,p_LOC_SEGMENT17    VARCHAR2
         ,p_LOC_SEGMENT18    VARCHAR2
         ,p_LOC_SEGMENT19    VARCHAR2
         ,p_LOC_SEGMENT20    VARCHAR2)

IS
BEGIN
    Update CSD_REPAIR_ACTUAL_LINES
    SET
        OBJECT_VERSION_NUMBER = decode( p_OBJECT_VERSION_NUMBER, FND_API.G_MISS_NUM, NULL, NULL, OBJECT_VERSION_NUMBER, p_OBJECT_VERSION_NUMBER)
       ,ESTIMATE_DETAIL_ID = decode( p_ESTIMATE_DETAIL_ID, FND_API.G_MISS_NUM, NULL, NULL, ESTIMATE_DETAIL_ID, p_ESTIMATE_DETAIL_ID)
       ,REPAIR_ACTUAL_ID = decode( p_REPAIR_ACTUAL_ID, FND_API.G_MISS_NUM, NULL, NULL, REPAIR_ACTUAL_ID, p_REPAIR_ACTUAL_ID)
       ,REPAIR_LINE_ID = decode( p_REPAIR_LINE_ID, FND_API.G_MISS_NUM, NULL, NULL, REPAIR_LINE_ID, p_REPAIR_LINE_ID)
--       ,CREATED_BY = decode( p_CREATED_BY, FND_API.G_MISS_NUM, NULL, NULL, CREATED_BY, p_CREATED_BY)
--       ,CREATION_DATE = decode( p_CREATION_DATE, FND_API.G_MISS_DATE, NULL, NULL, CREATION_DATE, p_CREATION_DATE)
       ,LAST_UPDATED_BY = decode( p_LAST_UPDATED_BY, FND_API.G_MISS_NUM, NULL, NULL, LAST_UPDATED_BY, p_LAST_UPDATED_BY)
       ,LAST_UPDATE_DATE = decode( p_LAST_UPDATE_DATE, FND_API.G_MISS_DATE, NULL, NULL, LAST_UPDATE_DATE, p_LAST_UPDATE_DATE)
       ,LAST_UPDATE_LOGIN = decode( p_LAST_UPDATE_LOGIN, FND_API.G_MISS_NUM, NULL, NULL, LAST_UPDATE_LOGIN, p_LAST_UPDATE_LOGIN)
       ,ITEM_COST = decode( p_ITEM_COST, FND_API.G_MISS_NUM, NULL, NULL, ITEM_COST, p_ITEM_COST)
       ,JUSTIFICATION_NOTES = decode( p_JUSTIFICATION_NOTES, FND_API.G_MISS_CHAR, NULL, NULL, JUSTIFICATION_NOTES, p_JUSTIFICATION_NOTES)
       ,RESOURCE_ID = decode( p_RESOURCE_ID, FND_API.G_MISS_NUM, NULL, NULL, RESOURCE_ID, p_RESOURCE_ID)
       ,OVERRIDE_CHARGE_FLAG = decode( p_OVERRIDE_CHARGE_FLAG, FND_API.G_MISS_CHAR, NULL, NULL, OVERRIDE_CHARGE_FLAG, p_OVERRIDE_CHARGE_FLAG)
       ,ACTUAL_SOURCE_CODE = decode( p_ACTUAL_SOURCE_CODE, FND_API.G_MISS_CHAR, NULL, NULL, ACTUAL_SOURCE_CODE, p_ACTUAL_SOURCE_CODE)
       ,ACTUAL_SOURCE_ID = decode( p_ACTUAL_SOURCE_ID, FND_API.G_MISS_NUM, NULL, NULL, ACTUAL_SOURCE_ID, p_ACTUAL_SOURCE_ID)
       ,WARRANTY_CLAIM_FLAG = decode( p_WARRANTY_CLAIM_FLAG, FND_API.G_MISS_CHAR, NULL, NULL, WARRANTY_CLAIM_FLAG, p_WARRANTY_CLAIM_FLAG)
       ,WARRANTY_NUMBER = decode( p_WARRANTY_NUMBER, FND_API.G_MISS_CHAR, NULL, NULL, WARRANTY_NUMBER, p_WARRANTY_NUMBER)
       ,WARRANTY_STATUS_CODE = decode( p_WARRANTY_STATUS_CODE, FND_API.G_MISS_CHAR, NULL, NULL, WARRANTY_STATUS_CODE, p_WARRANTY_STATUS_CODE)
       ,REPLACED_ITEM_ID = decode( p_REPLACED_ITEM_ID, FND_API.G_MISS_NUM, NULL, NULL, REPLACED_ITEM_ID, p_REPLACED_ITEM_ID)
       ,ATTRIBUTE_CATEGORY = decode( p_ATTRIBUTE_CATEGORY, FND_API.G_MISS_CHAR, NULL, NULL, ATTRIBUTE_CATEGORY, p_ATTRIBUTE_CATEGORY)
       ,ATTRIBUTE1 = decode( p_ATTRIBUTE1, FND_API.G_MISS_CHAR, NULL, NULL, ATTRIBUTE1, p_ATTRIBUTE1)
       ,ATTRIBUTE2 = decode( p_ATTRIBUTE2, FND_API.G_MISS_CHAR, NULL, NULL, ATTRIBUTE2, p_ATTRIBUTE2)
       ,ATTRIBUTE3 = decode( p_ATTRIBUTE3, FND_API.G_MISS_CHAR, NULL, NULL, ATTRIBUTE3, p_ATTRIBUTE3)
       ,ATTRIBUTE4 = decode( p_ATTRIBUTE4, FND_API.G_MISS_CHAR, NULL, NULL, ATTRIBUTE4, p_ATTRIBUTE4)
       ,ATTRIBUTE5 = decode( p_ATTRIBUTE5, FND_API.G_MISS_CHAR, NULL, NULL, ATTRIBUTE5, p_ATTRIBUTE5)
       ,ATTRIBUTE6 = decode( p_ATTRIBUTE6, FND_API.G_MISS_CHAR, NULL, NULL, ATTRIBUTE6, p_ATTRIBUTE6)
       ,ATTRIBUTE7 = decode( p_ATTRIBUTE7, FND_API.G_MISS_CHAR, NULL, NULL, ATTRIBUTE7, p_ATTRIBUTE7)
       ,ATTRIBUTE8 = decode( p_ATTRIBUTE8, FND_API.G_MISS_CHAR, NULL, NULL, ATTRIBUTE8, p_ATTRIBUTE8)
       ,ATTRIBUTE9 = decode( p_ATTRIBUTE9, FND_API.G_MISS_CHAR, NULL, NULL, ATTRIBUTE9, p_ATTRIBUTE9)
       ,ATTRIBUTE10 = decode( p_ATTRIBUTE10, FND_API.G_MISS_CHAR, NULL, NULL, ATTRIBUTE10, p_ATTRIBUTE10)
       ,ATTRIBUTE11 = decode( p_ATTRIBUTE11, FND_API.G_MISS_CHAR, NULL, NULL, ATTRIBUTE11, p_ATTRIBUTE11)
       ,ATTRIBUTE12 = decode( p_ATTRIBUTE12, FND_API.G_MISS_CHAR, NULL, NULL, ATTRIBUTE12, p_ATTRIBUTE12)
       ,ATTRIBUTE13 = decode( p_ATTRIBUTE13, FND_API.G_MISS_CHAR, NULL, NULL, ATTRIBUTE13, p_ATTRIBUTE13)
       ,ATTRIBUTE14 = decode( p_ATTRIBUTE14, FND_API.G_MISS_CHAR, NULL, NULL, ATTRIBUTE14, p_ATTRIBUTE14)
       ,ATTRIBUTE15 = decode( p_ATTRIBUTE15, FND_API.G_MISS_CHAR, NULL, NULL, ATTRIBUTE15, p_ATTRIBUTE15)
       ,LOCATOR_ID = decode( p_LOCATOR_ID, FND_API.G_MISS_NUM, NULL, NULL, LOCATOR_ID, p_LOCATOR_ID)
       ,LOC_SEGMENT1 = decode( p_LOC_SEGMENT1, FND_API.G_MISS_CHAR, NULL, NULL, LOC_SEGMENT1, p_LOC_SEGMENT1)
       ,LOC_SEGMENT2 = decode( p_LOC_SEGMENT2, FND_API.G_MISS_CHAR, NULL, NULL, LOC_SEGMENT2, p_LOC_SEGMENT2)
       ,LOC_SEGMENT3 = decode( p_LOC_SEGMENT3, FND_API.G_MISS_CHAR, NULL, NULL, LOC_SEGMENT3, p_LOC_SEGMENT3)
       ,LOC_SEGMENT4 = decode( p_LOC_SEGMENT4, FND_API.G_MISS_CHAR, NULL, NULL, LOC_SEGMENT4, p_LOC_SEGMENT4)
       ,LOC_SEGMENT5 = decode( p_LOC_SEGMENT5, FND_API.G_MISS_CHAR, NULL, NULL, LOC_SEGMENT5, p_LOC_SEGMENT5)
       ,LOC_SEGMENT6 = decode( p_LOC_SEGMENT6, FND_API.G_MISS_CHAR, NULL, NULL, LOC_SEGMENT6, p_LOC_SEGMENT6)
       ,LOC_SEGMENT7 = decode( p_LOC_SEGMENT7, FND_API.G_MISS_CHAR, NULL, NULL, LOC_SEGMENT7, p_LOC_SEGMENT7)
       ,LOC_SEGMENT8 = decode( p_LOC_SEGMENT8, FND_API.G_MISS_CHAR, NULL, NULL, LOC_SEGMENT8, p_LOC_SEGMENT8)
       ,LOC_SEGMENT9 = decode( p_LOC_SEGMENT9, FND_API.G_MISS_CHAR, NULL, NULL, LOC_SEGMENT9, p_LOC_SEGMENT9)
       ,LOC_SEGMENT10 = decode( p_LOC_SEGMENT10, FND_API.G_MISS_CHAR, NULL, NULL, LOC_SEGMENT10, p_LOC_SEGMENT10)
       ,LOC_SEGMENT11 = decode( p_LOC_SEGMENT11, FND_API.G_MISS_CHAR, NULL, NULL, LOC_SEGMENT11, p_LOC_SEGMENT11)
       ,LOC_SEGMENT12 = decode( p_LOC_SEGMENT12, FND_API.G_MISS_CHAR, NULL, NULL, LOC_SEGMENT12, p_LOC_SEGMENT12)
       ,LOC_SEGMENT13 = decode( p_LOC_SEGMENT13, FND_API.G_MISS_CHAR, NULL, NULL, LOC_SEGMENT13, p_LOC_SEGMENT13)
       ,LOC_SEGMENT14 = decode( p_LOC_SEGMENT14, FND_API.G_MISS_CHAR, NULL, NULL, LOC_SEGMENT14, p_LOC_SEGMENT14)
       ,LOC_SEGMENT15 = decode( p_LOC_SEGMENT15, FND_API.G_MISS_CHAR, NULL, NULL, LOC_SEGMENT15, p_LOC_SEGMENT15)
       ,LOC_SEGMENT16 = decode( p_LOC_SEGMENT16, FND_API.G_MISS_CHAR, NULL, NULL, LOC_SEGMENT16, p_LOC_SEGMENT16)
       ,LOC_SEGMENT17 = decode( p_LOC_SEGMENT17, FND_API.G_MISS_CHAR, NULL, NULL, LOC_SEGMENT17, p_LOC_SEGMENT17)
       ,LOC_SEGMENT18 = decode( p_LOC_SEGMENT18, FND_API.G_MISS_CHAR, NULL, NULL, LOC_SEGMENT18, p_LOC_SEGMENT18)
       ,LOC_SEGMENT19 = decode( p_LOC_SEGMENT19, FND_API.G_MISS_CHAR, NULL, NULL, LOC_SEGMENT19, p_LOC_SEGMENT19)
       ,LOC_SEGMENT20 = decode( p_LOC_SEGMENT20, FND_API.G_MISS_CHAR, NULL, NULL, LOC_SEGMENT20, p_LOC_SEGMENT20)
    where REPAIR_ACTUAL_LINE_ID = p_REPAIR_ACTUAL_LINE_ID;

    If (SQL%NOTFOUND) then
        RAISE NO_DATA_FOUND;
    End If;
END Update_Row;

PROCEDURE Delete_Row(
          p_REPAIR_ACTUAL_LINE_ID  NUMBER
         ,p_OBJECT_VERSION_NUMBER    NUMBER)
IS
BEGIN
    DELETE FROM CSD_REPAIR_ACTUAL_LINES
    WHERE REPAIR_ACTUAL_LINE_ID = p_REPAIR_ACTUAL_LINE_ID;
    If (SQL%NOTFOUND) then
        RAISE NO_DATA_FOUND;
    End If;
END Delete_Row;

PROCEDURE Lock_Row(
          p_REPAIR_ACTUAL_LINE_ID    NUMBER
         ,p_OBJECT_VERSION_NUMBER    NUMBER)

 IS
     -- Variables used in FND Log
     l_stat_level   number   := FND_LOG.LEVEL_STATEMENT;
     l_proc_level   number   := FND_LOG.LEVEL_PROCEDURE;
     l_event_level  number   := FND_LOG.LEVEL_EVENT;
     l_excep_level  number   := FND_LOG.LEVEL_EXCEPTION;
     l_error_level  number   := FND_LOG.LEVEL_ERROR;
     l_unexp_level  number   := FND_LOG.LEVEL_UNEXPECTED;
     l_mod_name     varchar2(2000) := 'csd.plsql.CSD_REPAIR_ACTUAL_LINES_PKG.Lock_Row';

   CURSOR C IS
       SELECT *
       FROM CSD_REPAIR_ACTUAL_LINES
       WHERE REPAIR_ACTUAL_LINE_ID =  p_REPAIR_ACTUAL_LINE_ID
       FOR UPDATE of REPAIR_ACTUAL_LINE_ID NOWAIT;
   Recinfo C%ROWTYPE;
BEGIN
        OPEN C;
        FETCH C INTO Recinfo;
        If (C%NOTFOUND) then
            CLOSE C;
            FND_MESSAGE.SET_NAME('FND', 'FORM_RECORD_DELETED');
            APP_EXCEPTION.RAISE_EXCEPTION;
        End If;
        CLOSE C;

        IF ( l_stat_level >= G_debug_level) THEN
             FND_LOG.STRING(l_stat_level,l_mod_name,'CSD_REPAIR_ACTUAL_LINES_PKG Recinfo.OBJECT_VERSION_NUMBER : '||Recinfo.OBJECT_VERSION_NUMBER);
             FND_LOG.STRING(l_stat_level,l_mod_name,'CSD_REPAIR_ACTUAL_LINES_PKG p_OBJECT_VERSION_NUMBER : '||p_OBJECT_VERSION_NUMBER);
        END IF;

        If ( Recinfo.OBJECT_VERSION_NUMBER = p_OBJECT_VERSION_NUMBER) then
            return;
        else
            FND_MESSAGE.SET_NAME('FND', 'FORM_RECORD_CHANGED');
            APP_EXCEPTION.RAISE_EXCEPTION;
        End If;
END Lock_Row;

End CSD_REPAIR_ACTUAL_LINES_PKG;

/
