--------------------------------------------------------
--  DDL for Package Body ASO_QUOTE_LINES_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "APPS"."ASO_QUOTE_LINES_PKG" as
/* $Header: asotqlnb.pls 120.2.12010000.11 2016/01/22 16:34:21 akushwah ship $ */
-- Start of Comments
-- Package name     : ASO_QUOTE_LINES_PKG
-- Purpose          :
-- History          :
-- NOTE             :
-- End of Comments


G_PKG_NAME CONSTANT VARCHAR2(30):= 'ASO_QUOTE_LINES_PKG';
G_FILE_NAME CONSTANT VARCHAR2(12) := 'asotqlnb.pls';


PROCEDURE Insert_Row(
          px_QUOTE_LINE_ID   IN OUT NOCOPY /* file.sql.39 change */   NUMBER,
          p_CREATION_DATE    DATE,
          p_CREATED_BY    NUMBER,
          p_LAST_UPDATE_DATE    DATE,
          p_LAST_UPDATED_BY    NUMBER,
          p_LAST_UPDATE_LOGIN    NUMBER,
          p_REQUEST_ID    NUMBER,
          p_PROGRAM_APPLICATION_ID    NUMBER,
          p_PROGRAM_ID    NUMBER,
          p_PROGRAM_UPDATE_DATE    DATE,
          p_QUOTE_HEADER_ID    NUMBER,
          p_ORG_ID    NUMBER,
          p_LINE_CATEGORY_CODE    VARCHAR2,
          p_ITEM_TYPE_CODE    VARCHAR2,
          p_LINE_NUMBER    NUMBER,
          p_START_DATE_ACTIVE    DATE,
          p_END_DATE_ACTIVE    DATE,
          p_ORDER_LINE_TYPE_ID    NUMBER,
          p_INVOICE_TO_PARTY_SITE_ID    NUMBER,
          p_INVOICE_TO_PARTY_ID    NUMBER,
          p_INVOICE_TO_CUST_ACCOUNT_ID    NUMBER,
          p_ORGANIZATION_ID    NUMBER,
          p_INVENTORY_ITEM_ID    NUMBER,
          p_QUANTITY    NUMBER,
          p_UOM_CODE    VARCHAR2,
          p_MARKETING_SOURCE_CODE_ID    NUMBER,
          p_PRICE_LIST_ID    NUMBER,
          p_PRICE_LIST_LINE_ID    NUMBER,
          p_CURRENCY_CODE    VARCHAR2,
          p_LINE_LIST_PRICE    NUMBER,
          p_LINE_ADJUSTED_AMOUNT    NUMBER,
          p_LINE_ADJUSTED_PERCENT    NUMBER,
          p_LINE_QUOTE_PRICE    NUMBER,
          p_RELATED_ITEM_ID    NUMBER,
          p_ITEM_RELATIONSHIP_TYPE    VARCHAR2,
          p_ACCOUNTING_RULE_ID    NUMBER,
          p_INVOICING_RULE_ID    NUMBER,
          p_SPLIT_SHIPMENT_FLAG    VARCHAR2,
          p_BACKORDER_FLAG    VARCHAR2,
          p_MINISITE_ID    NUMBER,
          p_SECTION_ID    NUMBER,
          p_ATTRIBUTE_CATEGORY	  VARCHAR2,
          p_ATTRIBUTE1    VARCHAR2,
          p_ATTRIBUTE2    VARCHAR2,
          p_ATTRIBUTE3    VARCHAR2,
          p_ATTRIBUTE4    VARCHAR2,
          p_ATTRIBUTE5    VARCHAR2,
          p_ATTRIBUTE6    VARCHAR2,
          p_ATTRIBUTE7    VARCHAR2,
          p_ATTRIBUTE8    VARCHAR2,
          p_ATTRIBUTE9    VARCHAR2,
          p_ATTRIBUTE10    VARCHAR2,
          p_ATTRIBUTE11    VARCHAR2,
          p_ATTRIBUTE12    VARCHAR2,
          p_ATTRIBUTE13    VARCHAR2,
          p_ATTRIBUTE14    VARCHAR2,
          p_ATTRIBUTE15    VARCHAR2,
          p_ATTRIBUTE16    VARCHAR2,
          p_ATTRIBUTE17    VARCHAR2,
          p_ATTRIBUTE18    VARCHAR2,
          p_ATTRIBUTE19    VARCHAR2,
          p_ATTRIBUTE20    VARCHAR2,
          p_PRICED_PRICE_LIST_ID NUMBER,
          p_AGREEMENT_ID     NUMBER,
          p_COMMITMENT_ID    NUMBER,
	     p_DISPLAY_ARITHMETIC_OPERATOR VARCHAR2,
		p_LINE_TYPE_SOURCE_FLAG VARCHAR2,
		p_SERVICE_ITEM_FLAG VARCHAR2,
		p_SERVICEABLE_PRODUCT_FLAG VARCHAR2,
		p_INVOICE_TO_CUST_PARTY_ID NUMBER,
		p_selling_price_change   VARCHAR2,
		p_recalculate_flag    VARCHAR2,
		p_pricing_line_type_indicator VARCHAR2,
          p_END_CUSTOMER_PARTY_ID NUMBER,
          p_END_CUSTOMER_CUST_PARTY_ID NUMBER,
          p_END_CUSTOMER_PARTY_SITE_ID NUMBER,
          p_END_CUSTOMER_CUST_ACCOUNT_ID NUMBER,
          p_OBJECT_VERSION_NUMBER  NUMBER,
          p_CHARGE_PERIODICITY_CODE VARCHAR2,  -- Recurring charges Change
          p_SHIP_MODEL_COMPLETE_FLAG VARCHAR2,
          p_LINE_PAYNOW_CHARGES NUMBER,
          p_LINE_PAYNOW_TAX NUMBER,
          p_LINE_PAYNOW_SUBTOTAL NUMBER,
		p_PRICING_QUANTITY_UOM VARCHAR2,
		p_PRICING_QUANTITY NUMBER,
          p_CONFIG_MODEL_TYPE  VARCHAR2,
	  -- ER 12879412
P_PRODUCT_FISC_CLASSIFICATION VARCHAR2,
P_TRX_BUSINESS_CATEGORY  VARCHAR2,
--ER 16531247
P_ORDERED_ITEM_ID NUMBER,
P_ITEM_IDENTIFIER_TYPE varchar2,
P_ORDERED_ITEM varchar2,
-- P_UNIT_PRICE NUMBER -- bug 17517305  commented for Bug 18930865
 -- ER 21158830
	P_LINE_UNIT_COST NUMBER,
	P_LINE_MARGIN_AMOUNT NUMBER,
	P_LINE_MARGIN_PERCENT NUMBER,
  p_QUANTITY_UOM_CHANGE   VARCHAR2   -- added for Bug 22582573
)

 IS
   CURSOR C2 IS SELECT ASO_QUOTE_LINES_S.nextval FROM sys.dual;


BEGIN
   If (px_QUOTE_LINE_ID IS NULL) OR (px_QUOTE_LINE_ID = FND_API.G_MISS_NUM) then


       OPEN C2;
       FETCH C2 INTO px_QUOTE_LINE_ID;
       CLOSE C2;

   End If;
   INSERT INTO ASO_QUOTE_LINES_ALL(
           QUOTE_LINE_ID,
           CREATION_DATE,
           CREATED_BY,
           LAST_UPDATE_DATE,
           LAST_UPDATED_BY,
           LAST_UPDATE_LOGIN,
           REQUEST_ID,
           PROGRAM_APPLICATION_ID,
           PROGRAM_ID,
           PROGRAM_UPDATE_DATE,
           QUOTE_HEADER_ID,
           ORG_ID,
           LINE_CATEGORY_CODE,
           ITEM_TYPE_CODE,
           LINE_NUMBER,
           START_DATE_ACTIVE,
           END_DATE_ACTIVE,
           ORDER_LINE_TYPE_ID,
           INVOICE_TO_PARTY_SITE_ID,
           INVOICE_TO_PARTY_ID,
           INVOICE_TO_CUST_ACCOUNT_ID,
           ORGANIZATION_ID,
           INVENTORY_ITEM_ID,
           QUANTITY,
           UOM_CODE,
           MARKETING_SOURCE_CODE_ID,
           PRICE_LIST_ID,
           PRICE_LIST_LINE_ID,
           CURRENCY_CODE,
           LINE_LIST_PRICE,
           LINE_ADJUSTED_AMOUNT,
           LINE_ADJUSTED_PERCENT,
           LINE_QUOTE_PRICE,
           RELATED_ITEM_ID,
           ITEM_RELATIONSHIP_TYPE,
           ACCOUNTING_RULE_ID,
           INVOICING_RULE_ID,
           SPLIT_SHIPMENT_FLAG,
           BACKORDER_FLAG,
	   MINISITE_ID,
	   SECTION_ID,
           ATTRIBUTE_CATEGORY,
           ATTRIBUTE1,
           ATTRIBUTE2,
           ATTRIBUTE3,
           ATTRIBUTE4,
           ATTRIBUTE5,
           ATTRIBUTE6,
           ATTRIBUTE7,
           ATTRIBUTE8,
           ATTRIBUTE9,
           ATTRIBUTE10,
           ATTRIBUTE11,
           ATTRIBUTE12,
           ATTRIBUTE13,
           ATTRIBUTE14,
           ATTRIBUTE15,
           ATTRIBUTE16,
           ATTRIBUTE17,
           ATTRIBUTE18,
           ATTRIBUTE19,
           ATTRIBUTE20,
           PRICED_PRICE_LIST_ID,
           AGREEMENT_ID,
           COMMITMENT_ID,
		 DISPLAY_ARITHMETIC_OPERATOR,
		 LINE_TYPE_SOURCE_FLAG,
		 SERVICE_ITEM_FLAG,
		 SERVICEABLE_PRODUCT_FLAG,
		 INVOICE_TO_CUST_PARTY_ID,
		 selling_price_change,
		 recalculate_flag,
		 pricing_line_type_indicator,
           END_CUSTOMER_PARTY_ID,
           END_CUSTOMER_CUST_PARTY_ID,
           END_CUSTOMER_PARTY_SITE_ID,
           END_CUSTOMER_CUST_ACCOUNT_ID,
           OBJECT_VERSION_NUMBER,
           CHARGE_PERIODICITY_CODE, -- Recurring charges Change
           SHIP_MODEL_COMPLETE_FLAG,
	      LINE_PAYNOW_CHARGES,
           LINE_PAYNOW_TAX,
           LINE_PAYNOW_SUBTOTAL,
		 PRICING_QUANTITY_UOM,
		 PRICING_QUANTITY,
           CONFIG_MODEL_TYPE,
	   -- ER 12879412
	   PRODUCT_FISC_CLASSIFICATION,
	   TRX_BUSINESS_CATEGORY,
	   ORDERED_ITEM_ID,
	   ITEM_IDENTIFIER_TYPE,
	   ORDERED_ITEM,
	   -- bug 17517305
	  -- UNIT_PRICE commented for Bug 18930865
	   -- ER 21158830
	   LINE_UNIT_COST,
	   LINE_MARGIN_AMOUNT,
	   LINE_MARGIN_PERCENT,
     QUANTITY_UOM_CHANGE        -- added for Bug 22237877
           ) VALUES (
           px_QUOTE_LINE_ID,
           ASO_UTILITY_PVT.decode( p_CREATION_DATE, FND_API.G_MISS_DATE, NULL, p_CREATION_DATE),
           decode( p_CREATED_BY, FND_API.G_MISS_NUM, NULL, p_CREATED_BY),
           ASO_UTILITY_PVT.decode(p_LAST_UPDATE_DATE, FND_API.G_MISS_DATE, NULL, p_LAST_UPDATE_DATE),
           decode( p_LAST_UPDATED_BY, FND_API.G_MISS_NUM, NULL, p_LAST_UPDATED_BY),              decode( p_LAST_UPDATE_LOGIN, FND_API.G_MISS_NUM, NULL, p_LAST_UPDATE_LOGIN),
           decode( p_REQUEST_ID, FND_API.G_MISS_NUM, NULL, p_REQUEST_ID),
           decode( p_PROGRAM_APPLICATION_ID, FND_API.G_MISS_NUM, NULL, p_PROGRAM_APPLICATION_ID),
           decode( p_PROGRAM_ID, FND_API.G_MISS_NUM, NULL, p_PROGRAM_ID),
           ASO_UTILITY_PVT.decode( p_PROGRAM_UPDATE_DATE, FND_API.G_MISS_DATE, NULL, p_PROGRAM_UPDATE_DATE),
           decode( p_QUOTE_HEADER_ID, FND_API.G_MISS_NUM, NULL, p_QUOTE_HEADER_ID),
           decode( p_ORG_ID, FND_API.G_MISS_NUM, NULL, p_ORG_ID),
           decode( p_LINE_CATEGORY_CODE, FND_API.G_MISS_CHAR, NULL, p_LINE_CATEGORY_CODE),
           decode( p_ITEM_TYPE_CODE, FND_API.G_MISS_CHAR, NULL, p_ITEM_TYPE_CODE),
           decode( p_LINE_NUMBER, FND_API.G_MISS_NUM, NULL, p_LINE_NUMBER),
           ASO_UTILITY_PVT.decode( p_START_DATE_ACTIVE, FND_API.G_MISS_DATE, NULL, p_START_DATE_ACTIVE),
           ASO_UTILITY_PVT.decode( p_END_DATE_ACTIVE, FND_API.G_MISS_DATE, NULL, p_END_DATE_ACTIVE),
           decode( p_ORDER_LINE_TYPE_ID, FND_API.G_MISS_NUM, NULL, p_ORDER_LINE_TYPE_ID),
           decode( p_INVOICE_TO_PARTY_SITE_ID, FND_API.G_MISS_NUM, NULL, p_INVOICE_TO_PARTY_SITE_ID),
           decode( p_INVOICE_TO_PARTY_ID, FND_API.G_MISS_NUM, NULL, p_INVOICE_TO_PARTY_ID),
           decode( p_INVOICE_TO_CUST_ACCOUNT_ID, FND_API.G_MISS_NUM, NULL, p_INVOICE_TO_CUST_ACCOUNT_ID),
           decode( p_ORGANIZATION_ID, FND_API.G_MISS_NUM, NULL, p_ORGANIZATION_ID),
           decode( p_INVENTORY_ITEM_ID, FND_API.G_MISS_NUM, NULL, p_INVENTORY_ITEM_ID),
           decode( p_QUANTITY, FND_API.G_MISS_NUM, NULL, p_QUANTITY),
           decode( p_UOM_CODE, FND_API.G_MISS_CHAR, NULL, p_UOM_CODE),
           decode( p_MARKETING_SOURCE_CODE_ID, FND_API.G_MISS_NUM, NULL, p_MARKETING_SOURCE_CODE_ID),
           decode( p_PRICE_LIST_ID, FND_API.G_MISS_NUM, NULL, p_PRICE_LIST_ID),
           decode( p_PRICE_LIST_LINE_ID, FND_API.G_MISS_NUM, NULL, p_PRICE_LIST_LINE_ID),
           decode( p_CURRENCY_CODE, FND_API.G_MISS_CHAR, NULL, p_CURRENCY_CODE),
           decode( p_LINE_LIST_PRICE, FND_API.G_MISS_NUM, NULL, p_LINE_LIST_PRICE),
           decode( p_LINE_ADJUSTED_AMOUNT, FND_API.G_MISS_NUM, NULL, p_LINE_ADJUSTED_AMOUNT),
          decode( p_LINE_ADJUSTED_PERCENT, FND_API.G_MISS_NUM, NULL, p_LINE_ADJUSTED_PERCENT),
          decode( p_LINE_QUOTE_PRICE, FND_API.G_MISS_NUM, NULL, p_LINE_QUOTE_PRICE),
          decode( p_RELATED_ITEM_ID, FND_API.G_MISS_NUM, NULL, p_RELATED_ITEM_ID),
          decode( p_ITEM_RELATIONSHIP_TYPE, FND_API.G_MISS_CHAR, NULL, p_ITEM_RELATIONSHIP_TYPE),
          decode( p_ACCOUNTING_RULE_ID, FND_API.G_MISS_NUM, NULL, p_ACCOUNTING_RULE_ID),
           decode( p_INVOICING_RULE_ID, FND_API.G_MISS_NUM, NULL, p_INVOICING_RULE_ID),
           decode( p_SPLIT_SHIPMENT_FLAG, FND_API.G_MISS_CHAR, NULL, p_SPLIT_SHIPMENT_FLAG),
           decode( p_BACKORDER_FLAG, FND_API.G_MISS_CHAR, NULL, p_BACKORDER_FLAG),
           decode( p_MINISITE_ID, FND_API.G_MISS_NUM, NULL, p_MINISITE_ID),
           decode( p_SECTION_ID, FND_API.G_MISS_NUM, NULL, p_SECTION_ID),
           decode( p_ATTRIBUTE_CATEGORY, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE_CATEGORY),
           decode( p_ATTRIBUTE1, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE1),
           decode( p_ATTRIBUTE2, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE2),
           decode( p_ATTRIBUTE3, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE3),
           decode( p_ATTRIBUTE4, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE4),
           decode( p_ATTRIBUTE5, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE5),
           decode( p_ATTRIBUTE6, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE6),
           decode( p_ATTRIBUTE7, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE7),
           decode( p_ATTRIBUTE8, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE8),
           decode( p_ATTRIBUTE9, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE9),
           decode( p_ATTRIBUTE10, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE10),
           decode( p_ATTRIBUTE11, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE11),
           decode( p_ATTRIBUTE12, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE12),
           decode( p_ATTRIBUTE13, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE13),
           decode( p_ATTRIBUTE14, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE14),
           decode( p_ATTRIBUTE15, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE15),
           decode( p_ATTRIBUTE16, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE16),
           decode( p_ATTRIBUTE17, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE17),
           decode( p_ATTRIBUTE18, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE18),
           decode( p_ATTRIBUTE19, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE19),
           decode( p_ATTRIBUTE20, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE20),
           decode( p_PRICED_PRICE_LIST_ID, FND_API.G_MISS_NUM, NULL, p_PRICED_PRICE_LIST_ID),
           decode( p_AGREEMENT_ID, FND_API.G_MISS_NUM, NULL, p_AGREEMENT_ID),
           decode( p_COMMITMENT_ID, FND_API.G_MISS_NUM, NULL, p_COMMITMENT_ID),
		 decode( p_DISPLAY_ARITHMETIC_OPERATOR,FND_API.G_MISS_CHAR, NULL,p_DISPLAY_ARITHMETIC_OPERATOR),
		 decode( p_LINE_TYPE_SOURCE_FLAG,FND_API.G_MISS_CHAR, NULL,p_LINE_TYPE_SOURCE_FLAG),
		 decode( p_SERVICE_ITEM_FLAG,FND_API.G_MISS_CHAR, NULL,p_SERVICE_ITEM_FLAG),
		 decode( p_SERVICEABLE_PRODUCT_FLAG,FND_API.G_MISS_CHAR, NULL,p_SERVICEABLE_PRODUCT_FLAG),
		 decode( p_INVOICE_TO_CUST_PARTY_ID,FND_API.G_MISS_NUM, NULL,p_INVOICE_TO_CUST_PARTY_ID),
		 decode( p_selling_price_change,FND_API.G_MISS_CHAR, 'N',p_selling_price_change),
		 decode( p_recalculate_flag,FND_API.G_MISS_CHAR, 'N',p_recalculate_flag),
		 decode( p_pricing_line_type_indicator, fnd_api.g_miss_char, null, p_pricing_line_type_indicator),
		 decode( p_END_CUSTOMER_PARTY_ID,FND_API.G_MISS_NUM, NULL,p_END_CUSTOMER_PARTY_ID),
		 decode( p_END_CUSTOMER_CUST_PARTY_ID,FND_API.G_MISS_NUM, NULL,p_END_CUSTOMER_CUST_PARTY_ID),
		 decode( p_END_CUSTOMER_PARTY_SITE_ID,FND_API.G_MISS_NUM, NULL,p_END_CUSTOMER_PARTY_SITE_ID),
		 decode( p_END_CUSTOMER_CUST_ACCOUNT_ID,FND_API.G_MISS_NUM, NULL,p_END_CUSTOMER_CUST_ACCOUNT_ID),
		 decode ( p_OBJECT_VERSION_NUMBER, FND_API.G_MISS_NUM,1,NULL,1, p_OBJECT_VERSION_NUMBER),
             decode ( p_CHARGE_PERIODICITY_CODE,FND_API.G_MISS_CHAR,NULL,p_CHARGE_PERIODICITY_CODE), -- Recurring charges Change
           decode ( p_SHIP_MODEL_COMPLETE_FLAG,FND_API.G_MISS_CHAR,NULL,p_SHIP_MODEL_COMPLETE_FLAG),
           decode ( p_LINE_PAYNOW_CHARGES,FND_API.G_MISS_NUM,NULL,p_LINE_PAYNOW_CHARGES),
           decode ( p_LINE_PAYNOW_TAX,FND_API.G_MISS_NUM,NULL,p_LINE_PAYNOW_TAX),
           decode ( p_LINE_PAYNOW_SUBTOTAL,FND_API.G_MISS_NUM,NULL,p_LINE_PAYNOW_SUBTOTAL),
		 decode( p_pricing_quantity_uom, fnd_api.g_miss_char, null, p_pricing_quantity_uom),
           decode (p_pricing_quantity,FND_API.G_MISS_NUM,NULL,p_pricing_quantity),
          decode( p_CONFIG_MODEL_TYPE, fnd_api.g_miss_char, null, p_CONFIG_MODEL_TYPE),
	    -- ER 12879412
	  decode( P_PRODUCT_FISC_CLASSIFICATION,FND_API.G_MISS_CHAR, NULL,P_PRODUCT_FISC_CLASSIFICATION),
	   decode( P_TRX_BUSINESS_CATEGORY,FND_API.G_MISS_CHAR, NULL,P_TRX_BUSINESS_CATEGORY),

	     -- ER 16531247
	  decode( P_ORDERED_ITEM_ID,FND_API.G_MISS_NUM, NULL,P_ORDERED_ITEM_ID),
	   decode( P_ITEM_IDENTIFIER_TYPE,FND_API.G_MISS_CHAR, NULL,P_ITEM_IDENTIFIER_TYPE),
	   decode( P_ORDERED_ITEM,FND_API.G_MISS_CHAR, NULL,P_ORDERED_ITEM),
           -- bug 17517305
	  -- decode( p_UNIT_PRICE, FND_API.G_MISS_NUM, NULL, p_UNIT_PRICE) commented for Bug 18930865
	  -- ER 21158830
	   decode( P_LINE_UNIT_COST, FND_API.G_MISS_NUM, NULL, P_LINE_UNIT_COST),
	   decode( P_LINE_MARGIN_AMOUNT, FND_API.G_MISS_NUM, NULL, P_LINE_MARGIN_AMOUNT),
	   decode( P_LINE_MARGIN_PERCENT, FND_API.G_MISS_NUM, NULL, P_LINE_MARGIN_PERCENT),
       decode( p_QUANTITY_UOM_CHANGE,FND_API.G_MISS_CHAR, 'N',p_QUANTITY_UOM_CHANGE)   -- added for Bug 22237877
);
End Insert_Row;

PROCEDURE Update_Row(
          p_QUOTE_LINE_ID    NUMBER,
          p_CREATION_DATE    DATE,
          p_CREATED_BY    NUMBER,
          p_LAST_UPDATE_DATE    DATE,
          p_LAST_UPDATED_BY    NUMBER,
          p_LAST_UPDATE_LOGIN    NUMBER,
          p_REQUEST_ID    NUMBER,
          p_PROGRAM_APPLICATION_ID    NUMBER,
          p_PROGRAM_ID    NUMBER,
          p_PROGRAM_UPDATE_DATE    DATE,
          p_QUOTE_HEADER_ID    NUMBER,
          p_ORG_ID    NUMBER,
          p_LINE_CATEGORY_CODE    VARCHAR2,
          p_ITEM_TYPE_CODE    VARCHAR2,
          p_LINE_NUMBER    NUMBER,
          p_START_DATE_ACTIVE    DATE,
          p_END_DATE_ACTIVE    DATE,
          p_ORDER_LINE_TYPE_ID    NUMBER,
          p_INVOICE_TO_PARTY_SITE_ID    NUMBER,
          p_INVOICE_TO_PARTY_ID    NUMBER,
          p_INVOICE_TO_CUST_ACCOUNT_ID    NUMBER,
          p_ORGANIZATION_ID    NUMBER,
          p_INVENTORY_ITEM_ID    NUMBER,
          p_QUANTITY    NUMBER,
          p_UOM_CODE    VARCHAR2,
          p_MARKETING_SOURCE_CODE_ID    NUMBER,
          p_PRICE_LIST_ID    NUMBER,
          p_PRICE_LIST_LINE_ID    NUMBER,
          p_CURRENCY_CODE    VARCHAR2,
          p_LINE_LIST_PRICE    NUMBER,
          p_LINE_ADJUSTED_AMOUNT    NUMBER,
          p_LINE_ADJUSTED_PERCENT    NUMBER,
          p_LINE_QUOTE_PRICE    NUMBER,
          p_RELATED_ITEM_ID    NUMBER,
          p_ITEM_RELATIONSHIP_TYPE    VARCHAR2,
          p_ACCOUNTING_RULE_ID    NUMBER,
          p_INVOICING_RULE_ID    NUMBER,
          p_SPLIT_SHIPMENT_FLAG    VARCHAR2,
          p_BACKORDER_FLAG    VARCHAR2,
          p_MINISITE_ID    NUMBER,
          p_SECTION_ID    NUMBER,
          p_ATTRIBUTE_CATEGORY    VARCHAR2,
          p_ATTRIBUTE1    VARCHAR2,
          p_ATTRIBUTE2    VARCHAR2,
          p_ATTRIBUTE3    VARCHAR2,
          p_ATTRIBUTE4    VARCHAR2,
          p_ATTRIBUTE5    VARCHAR2,
          p_ATTRIBUTE6    VARCHAR2,
          p_ATTRIBUTE7    VARCHAR2,
          p_ATTRIBUTE8    VARCHAR2,
          p_ATTRIBUTE9    VARCHAR2,
          p_ATTRIBUTE10    VARCHAR2,
          p_ATTRIBUTE11    VARCHAR2,
          p_ATTRIBUTE12    VARCHAR2,
          p_ATTRIBUTE13    VARCHAR2,
          p_ATTRIBUTE14    VARCHAR2,
          p_ATTRIBUTE15    VARCHAR2,
          p_ATTRIBUTE16    VARCHAR2,
          p_ATTRIBUTE17    VARCHAR2,
          p_ATTRIBUTE18    VARCHAR2,
          p_ATTRIBUTE19    VARCHAR2,
          p_ATTRIBUTE20    VARCHAR2,
          p_PRICED_PRICE_LIST_ID NUMBER,
          p_AGREEMENT_ID     NUMBER,
          p_COMMITMENT_ID    NUMBER,
		p_DISPLAY_ARITHMETIC_OPERATOR VARCHAR2,
		p_LINE_TYPE_SOURCE_FLAG VARCHAR2,
		p_SERVICE_ITEM_FLAG VARCHAR2,
		p_SERVICEABLE_PRODUCT_FLAG VARCHAR2,
		p_INVOICE_TO_CUST_PARTY_ID NUMBER,
		p_selling_price_change VARCHAR2,
		p_recalculate_flag VARCHAR2,
		p_pricing_line_type_indicator VARCHAR2,
          p_END_CUSTOMER_PARTY_ID NUMBER,
          p_END_CUSTOMER_CUST_PARTY_ID NUMBER,
          p_END_CUSTOMER_PARTY_SITE_ID NUMBER,
          p_END_CUSTOMER_CUST_ACCOUNT_ID NUMBER,
          p_OBJECT_VERSION_NUMBER  NUMBER,
          p_CHARGE_PERIODICITY_CODE VARCHAR2,
          p_SHIP_MODEL_COMPLETE_FLAG VARCHAR2,
          p_LINE_PAYNOW_CHARGES NUMBER,
          p_LINE_PAYNOW_TAX NUMBER,
          p_LINE_PAYNOW_SUBTOTAL NUMBER,
		p_PRICING_QUANTITY_UOM VARCHAR2,
		p_PRICING_QUANTITY NUMBER,
          p_CONFIG_MODEL_TYPE  VARCHAR2,
	  -- ER 12879412
P_PRODUCT_FISC_CLASSIFICATION VARCHAR2,
P_TRX_BUSINESS_CATEGORY  VARCHAR2,
--ER 16531247
P_ORDERED_ITEM_ID NUMBER,
P_ITEM_IDENTIFIER_TYPE varchar2,
P_ORDERED_ITEM varchar2,
-- P_UNIT_PRICE NUMBER -- bug 17517305  commented for Bug 18930865
-- ER 21158830
	P_LINE_UNIT_COST NUMBER,
	P_LINE_MARGIN_AMOUNT NUMBER,
	P_LINE_MARGIN_PERCENT NUMBER,
   p_QUANTITY_UOM_CHANGE   VARCHAR2    -- added for Bug 22237877
)

 IS
 BEGIN
    Update ASO_QUOTE_LINES_ALL
    SET
            /*  CREATION_DATE = ASO_UTILITY_PVT.decode( p_CREATION_DATE, FND_API.G_MISS_DATE, CREATION_DATE, p_CREATION_DATE),
              CREATED_BY = decode( p_CREATED_BY, FND_API.G_MISS_NUM, CREATED_BY,p_CREATED_BY),*/
              LAST_UPDATE_DATE = ASO_UTILITY_PVT.decode( p_LAST_UPDATE_DATE, FND_API.G_MISS_DATE, LAST_UPDATE_DATE, p_LAST_UPDATE_DATE),
              LAST_UPDATED_BY = decode( p_LAST_UPDATED_BY, FND_API.G_MISS_NUM, LAST_UPDATED_BY, p_LAST_UPDATED_BY),
              LAST_UPDATE_LOGIN = decode( p_LAST_UPDATE_LOGIN, FND_API.G_MISS_NUM, LAST_UPDATE_LOGIN, p_LAST_UPDATE_LOGIN),
              REQUEST_ID = decode( p_REQUEST_ID, FND_API.G_MISS_NUM, REQUEST_ID, p_REQUEST_ID),
              PROGRAM_APPLICATION_ID = decode( p_PROGRAM_APPLICATION_ID, FND_API.G_MISS_NUM, PROGRAM_APPLICATION_ID, p_PROGRAM_APPLICATION_ID),
              PROGRAM_ID = decode( p_PROGRAM_ID, FND_API.G_MISS_NUM, PROGRAM_ID, p_PROGRAM_ID),
              PROGRAM_UPDATE_DATE = ASO_UTILITY_PVT.decode( p_PROGRAM_UPDATE_DATE, FND_API.G_MISS_DATE, PROGRAM_UPDATE_DATE, p_PROGRAM_UPDATE_DATE),
              QUOTE_HEADER_ID = decode( p_QUOTE_HEADER_ID, FND_API.G_MISS_NUM, QUOTE_HEADER_ID, p_QUOTE_HEADER_ID),
              ORG_ID = decode( p_ORG_ID, FND_API.G_MISS_NUM, ORG_ID, p_ORG_ID),
              LINE_CATEGORY_CODE = decode( p_LINE_CATEGORY_CODE, FND_API.G_MISS_CHAR, LINE_CATEGORY_CODE, p_LINE_CATEGORY_CODE),
              ITEM_TYPE_CODE = decode( p_ITEM_TYPE_CODE, FND_API.G_MISS_CHAR, ITEM_TYPE_CODE, p_ITEM_TYPE_CODE),
              LINE_NUMBER = decode( p_LINE_NUMBER, FND_API.G_MISS_NUM, LINE_NUMBER, p_LINE_NUMBER),
              START_DATE_ACTIVE = ASO_UTILITY_PVT.decode( p_START_DATE_ACTIVE, FND_API.G_MISS_DATE, START_DATE_ACTIVE, p_START_DATE_ACTIVE),
              END_DATE_ACTIVE = ASO_UTILITY_PVT.decode( p_END_DATE_ACTIVE, FND_API.G_MISS_DATE, END_DATE_ACTIVE, p_END_DATE_ACTIVE),
              ORDER_LINE_TYPE_ID = decode( p_ORDER_LINE_TYPE_ID, FND_API.G_MISS_NUM, ORDER_LINE_TYPE_ID, p_ORDER_LINE_TYPE_ID),
              INVOICE_TO_PARTY_SITE_ID = decode( p_INVOICE_TO_PARTY_SITE_ID, FND_API.G_MISS_NUM, INVOICE_TO_PARTY_SITE_ID, p_INVOICE_TO_PARTY_SITE_ID),
              INVOICE_TO_PARTY_ID = decode( p_INVOICE_TO_PARTY_ID, FND_API.G_MISS_NUM, INVOICE_TO_PARTY_ID, p_INVOICE_TO_PARTY_ID),
              INVOICE_TO_CUST_ACCOUNT_ID = decode( p_INVOICE_TO_CUST_ACCOUNT_ID, FND_API.G_MISS_NUM, INVOICE_TO_CUST_ACCOUNT_ID, p_INVOICE_TO_CUST_ACCOUNT_ID),
              ORGANIZATION_ID = decode( p_ORGANIZATION_ID, FND_API.G_MISS_NUM, ORGANIZATION_ID, p_ORGANIZATION_ID),
              INVENTORY_ITEM_ID = decode( p_INVENTORY_ITEM_ID, FND_API.G_MISS_NUM, INVENTORY_ITEM_ID, p_INVENTORY_ITEM_ID),
              QUANTITY = decode( p_QUANTITY, FND_API.G_MISS_NUM, QUANTITY, p_QUANTITY),
              UOM_CODE = decode( p_UOM_CODE, FND_API.G_MISS_CHAR, UOM_CODE, p_UOM_CODE),
               MARKETING_SOURCE_CODE_ID = decode( p_MARKETING_SOURCE_CODE_ID, FND_API.G_MISS_NUM, MARKETING_SOURCE_CODE_ID, p_MARKETING_SOURCE_CODE_ID),
             PRICE_LIST_ID = decode( p_PRICE_LIST_ID, FND_API.G_MISS_NUM, PRICE_LIST_ID, p_PRICE_LIST_ID),
              PRICE_LIST_LINE_ID = decode( p_PRICE_LIST_LINE_ID, FND_API.G_MISS_NUM, PRICE_LIST_LINE_ID, p_PRICE_LIST_LINE_ID),
              CURRENCY_CODE = decode( p_CURRENCY_CODE, FND_API.G_MISS_CHAR, CURRENCY_CODE, p_CURRENCY_CODE),
              LINE_LIST_PRICE = decode( p_LINE_LIST_PRICE, FND_API.G_MISS_NUM, LINE_LIST_PRICE, p_LINE_LIST_PRICE),
              LINE_ADJUSTED_AMOUNT = decode( p_LINE_ADJUSTED_AMOUNT, FND_API.G_MISS_NUM, LINE_ADJUSTED_AMOUNT, p_LINE_ADJUSTED_AMOUNT),
              LINE_ADJUSTED_PERCENT = decode( p_LINE_ADJUSTED_PERCENT, FND_API.G_MISS_NUM, LINE_ADJUSTED_PERCENT, p_LINE_ADJUSTED_PERCENT),
              LINE_QUOTE_PRICE = decode( p_LINE_QUOTE_PRICE, FND_API.G_MISS_NUM, LINE_QUOTE_PRICE, p_LINE_QUOTE_PRICE),
              RELATED_ITEM_ID = decode( p_RELATED_ITEM_ID, FND_API.G_MISS_NUM, RELATED_ITEM_ID, p_RELATED_ITEM_ID),
              ITEM_RELATIONSHIP_TYPE = decode( p_ITEM_RELATIONSHIP_TYPE, FND_API.G_MISS_CHAR, ITEM_RELATIONSHIP_TYPE, p_ITEM_RELATIONSHIP_TYPE),
              ACCOUNTING_RULE_ID = decode( p_ACCOUNTING_RULE_ID, FND_API.G_MISS_NUM, ACCOUNTING_RULE_ID, p_ACCOUNTING_RULE_ID),
               INVOICING_RULE_ID = decode( p_INVOICING_RULE_ID, FND_API.G_MISS_NUM, INVOICING_RULE_ID, p_INVOICING_RULE_ID),
               SPLIT_SHIPMENT_FLAG = decode( p_SPLIT_SHIPMENT_FLAG, FND_API.G_MISS_CHAR, SPLIT_SHIPMENT_FLAG, p_SPLIT_SHIPMENT_FLAG),
              BACKORDER_FLAG = decode( p_BACKORDER_FLAG, FND_API.G_MISS_CHAR, BACKORDER_FLAG, p_BACKORDER_FLAG),
              MINISITE_ID = decode( p_MINISITE_ID, FND_API.G_MISS_NUM, MINISITE_ID, p_MINISITE_ID),
              SECTION_ID = decode( p_SECTION_ID, FND_API.G_MISS_NUM, SECTION_ID, p_SECTION_ID),
              ATTRIBUTE_CATEGORY = decode( p_ATTRIBUTE_CATEGORY, FND_API.G_MISS_CHAR, ATTRIBUTE_CATEGORY, p_ATTRIBUTE_CATEGORY),
              ATTRIBUTE1 = decode( p_ATTRIBUTE1, FND_API.G_MISS_CHAR, ATTRIBUTE1, p_ATTRIBUTE1),
            ATTRIBUTE2 = decode( p_ATTRIBUTE2, FND_API.G_MISS_CHAR, ATTRIBUTE2, p_ATTRIBUTE2),
             ATTRIBUTE3 = decode( p_ATTRIBUTE3, FND_API.G_MISS_CHAR, ATTRIBUTE3, p_ATTRIBUTE3),
             ATTRIBUTE4 = decode( p_ATTRIBUTE4, FND_API.G_MISS_CHAR, ATTRIBUTE4, p_ATTRIBUTE4),
              ATTRIBUTE5 = decode( p_ATTRIBUTE5, FND_API.G_MISS_CHAR, ATTRIBUTE5, p_ATTRIBUTE5),
             ATTRIBUTE6 = decode( p_ATTRIBUTE6, FND_API.G_MISS_CHAR, ATTRIBUTE6, p_ATTRIBUTE6),
               ATTRIBUTE7 = decode( p_ATTRIBUTE7, FND_API.G_MISS_CHAR, ATTRIBUTE7, p_ATTRIBUTE7),
              ATTRIBUTE8 = decode( p_ATTRIBUTE8, FND_API.G_MISS_CHAR, ATTRIBUTE8, p_ATTRIBUTE8),
              ATTRIBUTE9 = decode( p_ATTRIBUTE9, FND_API.G_MISS_CHAR, ATTRIBUTE9, p_ATTRIBUTE9),
              ATTRIBUTE10 = decode( p_ATTRIBUTE10, FND_API.G_MISS_CHAR, ATTRIBUTE10, p_ATTRIBUTE10),
               ATTRIBUTE11 = decode( p_ATTRIBUTE11, FND_API.G_MISS_CHAR, ATTRIBUTE11, p_ATTRIBUTE11),
               ATTRIBUTE12 = decode( p_ATTRIBUTE12, FND_API.G_MISS_CHAR, ATTRIBUTE12, p_ATTRIBUTE12),
             ATTRIBUTE13 = decode( p_ATTRIBUTE13, FND_API.G_MISS_CHAR, ATTRIBUTE13, p_ATTRIBUTE13),
              ATTRIBUTE14 = decode( p_ATTRIBUTE14, FND_API.G_MISS_CHAR, ATTRIBUTE14, p_ATTRIBUTE14),
              ATTRIBUTE15 = decode( p_ATTRIBUTE15, FND_API.G_MISS_CHAR, ATTRIBUTE15, p_ATTRIBUTE15),
             ATTRIBUTE16 = decode( p_ATTRIBUTE16, FND_API.G_MISS_CHAR, ATTRIBUTE16, p_ATTRIBUTE16),
              ATTRIBUTE17 = decode( p_ATTRIBUTE17, FND_API.G_MISS_CHAR, ATTRIBUTE17, p_ATTRIBUTE17),
              ATTRIBUTE18 = decode( p_ATTRIBUTE18, FND_API.G_MISS_CHAR, ATTRIBUTE18, p_ATTRIBUTE18),
              ATTRIBUTE19 = decode( p_ATTRIBUTE19, FND_API.G_MISS_CHAR, ATTRIBUTE19, p_ATTRIBUTE19),
              ATTRIBUTE20 = decode( p_ATTRIBUTE20, FND_API.G_MISS_CHAR, ATTRIBUTE20, p_ATTRIBUTE20),
		 PRICED_PRICE_LIST_ID =  decode( p_PRICED_PRICE_LIST_ID, FND_API.G_MISS_NUM, PRICED_PRICE_LIST_ID, p_PRICED_PRICE_LIST_ID),
		 AGREEMENT_ID = decode( p_AGREEMENT_ID, FND_API.G_MISS_NUM, AGREEMENT_ID, p_AGREEMENT_ID),
		 COMMITMENT_ID = decode( p_COMMITMENT_ID, FND_API.G_MISS_NUM, COMMITMENT_ID, p_COMMITMENT_ID),
		 DISPLAY_ARITHMETIC_OPERATOR = decode( p_DISPLAY_ARITHMETIC_OPERATOR, FND_API.G_MISS_char, DISPLAY_ARITHMETIC_OPERATOR, p_DISPLAY_ARITHMETIC_OPERATOR),
	 LINE_TYPE_SOURCE_FLAG = decode( p_LINE_TYPE_SOURCE_FLAG, FND_API.G_MISS_CHAR, LINE_TYPE_SOURCE_FLAG, p_LINE_TYPE_SOURCE_FLAG),
	 SERVICE_ITEM_FLAG     = decode( p_SERVICE_ITEM_FLAG, FND_API.G_MISS_CHAR, SERVICE_ITEM_FLAG, p_SERVICE_ITEM_FLAG),
	 SERVICEABLE_PRODUCT_FLAG = decode( p_SERVICEABLE_PRODUCT_FLAG, FND_API.G_MISS_CHAR, SERVICEABLE_PRODUCT_FLAG, p_SERVICEABLE_PRODUCT_FLAG),
	 INVOICE_TO_CUST_PARTY_ID = decode( p_INVOICE_TO_CUST_PARTY_ID, FND_API.G_MISS_NUM, INVOICE_TO_CUST_PARTY_ID, p_INVOICE_TO_CUST_PARTY_ID),
      SELLING_PRICE_CHANGE = decode(p_SELLING_PRICE_CHANGE,FND_API.G_MISS_CHAR,SELLING_PRICE_CHANGE,p_SELLING_PRICE_CHANGE),
	 RECALCULATE_FLAG = decode(p_RECALCULATE_FLAG,FND_API.G_MISS_CHAR,RECALCULATE_FLAG,p_RECALCULATE_FLAG),
	 pricing_line_type_indicator = decode(p_pricing_line_type_indicator,fnd_api.g_miss_char,pricing_line_type_indicator,p_pricing_line_type_indicator),
	 END_CUSTOMER_PARTY_ID = decode( p_END_CUSTOMER_PARTY_ID, FND_API.G_MISS_NUM, END_CUSTOMER_PARTY_ID, p_END_CUSTOMER_PARTY_ID),
	 END_CUSTOMER_CUST_PARTY_ID = decode( p_END_CUSTOMER_CUST_PARTY_ID, FND_API.G_MISS_NUM, END_CUSTOMER_CUST_PARTY_ID, p_END_CUSTOMER_CUST_PARTY_ID),
	 END_CUSTOMER_PARTY_SITE_ID = decode( p_END_CUSTOMER_PARTY_SITE_ID, FND_API.G_MISS_NUM, END_CUSTOMER_PARTY_SITE_ID, p_END_CUSTOMER_PARTY_SITE_ID),
	 END_CUSTOMER_CUST_ACCOUNT_ID = decode( p_END_CUSTOMER_CUST_ACCOUNT_ID, FND_API.G_MISS_NUM, END_CUSTOMER_CUST_ACCOUNT_ID, p_END_CUSTOMER_CUST_ACCOUNT_ID),
	 OBJECT_VERSION_NUMBER = decode( p_OBJECT_VERSION_NUMBER, FND_API.G_MISS_NUM, nvl(OBJECT_VERSION_NUMBER,0)+1, nvl(p_OBJECT_VERSION_NUMBER, nvl(OBJECT_VERSION_NUMBER,0))+1),
       CHARGE_PERIODICITY_CODE = decode( p_CHARGE_PERIODICITY_CODE, FND_API.G_MISS_CHAR, CHARGE_PERIODICITY_CODE, p_CHARGE_PERIODICITY_CODE), -- Recurring charges Change

     SHIP_MODEL_COMPLETE_FLAG = decode( p_SHIP_MODEL_COMPLETE_FLAG, FND_API.G_MISS_CHAR, SHIP_MODEL_COMPLETE_FLAG, p_SHIP_MODEL_COMPLETE_FLAG),

      LINE_PAYNOW_CHARGES = decode( p_LINE_PAYNOW_CHARGES, FND_API.G_MISS_NUM,LINE_PAYNOW_CHARGES,p_LINE_PAYNOW_CHARGES),
      LINE_PAYNOW_TAX = decode( p_LINE_PAYNOW_TAX, FND_API.G_MISS_NUM,LINE_PAYNOW_TAX,p_LINE_PAYNOW_TAX),
      LINE_PAYNOW_SUBTOTAL  = decode( p_LINE_PAYNOW_SUBTOTAL, FND_API.G_MISS_NUM,LINE_PAYNOW_SUBTOTAL,p_LINE_PAYNOW_SUBTOTAL),
      PRICING_QUANTITY_UOM = decode( p_PRICING_QUANTITY_UOM, FND_API.G_MISS_CHAR, PRICING_QUANTITY_UOM, p_PRICING_QUANTITY_UOM),
      PRICING_QUANTITY  = decode( p_PRICING_QUANTITY, FND_API.G_MISS_NUM,PRICING_QUANTITY,p_PRICING_QUANTITY),
      CONFIG_MODEL_TYPE = decode( p_CONFIG_MODEL_TYPE, FND_API.G_MISS_CHAR, CONFIG_MODEL_TYPE, p_CONFIG_MODEL_TYPE),
       -- ER 12879412
      PRODUCT_FISC_CLASSIFICATION = decode( P_PRODUCT_FISC_CLASSIFICATION,FND_API.G_MISS_CHAR, PRODUCT_FISC_CLASSIFICATION,P_PRODUCT_FISC_CLASSIFICATION),
      TRX_BUSINESS_CATEGORY =  decode( P_TRX_BUSINESS_CATEGORY,FND_API.G_MISS_CHAR, TRX_BUSINESS_CATEGORY,P_TRX_BUSINESS_CATEGORY),
       ORDERED_ITEM_ID = decode( P_ORDERED_ITEM_ID,FND_API.G_MISS_NUM, ORDERED_ITEM_ID,P_ORDERED_ITEM_ID),
	   ITEM_IDENTIFIER_TYPE = decode( P_ITEM_IDENTIFIER_TYPE,FND_API.G_MISS_CHAR,ITEM_IDENTIFIER_TYPE,P_ITEM_IDENTIFIER_TYPE),
	    ORDERED_ITEM = decode( P_ORDERED_ITEM,FND_API.G_MISS_CHAR, ORDERED_ITEM,P_ORDERED_ITEM),

	   -- UNIT_PRICE = decode( p_UNIT_PRICE, FND_API.G_MISS_NUM, UNIT_PRICE, p_UNIT_PRICE) -- bug 17517305 commented for Bug 18930865
	    -- ER 21158830
	    LINE_UNIT_COST = decode( P_LINE_UNIT_COST, FND_API.G_MISS_NUM, LINE_UNIT_COST, P_LINE_UNIT_COST),
	    LINE_MARGIN_AMOUNT = decode( P_LINE_MARGIN_AMOUNT, FND_API.G_MISS_NUM, LINE_MARGIN_AMOUNT, P_LINE_MARGIN_AMOUNT),
	    LINE_MARGIN_PERCENT = decode( P_LINE_MARGIN_PERCENT, FND_API.G_MISS_NUM, LINE_MARGIN_PERCENT, P_LINE_MARGIN_PERCENT),
        QUANTITY_UOM_CHANGE  = decode(p_QUANTITY_UOM_CHANGE ,FND_API.G_MISS_CHAR,QUANTITY_UOM_CHANGE,p_QUANTITY_UOM_CHANGE)  -- added for Bug 22237877
      where QUOTE_LINE_ID = p_QUOTE_LINE_ID;


    If (SQL%NOTFOUND) then
        RAISE NO_DATA_FOUND;
    End If;
END Update_Row;

PROCEDURE Delete_Row(
    p_QUOTE_LINE_ID  NUMBER)
 IS
 BEGIN
   DELETE FROM ASO_QUOTE_LINES_ALL
    WHERE QUOTE_LINE_ID = p_QUOTE_LINE_ID;

   If (SQL%NOTFOUND) then
       RAISE NO_DATA_FOUND;
   End If;
 END Delete_Row;

PROCEDURE Lock_Row(
          --p_OBJECT_VERSION_NUMBER  NUMBER,
          p_QUOTE_LINE_ID    NUMBER,
          p_CREATION_DATE    DATE,
          p_CREATED_BY    NUMBER,
          p_LAST_UPDATE_DATE    DATE,
          p_LAST_UPDATED_BY    NUMBER,
          p_LAST_UPDATE_LOGIN    NUMBER,
          p_REQUEST_ID    NUMBER,
          p_PROGRAM_APPLICATION_ID    NUMBER,
          p_PROGRAM_ID    NUMBER,
          p_PROGRAM_UPDATE_DATE    DATE,
          p_QUOTE_HEADER_ID    NUMBER,
          p_ORG_ID    NUMBER,
          p_LINE_CATEGORY_CODE    VARCHAR2,
          p_ITEM_TYPE_CODE    VARCHAR2,
          p_LINE_NUMBER    NUMBER,
          p_START_DATE_ACTIVE    DATE,
          p_END_DATE_ACTIVE    DATE,
          p_ORDER_LINE_TYPE_ID    NUMBER,
          p_INVOICE_TO_PARTY_SITE_ID    NUMBER,
          p_INVOICE_TO_PARTY_ID    NUMBER,
          p_ORGANIZATION_ID    NUMBER,
          p_INVENTORY_ITEM_ID    NUMBER,
          p_QUANTITY    NUMBER,
          p_UOM_CODE    VARCHAR2,
          p_MARKETING_SOURCE_CODE_ID    NUMBER,
          p_PRICE_LIST_ID    NUMBER,
          p_PRICE_LIST_LINE_ID    NUMBER,
          p_CURRENCY_CODE    VARCHAR2,
          p_LINE_LIST_PRICE    NUMBER,
          p_LINE_ADJUSTED_AMOUNT    NUMBER,
          p_LINE_ADJUSTED_PERCENT    NUMBER,
          p_LINE_QUOTE_PRICE    NUMBER,
          p_RELATED_ITEM_ID    NUMBER,
          p_ITEM_RELATIONSHIP_TYPE    VARCHAR2,
          p_ACCOUNTING_RULE_ID    NUMBER,
          p_INVOICING_RULE_ID    NUMBER,
          p_SPLIT_SHIPMENT_FLAG    VARCHAR2,
          p_BACKORDER_FLAG    VARCHAR2,
          p_ATTRIBUTE_CATEGORY    VARCHAR2,
          p_ATTRIBUTE1    VARCHAR2,
          p_ATTRIBUTE2    VARCHAR2,
          p_ATTRIBUTE3    VARCHAR2,
          p_ATTRIBUTE4    VARCHAR2,
          p_ATTRIBUTE5    VARCHAR2,
          p_ATTRIBUTE6    VARCHAR2,
          p_ATTRIBUTE7    VARCHAR2,
          p_ATTRIBUTE8    VARCHAR2,
          p_ATTRIBUTE9    VARCHAR2,
          p_ATTRIBUTE10    VARCHAR2,
          p_ATTRIBUTE11    VARCHAR2,
          p_ATTRIBUTE12    VARCHAR2,
          p_ATTRIBUTE13    VARCHAR2,
          p_ATTRIBUTE14    VARCHAR2,
          p_ATTRIBUTE15    VARCHAR2 /* ,
          p_PRICED_PRICE_LIST_ID  NUMBER,
          p_AGREEMENT_ID  NUMBER,
          p_COMMITMENT_ID  NUMBER,
          p_DISPLAY_ARITHMETIC_OPERATOR VARCHAR2*/
)

 IS
   CURSOR C IS
        SELECT QUOTE_LINE_ID,
--OBJECT_VERSION_NUMBER,
CREATION_DATE,
CREATED_BY,
LAST_UPDATE_DATE,
LAST_UPDATED_BY,
LAST_UPDATE_LOGIN,
REQUEST_ID,
PROGRAM_APPLICATION_ID,
PROGRAM_ID,
PROGRAM_UPDATE_DATE,
QUOTE_HEADER_ID,
ORG_ID,
LINE_CATEGORY_CODE,
ITEM_TYPE_CODE,
LINE_NUMBER,
START_DATE_ACTIVE,
END_DATE_ACTIVE,
ORDER_LINE_TYPE_ID,
INVOICE_TO_PARTY_SITE_ID,
INVOICE_TO_PARTY_ID,
ORGANIZATION_ID,
INVENTORY_ITEM_ID,
QUANTITY,
UOM_CODE,
MARKETING_SOURCE_CODE_ID,
PRICE_LIST_ID,
PRICE_LIST_LINE_ID,
CURRENCY_CODE,
LINE_LIST_PRICE,
LINE_ADJUSTED_AMOUNT,
LINE_ADJUSTED_PERCENT,
LINE_QUOTE_PRICE,
RELATED_ITEM_ID,
ITEM_RELATIONSHIP_TYPE,
ACCOUNTING_RULE_ID,
INVOICING_RULE_ID,
SPLIT_SHIPMENT_FLAG,
BACKORDER_FLAG,
ATTRIBUTE_CATEGORY,
ATTRIBUTE1,
ATTRIBUTE2,
ATTRIBUTE3,
ATTRIBUTE4,
ATTRIBUTE5,
ATTRIBUTE6,
ATTRIBUTE7,
ATTRIBUTE8,
ATTRIBUTE9,
ATTRIBUTE10,
ATTRIBUTE11,
ATTRIBUTE12,
ATTRIBUTE13,
ATTRIBUTE14,
ATTRIBUTE15 /*,
PRICED_PRICE_LIST_ID  ,
AGREEMENT_ID  ,
COMMITMENT_ID ,
DISPLAY_ARITHMETIC_OPERATOR */
        FROM ASO_QUOTE_LINES_ALL
        WHERE QUOTE_LINE_ID =  p_QUOTE_LINE_ID
        FOR UPDATE of QUOTE_LINE_ID NOWAIT;
   Recinfo C%ROWTYPE;
 BEGIN
    OPEN C;
    FETCH C INTO Recinfo;
    If (C%NOTFOUND) then
        CLOSE C;
        FND_MESSAGE.SET_NAME('FND', 'FORM_RECORD_DELETED');
        APP_EXCEPTION.RAISE_EXCEPTION;
    End If;
    CLOSE C;
    if (

/*
           (      Recinfo.QUOTE_LINE_ID = p_QUOTE_LINE_ID)
       AND (    ( Recinfo.CREATION_DATE = p_CREATION_DATE)
            OR (    ( Recinfo.CREATION_DATE IS NULL )
                AND (  p_CREATION_DATE IS NULL )))
       AND (    ( Recinfo.CREATED_BY = p_CREATED_BY)
            OR (    ( Recinfo.CREATED_BY IS NULL )
                AND (  p_CREATED_BY IS NULL )))
       AND
*/
	  (    ( Recinfo.LAST_UPDATE_DATE = p_LAST_UPDATE_DATE)
            OR (    ( Recinfo.LAST_UPDATE_DATE IS NULL )
                AND (  p_LAST_UPDATE_DATE IS NULL )))
/*
AND
 (    ( Recinfo.OBJECT_VERSION_NUMBER = p_OBJECT_VERSION_NUMBER)
   OR (    ( Recinfo.OBJECT_VERSION_NUMBER IS NULL )
        AND (  p_OBJECT_VERSION_NUMBER IS NULL )))

       AND (    ( Recinfo.LAST_UPDATED_BY = p_LAST_UPDATED_BY)
            OR (    ( Recinfo.LAST_UPDATED_BY IS NULL )
                AND (  p_LAST_UPDATED_BY IS NULL )))

       AND (    ( Recinfo.LAST_UPDATE_LOGIN = p_LAST_UPDATE_LOGIN)
            OR (    ( Recinfo.LAST_UPDATE_LOGIN IS NULL )
                AND (  p_LAST_UPDATE_LOGIN IS NULL )))
       AND (    ( Recinfo.REQUEST_ID = p_REQUEST_ID)
            OR (    ( Recinfo.REQUEST_ID IS NULL )
                AND (  p_REQUEST_ID IS NULL )))
       AND (    ( Recinfo.PROGRAM_APPLICATION_ID = p_PROGRAM_APPLICATION_ID)
            OR (    ( Recinfo.PROGRAM_APPLICATION_ID IS NULL )
                AND (  p_PROGRAM_APPLICATION_ID IS NULL )))
       AND (    ( Recinfo.PROGRAM_ID = p_PROGRAM_ID)
            OR (    ( Recinfo.PROGRAM_ID IS NULL )
                AND (  p_PROGRAM_ID IS NULL )))
       AND (    ( Recinfo.PROGRAM_UPDATE_DATE = p_PROGRAM_UPDATE_DATE)
            OR (    ( Recinfo.PROGRAM_UPDATE_DATE IS NULL )
                AND (  p_PROGRAM_UPDATE_DATE IS NULL )))
       AND (    ( Recinfo.QUOTE_HEADER_ID = p_QUOTE_HEADER_ID)
            OR (    ( Recinfo.QUOTE_HEADER_ID IS NULL )
                AND (  p_QUOTE_HEADER_ID IS NULL )))
       AND (    ( Recinfo.ORG_ID = p_ORG_ID)
            OR (    ( Recinfo.ORG_ID IS NULL )
                AND (  p_ORG_ID IS NULL )))
       AND (    ( Recinfo.LINE_CATEGORY_CODE = p_LINE_CATEGORY_CODE)
            OR (    ( Recinfo.LINE_CATEGORY_CODE IS NULL )
                AND (  p_LINE_CATEGORY_CODE IS NULL )))
       AND (    ( Recinfo.ITEM_TYPE_CODE = p_ITEM_TYPE_CODE)
            OR (    ( Recinfo.ITEM_TYPE_CODE IS NULL )
                AND (  p_ITEM_TYPE_CODE IS NULL )))
       AND (    ( Recinfo.LINE_NUMBER = p_LINE_NUMBER)
            OR (    ( Recinfo.LINE_NUMBER IS NULL )
                AND (  p_LINE_NUMBER IS NULL )))
       AND (    ( Recinfo.START_DATE_ACTIVE = p_START_DATE_ACTIVE)
            OR (    ( Recinfo.START_DATE_ACTIVE IS NULL )
                AND (  p_START_DATE_ACTIVE IS NULL )))
       AND (    ( Recinfo.END_DATE_ACTIVE = p_END_DATE_ACTIVE)
            OR (    ( Recinfo.END_DATE_ACTIVE IS NULL )
                AND (  p_END_DATE_ACTIVE IS NULL )))
       AND (    ( Recinfo.ORDER_LINE_TYPE_ID = p_ORDER_LINE_TYPE_ID)
            OR (    ( Recinfo.ORDER_LINE_TYPE_ID IS NULL )
                AND (  p_ORDER_LINE_TYPE_ID IS NULL )))
       AND (    ( Recinfo.INVOICE_TO_PARTY_SITE_ID = p_INVOICE_TO_PARTY_SITE_ID)
            OR (    ( Recinfo.INVOICE_TO_PARTY_SITE_ID IS NULL )
                AND (  p_INVOICE_TO_PARTY_SITE_ID IS NULL )))
       AND (    ( Recinfo.INVOICE_TO_PARTY_ID = p_INVOICE_TO_PARTY_ID)
            OR (    ( Recinfo.INVOICE_TO_PARTY_ID IS NULL )
                AND (  p_INVOICE_TO_PARTY_ID IS NULL )))
       AND (    ( Recinfo.ORGANIZATION_ID = p_ORGANIZATION_ID)
            OR (    ( Recinfo.ORGANIZATION_ID IS NULL )
                AND (  p_ORGANIZATION_ID IS NULL )))
       AND (    ( Recinfo.INVENTORY_ITEM_ID = p_INVENTORY_ITEM_ID)
            OR (    ( Recinfo.INVENTORY_ITEM_ID IS NULL )
                AND (  p_INVENTORY_ITEM_ID IS NULL )))
       AND (    ( Recinfo.QUANTITY = p_QUANTITY)
            OR (    ( Recinfo.QUANTITY IS NULL )
                AND (  p_QUANTITY IS NULL )))
       AND (    ( Recinfo.UOM_CODE = p_UOM_CODE)
            OR (    ( Recinfo.UOM_CODE IS NULL )
                AND (  p_UOM_CODE IS NULL )))
       AND (    ( Recinfo.MARKETING_SOURCE_CODE_ID = p_MARKETING_SOURCE_CODE_ID)
            OR (    ( Recinfo.MARKETING_SOURCE_CODE_ID IS NULL )
                AND (  p_MARKETING_SOURCE_CODE_ID IS NULL )))
       AND (    ( Recinfo.PRICE_LIST_ID = p_PRICE_LIST_ID)
            OR (    ( Recinfo.PRICE_LIST_ID IS NULL )
                AND (  p_PRICE_LIST_ID IS NULL )))
       AND (    ( Recinfo.PRICE_LIST_LINE_ID = p_PRICE_LIST_LINE_ID)
            OR (    ( Recinfo.PRICE_LIST_LINE_ID IS NULL )
                AND (  p_PRICE_LIST_LINE_ID IS NULL )))
       AND (    ( Recinfo.CURRENCY_CODE = p_CURRENCY_CODE)
            OR (    ( Recinfo.CURRENCY_CODE IS NULL )
                AND (  p_CURRENCY_CODE IS NULL )))
       AND (    ( Recinfo.LINE_LIST_PRICE = p_LINE_LIST_PRICE)
            OR (    ( Recinfo.LINE_LIST_PRICE IS NULL )
                AND (  p_LINE_LIST_PRICE IS NULL )))
       AND (    ( Recinfo.LINE_ADJUSTED_AMOUNT = p_LINE_ADJUSTED_AMOUNT)
            OR (    ( Recinfo.LINE_ADJUSTED_AMOUNT IS NULL )
                AND (  p_LINE_ADJUSTED_AMOUNT IS NULL )))
       AND (    ( Recinfo.LINE_ADJUSTED_PERCENT = p_LINE_ADJUSTED_PERCENT)
            OR (    ( Recinfo.LINE_ADJUSTED_PERCENT IS NULL )
                AND (  p_LINE_ADJUSTED_PERCENT IS NULL )))
       AND (    ( Recinfo.LINE_QUOTE_PRICE = p_LINE_QUOTE_PRICE)
            OR (    ( Recinfo.LINE_QUOTE_PRICE IS NULL )
                AND (  p_LINE_QUOTE_PRICE IS NULL )))
       AND (    ( Recinfo.RELATED_ITEM_ID = p_RELATED_ITEM_ID)
            OR (    ( Recinfo.RELATED_ITEM_ID IS NULL )
                AND (  p_RELATED_ITEM_ID IS NULL )))
       AND (    ( Recinfo.ITEM_RELATIONSHIP_TYPE = p_ITEM_RELATIONSHIP_TYPE)
            OR (    ( Recinfo.ITEM_RELATIONSHIP_TYPE IS NULL )
                AND (  p_ITEM_RELATIONSHIP_TYPE IS NULL )))
       AND (    ( Recinfo.ACCOUNTING_RULE_ID = p_ACCOUNTING_RULE_ID)
            OR (    ( Recinfo.ACCOUNTING_RULE_ID IS NULL )
                AND (  p_ACCOUNTING_RULE_ID IS NULL )))
       AND (    ( Recinfo.INVOICING_RULE_ID = p_INVOICING_RULE_ID)
            OR (    ( Recinfo.INVOICING_RULE_ID IS NULL )
                AND (  p_INVOICING_RULE_ID IS NULL )))
       AND (    ( Recinfo.SPLIT_SHIPMENT_FLAG = p_SPLIT_SHIPMENT_FLAG)
            OR (    ( Recinfo.SPLIT_SHIPMENT_FLAG IS NULL )
                AND (  p_SPLIT_SHIPMENT_FLAG IS NULL )))
       AND (    ( Recinfo.BACKORDER_FLAG = p_BACKORDER_FLAG)
            OR (    ( Recinfo.BACKORDER_FLAG IS NULL )
                AND (  p_BACKORDER_FLAG IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE_CATEGORY = p_ATTRIBUTE_CATEGORY)
            OR (    ( Recinfo.ATTRIBUTE_CATEGORY IS NULL )
                AND (  p_ATTRIBUTE_CATEGORY IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE1 = p_ATTRIBUTE1)
            OR (    ( Recinfo.ATTRIBUTE1 IS NULL )
                AND (  p_ATTRIBUTE1 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE2 = p_ATTRIBUTE2)
            OR (    ( Recinfo.ATTRIBUTE2 IS NULL )
                AND (  p_ATTRIBUTE2 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE3 = p_ATTRIBUTE3)
            OR (    ( Recinfo.ATTRIBUTE3 IS NULL )
                AND (  p_ATTRIBUTE3 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE4 = p_ATTRIBUTE4)
            OR (    ( Recinfo.ATTRIBUTE4 IS NULL )
                AND (  p_ATTRIBUTE4 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE5 = p_ATTRIBUTE5)
            OR (    ( Recinfo.ATTRIBUTE5 IS NULL )
                AND (  p_ATTRIBUTE5 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE6 = p_ATTRIBUTE6)
            OR (    ( Recinfo.ATTRIBUTE6 IS NULL )
                AND (  p_ATTRIBUTE6 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE7 = p_ATTRIBUTE7)
            OR (    ( Recinfo.ATTRIBUTE7 IS NULL )
                AND (  p_ATTRIBUTE7 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE8 = p_ATTRIBUTE8)
            OR (    ( Recinfo.ATTRIBUTE8 IS NULL )
                AND (  p_ATTRIBUTE8 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE9 = p_ATTRIBUTE9)
            OR (    ( Recinfo.ATTRIBUTE9 IS NULL )
                AND (  p_ATTRIBUTE9 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE10 = p_ATTRIBUTE10)
            OR (    ( Recinfo.ATTRIBUTE10 IS NULL )
                AND (  p_ATTRIBUTE10 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE11 = p_ATTRIBUTE11)
            OR (    ( Recinfo.ATTRIBUTE11 IS NULL )
                AND (  p_ATTRIBUTE11 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE12 = p_ATTRIBUTE12)
            OR (    ( Recinfo.ATTRIBUTE12 IS NULL )
                AND (  p_ATTRIBUTE12 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE13 = p_ATTRIBUTE13)
            OR (    ( Recinfo.ATTRIBUTE13 IS NULL )
                AND (  p_ATTRIBUTE13 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE14 = p_ATTRIBUTE14)
            OR (    ( Recinfo.ATTRIBUTE14 IS NULL )
                AND (  p_ATTRIBUTE14 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE15 = p_ATTRIBUTE15)
            OR (    ( Recinfo.ATTRIBUTE15 IS NULL )
                AND (  p_ATTRIBUTE15 IS NULL )))
*/
       ) then
       return;
   else
       FND_MESSAGE.SET_NAME('FND', 'FORM_RECORD_CHANGED');
       APP_EXCEPTION.RAISE_EXCEPTION;

   End If;
END Lock_Row;

End ASO_QUOTE_LINES_PKG;

/
