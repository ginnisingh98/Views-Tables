--------------------------------------------------------
--  DDL for Package Body WSH_DELIVERIES_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "APPS"."WSH_DELIVERIES_PKG" as
/* $Header: WSHDELHB.pls 115.2 99/08/11 19:22:52 porting s $ */

  -- The procedure insert_row can possibly return 2 kinds of exceptions
  -- 1. WSH_DEL_DUP_NAME : This the for the case that default delivery name
  --                       generated by wsh_external_custom.delivery_name
  --                       is duplicate in table wsh_deliveries
  -- 2. WSH_DEL_NULL_NAME : This is for the case that default delivery name
  --                        generated by wsh_external_custom.delivery_name
  -- 			    is NULL.


  PROCEDURE Update_Row(X_Rowid                          VARCHAR2,
                       X_Organization_Id                NUMBER,
                       X_Delivery_Id                    NUMBER,
                       X_Name                    IN OUT VARCHAR2,
                       X_Source_Code                    VARCHAR2,
                       X_Planned_Departure_Id           NUMBER,
                       X_Actual_Departure_Id            NUMBER,
                       X_Status_Code                    VARCHAR2,
                       X_Loading_Order_Flag             VARCHAR2,
                       X_Date_Closed                    DATE,
                       X_Report_Set_Id                  NUMBER,
                       X_Sequence_Number                NUMBER,
                       X_Customer_Id                    NUMBER,
                       X_Ultimate_Ship_To_Id            NUMBER,
                       X_Intermediate_Ship_To_Id        NUMBER,
                       X_Pooled_Ship_To_Id              NUMBER,
                       X_Waybill                        VARCHAR2,
                       X_Gross_Weight                   NUMBER,
                       X_Weight_Uom_Code                VARCHAR2,
                       X_Volume                         NUMBER,
                       X_Volume_Uom_Code                VARCHAR2,
                       X_Picked_By_Id                   NUMBER,
                       X_Packed_By_Id                   NUMBER,
                       X_Expected_Arrival_Date          DATE,
                       X_Asn_Date_Sent                  DATE,
                       X_Asn_Seq_Number                 NUMBER,
                       X_Freight_Carrier_Code           VARCHAR2,
                       X_Freight_Terms_Code             VARCHAR2,
                       X_Currency_Code                  VARCHAR2,
                       X_Fob_Code                       VARCHAR2,
                       X_Attribute_Category             VARCHAR2,
                       X_Attribute1                     VARCHAR2,
                       X_Attribute2                     VARCHAR2,
                       X_Attribute3                     VARCHAR2,
                       X_Attribute4                     VARCHAR2,
                       X_Attribute5                     VARCHAR2,
                       X_Attribute6                     VARCHAR2,
                       X_Attribute7                     VARCHAR2,
                       X_Attribute8                     VARCHAR2,
                       X_Attribute9                     VARCHAR2,
                       X_Attribute10                    VARCHAR2,
                       X_Attribute11                    VARCHAR2,
                       X_Attribute12                    VARCHAR2,
                       X_Attribute13                    VARCHAR2,
                       X_Attribute14                    VARCHAR2,
                       X_Attribute15                    VARCHAR2,
                       X_Global_Attribute_Category      VARCHAR2 default null,
                       X_Global_Attribute1              VARCHAR2 default null,
                       X_Global_Attribute2              VARCHAR2 default null,
                       X_Global_Attribute3              VARCHAR2 default null,
                       X_Global_Attribute4              VARCHAR2 default null,
                       X_Global_Attribute5              VARCHAR2 default null,
                       X_Global_Attribute6              VARCHAR2 default null,
                       X_Global_Attribute7              VARCHAR2 default null,
                       X_Global_Attribute8              VARCHAR2 default null,
                       X_Global_Attribute9              VARCHAR2 default null,
                       X_Global_Attribute10             VARCHAR2 default null,
                       X_Global_Attribute11             VARCHAR2 default null,
                       X_Global_Attribute12             VARCHAR2 default null,
                       X_Global_Attribute13             VARCHAR2 default null,
                       X_Global_Attribute14             VARCHAR2 default null,
                       X_Global_Attribute15             VARCHAR2 default null,
                       X_Global_Attribute16             VARCHAR2 default null,
                       X_Global_Attribute17             VARCHAR2 default null,
                       X_Global_Attribute18             VARCHAR2 default null,
                       X_Global_Attribute19             VARCHAR2 default null,
                       X_Global_Attribute20             VARCHAR2 default null,
                       X_Last_Update_Date               DATE,
                       X_Last_Updated_By                NUMBER,
                       X_Last_Update_Login              NUMBER
  ) IS
    dname 		wsh_deliveries.name%TYPE;
    CURSOR C2 IS SELECT wsh_deliveries_s.nextval FROM sys.dual;
    CURSOR C3 (del_name   VARCHAR2) IS
      SELECT COUNT(*) FROM wsh_deliveries
      WHERE name = del_name;
    temp 		NUMBER;
    temp_id		NUMBER;
    duplicate_name	EXCEPTION;
    null_name		EXCEPTION;
  BEGIN

    IF (X_Name IS NULL) THEN
      dname := wsh_external_custom.delivery_name(X_Delivery_Id);

      IF ( dname IS NULL ) THEN
        RAISE null_name;
      -- shipping default make sure the delivery name is not duplicate
      ELSIF ( dname = TO_CHAR(X_Delivery_Id) ) THEN
        temp_id := X_Delivery_Id;
        OPEN C2;

        LOOP
          dname := TO_CHAR(temp_id);
          OPEN C3( dname);
          FETCH C3 INTO temp;
          CLOSE C3;
          IF ( temp = 0 ) THEN
            EXIT;
          END IF;

          FETCH C2 INTO temp_id;
        END LOOP;
        CLOSE C2;
      ELSE  -- name is generated from wsh_external_custom.delivery_name
          OPEN C3( dname);
          FETCH C3 INTO temp;
          CLOSE C3;
          IF ( temp > 0 ) THEN
            RAISE duplicate_name;
          END IF;

        END IF;
        X_Name := dname;
    END IF;

    UPDATE wsh_deliveries
    SET
       organization_id                 =     X_Organization_Id,
       delivery_id                     =     X_Delivery_Id,
       name                            =     X_Name,
       source_code                     =     X_Source_Code,
       planned_departure_id            =     X_Planned_Departure_Id,
       actual_departure_id             =     X_Actual_Departure_Id,
       status_code                     =     X_Status_Code,
       loading_order_flag              =     X_Loading_Order_Flag,
       date_closed                     =     X_Date_Closed,
       report_set_id                   =     X_Report_Set_Id,
       sequence_number                 =     X_Sequence_Number,
       customer_id                     =     X_Customer_Id,
       ultimate_ship_to_id             =     X_Ultimate_Ship_To_Id,
       intermediate_ship_to_id         =     X_Intermediate_Ship_To_Id,
       pooled_ship_to_id               =     X_Pooled_Ship_To_Id,
       waybill                         =     X_Waybill,
       gross_weight                    =     X_Gross_Weight,
       weight_uom_code                 =     X_Weight_Uom_Code,
       volume                          =     X_Volume,
       volume_uom_code                 =     X_Volume_Uom_Code,
       picked_by_id                    =     X_Picked_By_Id,
       packed_by_id                    =     X_Packed_By_Id,
       expected_arrival_date           =     X_Expected_Arrival_Date,
       asn_date_sent                   =     X_Asn_Date_Sent,
       asn_seq_number                  =     X_Asn_Seq_Number,
       freight_carrier_code            =     X_Freight_Carrier_Code,
       freight_terms_code              =     X_Freight_Terms_Code,
       currency_code                   =     X_Currency_Code,
       fob_code                        =     X_Fob_Code,
       attribute_category              =     X_Attribute_Category,
       attribute1                      =     X_Attribute1,
       attribute2                      =     X_Attribute2,
       attribute3                      =     X_Attribute3,
       attribute4                      =     X_Attribute4,
       attribute5                      =     X_Attribute5,
       attribute6                      =     X_Attribute6,
       attribute7                      =     X_Attribute7,
       attribute8                      =     X_Attribute8,
       attribute9                      =     X_Attribute9,
       attribute10                     =     X_Attribute10,
       attribute11                     =     X_Attribute11,
       attribute12                     =     X_Attribute12,
       attribute13                     =     X_Attribute13,
       attribute14                     =     X_Attribute14,
       attribute15                     =     X_Attribute15,
       global_attribute_category       =     X_Global_Attribute_Category,
       global_attribute1               =     X_Global_Attribute1,
       global_attribute2               =     X_Global_Attribute2,
       global_attribute3               =     X_Global_Attribute3,
       global_attribute4               =     X_Global_Attribute4,
       global_attribute5               =     X_Global_Attribute5,
       global_attribute6               =     X_Global_Attribute6,
       global_attribute7               =     X_Global_Attribute7,
       global_attribute8               =     X_Global_Attribute8,
       global_attribute9               =     X_Global_Attribute9,
       global_attribute10              =     X_Global_Attribute10,
       global_attribute11              =     X_Global_Attribute11,
       global_attribute12              =     X_Global_Attribute12,
       global_attribute13              =     X_Global_Attribute13,
       global_attribute14              =     X_Global_Attribute14,
       global_attribute15              =     X_Global_Attribute15,
       global_attribute16              =     X_Global_Attribute16,
       global_attribute17              =     X_Global_Attribute17,
       global_attribute18              =     X_Global_Attribute18,
       global_attribute19              =     X_Global_Attribute19,
       global_attribute20              =     X_Global_Attribute20,
       last_update_date                =     X_Last_Update_Date,
       last_updated_by                 =     X_Last_Updated_By,
       last_update_login               =     X_Last_Update_Login
    WHERE rowid = X_Rowid;

    if (SQL%NOTFOUND) then
      Raise NO_DATA_FOUND;
    end if;
  END Update_Row;



 PROCEDURE Lock_Row(X_Rowid                            VARCHAR2,
                     X_Organization_Id                  NUMBER,
                     X_Delivery_Id                      NUMBER,
                     X_Name                             VARCHAR2,
                     X_Source_Code                      VARCHAR2,
                     X_Planned_Departure_Id             NUMBER,
                     X_Actual_Departure_Id              NUMBER,
                     X_Status_Code                      VARCHAR2,
                     X_Loading_Order_Flag               VARCHAR2,
                     X_Date_Closed                      DATE,
                     X_Report_Set_Id                    NUMBER,
                     X_Sequence_Number                  NUMBER,
                     X_Customer_Id                      NUMBER,
                     X_Ultimate_Ship_To_Id              NUMBER,
                     X_Intermediate_Ship_To_Id          NUMBER,
                     X_Pooled_Ship_To_Id                NUMBER,
                     X_Waybill                          VARCHAR2,
                     X_Gross_Weight                     NUMBER,
                     X_Weight_Uom_Code                  VARCHAR2,
                     X_Volume                           NUMBER,
                     X_Volume_Uom_Code                  VARCHAR2,
                     X_Picked_By_Id                     NUMBER,
                     X_Packed_By_Id                     NUMBER,
                     X_Expected_Arrival_Date            DATE,
                     X_Asn_Date_Sent                    DATE,
                     X_Asn_Seq_Number                   NUMBER,
                     X_Freight_Carrier_Code             VARCHAR2,
                     X_Freight_Terms_Code               VARCHAR2,
                     X_Currency_Code                    VARCHAR2,
                     X_Fob_Code                         VARCHAR2,
                     X_Attribute_Category               VARCHAR2,
                     X_Attribute1                       VARCHAR2,
                     X_Attribute2                       VARCHAR2,
                     X_Attribute3                       VARCHAR2,
                     X_Attribute4                       VARCHAR2,
                     X_Attribute5                       VARCHAR2,
                     X_Attribute6                       VARCHAR2,
                     X_Attribute7                       VARCHAR2,
                     X_Attribute8                       VARCHAR2,
                     X_Attribute9                       VARCHAR2,
                     X_Attribute10                      VARCHAR2,
                     X_Attribute11                      VARCHAR2,
                     X_Attribute12                      VARCHAR2,
                     X_Attribute13                      VARCHAR2,
                     X_Attribute14                      VARCHAR2,
                     X_Attribute15                      VARCHAR2,
                     X_Global_Attribute_Category        VARCHAR2 default null,
                     X_Global_Attribute1                VARCHAR2 default null,
                     X_Global_Attribute2                VARCHAR2 default null,
                     X_Global_Attribute3                VARCHAR2 default null,
                     X_Global_Attribute4                VARCHAR2 default null,
                     X_Global_Attribute5                VARCHAR2 default null,
                     X_Global_Attribute6                VARCHAR2 default null,
                     X_Global_Attribute7                VARCHAR2 default null,
                     X_Global_Attribute8                VARCHAR2 default null,
                     X_Global_Attribute9                VARCHAR2 default null,
                     X_Global_Attribute10               VARCHAR2 default null,
                     X_Global_Attribute11               VARCHAR2 default null,
                     X_Global_Attribute12               VARCHAR2 default null,
                     X_Global_Attribute13               VARCHAR2 default null,
                     X_Global_Attribute14               VARCHAR2 default null,
                     X_Global_Attribute15               VARCHAR2 default null,
                     X_Global_Attribute16               VARCHAR2 default null,
                     X_Global_Attribute17               VARCHAR2 default null,
                     X_Global_Attribute18               VARCHAR2 default null,
                     X_Global_Attribute19               VARCHAR2 default null,
                     X_Global_Attribute20               VARCHAR2 default null
  ) IS
    CURSOR C IS
        SELECT *
        FROM   wsh_deliveries
        WHERE  rowid = X_Rowid
        FOR UPDATE of Delivery_Id NOWAIT;
    Recinfo C%ROWTYPE;


  BEGIN
    OPEN C;
    FETCH C INTO Recinfo;
    if (C%NOTFOUND) then
      CLOSE C;
      FND_MESSAGE.Set_Name('FND', 'FORM_RECORD_DELETED');
      APP_EXCEPTION.Raise_Exception;
    end if;
    CLOSE C;
    if (
               (Recinfo.organization_id =  X_Organization_Id)
           AND (Recinfo.delivery_id =  X_Delivery_Id)
           AND (Recinfo.name =  X_Name)
           AND (Recinfo.source_code =  X_Source_Code)
           AND (   (Recinfo.planned_departure_id =  X_Planned_Departure_Id)
                OR (    (Recinfo.planned_departure_id IS NULL)
                    AND (X_Planned_Departure_Id IS NULL)))
           AND (   (Recinfo.actual_departure_id =  X_Actual_Departure_Id)
                OR (    (Recinfo.actual_departure_id IS NULL)
                    AND (X_Actual_Departure_Id IS NULL)))
           AND (Recinfo.status_code =  X_Status_Code)
           AND (   (Recinfo.loading_order_flag =  X_Loading_Order_Flag)
                OR (    (Recinfo.loading_order_flag IS NULL)
                    AND (X_Loading_Order_Flag IS NULL)))
           AND (   (Recinfo.date_closed =  X_Date_Closed)
                OR (    (Recinfo.date_closed IS NULL)
                    AND (X_Date_Closed IS NULL)))
           AND (   (Recinfo.report_set_id =  X_Report_Set_Id)
                OR (    (Recinfo.report_set_id IS NULL)
                    AND (X_Report_Set_Id IS NULL)))
           AND (   (Recinfo.sequence_number =  X_Sequence_Number)
                OR (    (Recinfo.sequence_number IS NULL)
                    AND (X_Sequence_Number IS NULL)))
           AND (Recinfo.customer_id =  X_Customer_Id)
           AND (Recinfo.ultimate_ship_to_id =  X_Ultimate_Ship_To_Id)
           AND (   (Recinfo.intermediate_ship_to_id =  X_Intermediate_Ship_To_Id)
                OR (    (Recinfo.intermediate_ship_to_id IS NULL)
                    AND (X_Intermediate_Ship_To_Id IS NULL)))
           AND (   (Recinfo.pooled_ship_to_id =  X_Pooled_Ship_To_Id)
                OR (    (Recinfo.pooled_ship_to_id IS NULL)
                    AND (X_Pooled_Ship_To_Id IS NULL)))
           AND (   (Recinfo.waybill =  X_Waybill)
                OR (    (Recinfo.waybill IS NULL)
                    AND (X_Waybill IS NULL)))
           AND (   (Recinfo.gross_weight =  X_Gross_Weight)
                OR (    (Recinfo.gross_weight IS NULL)
                    AND (X_Gross_Weight IS NULL)))
           AND (   (Recinfo.weight_uom_code =  X_Weight_Uom_Code)
                OR (    (Recinfo.weight_uom_code IS NULL)
                    AND (X_Weight_Uom_Code IS NULL)))
           AND (   (Recinfo.volume =  X_Volume)
                OR (    (Recinfo.volume IS NULL)
                    AND (X_Volume IS NULL)))
           AND (   (Recinfo.volume_uom_code =  X_Volume_Uom_Code)
                OR (    (Recinfo.volume_uom_code IS NULL)
                    AND (X_Volume_Uom_Code IS NULL)))
           AND (   (Recinfo.picked_by_id =  X_Picked_By_Id)
                OR (    (Recinfo.picked_by_id IS NULL)
                    AND (X_Picked_By_Id IS NULL)))
           AND (   (Recinfo.packed_by_id =  X_Packed_By_Id)
                OR (    (Recinfo.packed_by_id IS NULL)
                    AND (X_Packed_By_Id IS NULL)))
           AND (   (Recinfo.expected_arrival_date =  X_Expected_Arrival_Date)
                OR (    (Recinfo.expected_arrival_date IS NULL)
                    AND (X_Expected_Arrival_Date IS NULL)))
           AND (   (Recinfo.asn_date_sent =  X_Asn_Date_Sent)
                OR (    (Recinfo.asn_date_sent IS NULL)
                    AND (X_Asn_Date_Sent IS NULL)))
           AND (   (Recinfo.asn_seq_number =  X_Asn_Seq_Number)
                OR (    (Recinfo.asn_seq_number IS NULL)
                    AND (X_Asn_Seq_Number IS NULL)))
           AND (   (Recinfo.freight_carrier_code =  X_Freight_Carrier_Code)
                OR (    (Recinfo.freight_carrier_code IS NULL)
                    AND (X_Freight_Carrier_Code IS NULL)))
           AND (   (Recinfo.freight_terms_code =  X_Freight_Terms_Code)
                OR (    (Recinfo.freight_terms_code IS NULL)
                    AND (X_Freight_Terms_Code IS NULL)))
           AND (   (Recinfo.currency_code =  X_Currency_Code)
                OR (    (Recinfo.currency_code IS NULL)
                    AND (X_Currency_Code IS NULL)))
           AND (   (Recinfo.fob_code =  X_Fob_Code)
                OR (    (Recinfo.fob_code IS NULL)
                    AND (X_Fob_Code IS NULL)))
           AND (   (Recinfo.attribute_category =  X_Attribute_Category)
                OR (    (Recinfo.attribute_category IS NULL)
                    AND (X_Attribute_Category IS NULL)))
           AND (   (Recinfo.attribute1 =  X_Attribute1)
                OR (    (Recinfo.attribute1 IS NULL)
                    AND (X_Attribute1 IS NULL)))
           AND (   (Recinfo.attribute2 =  X_Attribute2)
                OR (    (Recinfo.attribute2 IS NULL)
                    AND (X_Attribute2 IS NULL)))
           AND (   (Recinfo.attribute3 =  X_Attribute3)
                OR (    (Recinfo.attribute3 IS NULL)
                    AND (X_Attribute3 IS NULL)))
           AND (   (Recinfo.attribute4 =  X_Attribute4)
                OR (    (Recinfo.attribute4 IS NULL)
                    AND (X_Attribute4 IS NULL)))
           AND (   (Recinfo.attribute5 =  X_Attribute5)
                OR (    (Recinfo.attribute5 IS NULL)
                    AND (X_Attribute5 IS NULL)))
           AND (   (Recinfo.attribute6 =  X_Attribute6)
                OR (    (Recinfo.attribute6 IS NULL)
                    AND (X_Attribute6 IS NULL)))
           AND (   (Recinfo.attribute7 =  X_Attribute7)
                OR (    (Recinfo.attribute7 IS NULL)
                    AND (X_Attribute7 IS NULL)))
           AND (   (Recinfo.attribute8 =  X_Attribute8)
                OR (    (Recinfo.attribute8 IS NULL)
                    AND (X_Attribute8 IS NULL)))
           AND (   (Recinfo.attribute9 =  X_Attribute9)
                OR (    (Recinfo.attribute9 IS NULL)
                    AND (X_Attribute9 IS NULL)))
           AND (   (Recinfo.attribute10 =  X_Attribute10)
                OR (    (Recinfo.attribute10 IS NULL)
                    AND (X_Attribute10 IS NULL)))
           AND (   (Recinfo.attribute11 =  X_Attribute11)
                OR (    (Recinfo.attribute11 IS NULL)
                    AND (X_Attribute11 IS NULL)))
           AND (   (Recinfo.attribute12 =  X_Attribute12)
                OR (    (Recinfo.attribute12 IS NULL)
                    AND (X_Attribute12 IS NULL)))
           AND (   (Recinfo.attribute13 =  X_Attribute13)
                OR (    (Recinfo.attribute13 IS NULL)
                    AND (X_Attribute13 IS NULL)))
           AND (   (Recinfo.attribute14 =  X_Attribute14)
                OR (    (Recinfo.attribute14 IS NULL)
                    AND (X_Attribute14 IS NULL)))
           AND (   (Recinfo.attribute15 =  X_Attribute15)
                OR (    (Recinfo.attribute15 IS NULL)
                    AND (X_Attribute15 IS NULL)))
	   AND (   (Recinfo.global_attribute_category =  X_Global_Attribute_Category)
                OR (    (Recinfo.global_attribute_category IS NULL)
                    AND (X_Global_Attribute_Category IS NULL)))
           AND (   (Recinfo.global_attribute1 =  X_Global_Attribute1)
                OR (    (Recinfo.global_attribute1 IS NULL)
                    AND (X_Global_Attribute1 IS NULL)))
           AND (   (Recinfo.global_attribute2 =  X_Global_Attribute2)
                OR (    (Recinfo.global_attribute2 IS NULL)
                    AND (X_Global_Attribute2 IS NULL)))
           AND (   (Recinfo.global_attribute3 =  X_Global_Attribute3)
                OR (    (Recinfo.global_attribute3 IS NULL)
                    AND (X_Global_Attribute3 IS NULL)))
           AND (   (Recinfo.global_attribute4 =  X_Global_Attribute4)
                OR (    (Recinfo.global_attribute4 IS NULL)
                    AND (X_Global_Attribute4 IS NULL)))
           AND (   (Recinfo.global_attribute5 =  X_Global_Attribute5)
                OR (    (Recinfo.global_attribute5 IS NULL)
                    AND (X_Global_Attribute5 IS NULL)))
           AND (   (Recinfo.global_attribute6 =  X_Global_Attribute6)
                OR (    (Recinfo.global_attribute6 IS NULL)
                    AND (X_Global_Attribute6 IS NULL)))
           AND (   (Recinfo.global_attribute7 =  X_Global_Attribute7)
                OR (    (Recinfo.global_attribute7 IS NULL)
                    AND (X_Global_Attribute7 IS NULL)))
           AND (   (Recinfo.global_attribute8 =  X_Global_Attribute8)
                OR (    (Recinfo.global_attribute8 IS NULL)
                    AND (X_Global_Attribute8 IS NULL)))
           AND (   (Recinfo.global_attribute9 =  X_Global_Attribute9)
                OR (    (Recinfo.global_attribute9 IS NULL)
                    AND (X_Global_Attribute9 IS NULL)))
           AND (   (Recinfo.global_attribute10 =  X_Global_Attribute10)
                OR (    (Recinfo.global_attribute10 IS NULL)
                    AND (X_Global_Attribute10 IS NULL)))
           AND (   (Recinfo.global_attribute11 =  X_Global_Attribute11)
                OR (    (Recinfo.global_attribute11 IS NULL)
                    AND (X_Global_Attribute11 IS NULL)))
           AND (   (Recinfo.global_attribute12 =  X_Global_Attribute12)
                OR (    (Recinfo.global_attribute12 IS NULL)
                    AND (X_Global_Attribute12 IS NULL)))
           AND (   (Recinfo.global_attribute13 =  X_Global_Attribute13)
                OR (    (Recinfo.global_attribute13 IS NULL)
                    AND (X_Global_Attribute13 IS NULL)))
           AND (   (Recinfo.global_attribute14 =  X_Global_Attribute14)
                OR (    (Recinfo.global_attribute14 IS NULL)
                    AND (X_Global_Attribute14 IS NULL)))
           AND (   (Recinfo.global_attribute15 =  X_Global_Attribute15)
                OR (    (Recinfo.global_attribute15 IS NULL)
                    AND (X_Attribute15 IS NULL)))
           AND (   (Recinfo.global_attribute16 =  X_Global_Attribute16)
                OR (    (Recinfo.global_attribute16 IS NULL)
                    AND (X_Global_Attribute16 IS NULL)))
           AND (   (Recinfo.global_attribute17 =  X_Global_Attribute17)
                OR (    (Recinfo.global_attribute17 IS NULL)
                    AND (X_Global_Attribute17 IS NULL)))
           AND (   (Recinfo.global_attribute18 =  X_Global_Attribute18)
                OR (    (Recinfo.global_attribute18 IS NULL)
                    AND (X_Global_Attribute18 IS NULL)))
           AND (   (Recinfo.global_attribute19 =  X_Global_Attribute19)
                OR (    (Recinfo.global_attribute19 IS NULL)
                    AND (X_Global_Attribute19 IS NULL)))
           AND (   (Recinfo.global_attribute20 =  X_Global_Attribute20)
                OR (    (Recinfo.global_attribute20 IS NULL)
                    AND (X_global_Attribute20 IS NULL)))
      ) then
      return;
    else
      FND_MESSAGE.Set_Name('FND', 'FORM_RECORD_CHANGED');
      APP_EXCEPTION.Raise_Exception;
    end if;
  END Lock_Row;



  PROCEDURE Update_Row_new(X_Rowid                          VARCHAR2,
                       X_Organization_Id                NUMBER,
                       X_Delivery_Id                    NUMBER,
                       X_Name                    IN OUT VARCHAR2,
                       X_Source_Code                    VARCHAR2,
                       X_Planned_Departure_Id           NUMBER,
                       X_Actual_Departure_Id            NUMBER,
                       X_Status_Code                    VARCHAR2,
                       X_Loading_Order_Flag             VARCHAR2,
                       X_Date_Closed                    DATE,
                       X_Report_Set_Id                  NUMBER,
                       X_Sequence_Number                NUMBER,
                       X_Customer_Id                    NUMBER,
                       X_Ultimate_Ship_To_Id            NUMBER,
                       X_Intermediate_Ship_To_Id        NUMBER,
                       X_Pooled_Ship_To_Id              NUMBER,
                       X_Waybill                        VARCHAR2,
                       X_Gross_Weight                   NUMBER,
				   X_Net_Weight                     NUMBER,
                       X_Weight_Uom_Code                VARCHAR2,
                       X_Volume                         NUMBER,
                       X_Volume_Uom_Code                VARCHAR2,
                       X_Picked_By_Id                   NUMBER,
                       X_Packed_By_Id                   NUMBER,
                       X_Expected_Arrival_Date          DATE,
                       X_Asn_Date_Sent                  DATE,
                       X_Asn_Seq_Number                 NUMBER,
                       X_Freight_Carrier_Code           VARCHAR2,
                       X_Freight_Terms_Code             VARCHAR2,
                       X_Currency_Code                  VARCHAR2,
                       X_Fob_Code                       VARCHAR2,
                       X_Attribute_Category             VARCHAR2,
                       X_Attribute1                     VARCHAR2,
                       X_Attribute2                     VARCHAR2,
                       X_Attribute3                     VARCHAR2,
                       X_Attribute4                     VARCHAR2,
                       X_Attribute5                     VARCHAR2,
                       X_Attribute6                     VARCHAR2,
                       X_Attribute7                     VARCHAR2,
                       X_Attribute8                     VARCHAR2,
                       X_Attribute9                     VARCHAR2,
                       X_Attribute10                    VARCHAR2,
                       X_Attribute11                    VARCHAR2,
                       X_Attribute12                    VARCHAR2,
                       X_Attribute13                    VARCHAR2,
                       X_Attribute14                    VARCHAR2,
                       X_Attribute15                    VARCHAR2,
                       X_Global_Attribute_Category      VARCHAR2 default null,
                       X_Global_Attribute1              VARCHAR2 default null,
                       X_Global_Attribute2              VARCHAR2 default null,
                       X_Global_Attribute3              VARCHAR2 default null,
                       X_Global_Attribute4              VARCHAR2 default null,
                       X_Global_Attribute5              VARCHAR2 default null,
                       X_Global_Attribute6              VARCHAR2 default null,
                       X_Global_Attribute7              VARCHAR2 default null,
                       X_Global_Attribute8              VARCHAR2 default null,
                       X_Global_Attribute9              VARCHAR2 default null,
                       X_Global_Attribute10             VARCHAR2 default null,
                       X_Global_Attribute11             VARCHAR2 default null,
                       X_Global_Attribute12             VARCHAR2 default null,
                       X_Global_Attribute13             VARCHAR2 default null,
                       X_Global_Attribute14             VARCHAR2 default null,
                       X_Global_Attribute15             VARCHAR2 default null,
                       X_Global_Attribute16             VARCHAR2 default null,
                       X_Global_Attribute17             VARCHAR2 default null,
                       X_Global_Attribute18             VARCHAR2 default null,
                       X_Global_Attribute19             VARCHAR2 default null,
                       X_Global_Attribute20             VARCHAR2 default null,
                       X_Last_Update_Date               DATE,
                       X_Last_Updated_By                NUMBER,
                       X_Last_Update_Login              NUMBER
  ) IS
    dname 		wsh_deliveries.name%TYPE;
    CURSOR C2 IS SELECT wsh_deliveries_s.nextval FROM sys.dual;
    CURSOR C3 (del_name   VARCHAR2) IS
      SELECT COUNT(*) FROM wsh_deliveries
      WHERE name = del_name;
    temp 		NUMBER;
    temp_id		NUMBER;
    duplicate_name	EXCEPTION;
    null_name		EXCEPTION;
  BEGIN

    IF (X_Name IS NULL) THEN
      dname := wsh_external_custom.delivery_name(X_Delivery_Id);

      IF ( dname IS NULL ) THEN
        RAISE null_name;
      -- shipping default make sure the delivery name is not duplicate
      ELSIF ( dname = TO_CHAR(X_Delivery_Id) ) THEN
        temp_id := X_Delivery_Id;
        OPEN C2;

        LOOP
          dname := TO_CHAR(temp_id);
          OPEN C3( dname);
          FETCH C3 INTO temp;
          CLOSE C3;
          IF ( temp = 0 ) THEN
            EXIT;
          END IF;

          FETCH C2 INTO temp_id;
        END LOOP;
        CLOSE C2;
      ELSE  -- name is generated from wsh_external_custom.delivery_name
          OPEN C3( dname);
          FETCH C3 INTO temp;
          CLOSE C3;
          IF ( temp > 0 ) THEN
            RAISE duplicate_name;
          END IF;

        END IF;
        X_Name := dname;
    END IF;

    UPDATE wsh_deliveries
    SET
       organization_id                 =     X_Organization_Id,
       delivery_id                     =     X_Delivery_Id,
       name                            =     X_Name,
       source_code                     =     X_Source_Code,
       planned_departure_id            =     X_Planned_Departure_Id,
       actual_departure_id             =     X_Actual_Departure_Id,
       status_code                     =     X_Status_Code,
       loading_order_flag              =     X_Loading_Order_Flag,
       date_closed                     =     X_Date_Closed,
       report_set_id                   =     X_Report_Set_Id,
       sequence_number                 =     X_Sequence_Number,
       customer_id                     =     X_Customer_Id,
       ultimate_ship_to_id             =     X_Ultimate_Ship_To_Id,
       intermediate_ship_to_id         =     X_Intermediate_Ship_To_Id,
       pooled_ship_to_id               =     X_Pooled_Ship_To_Id,
       waybill                         =     X_Waybill,
       gross_weight                    =     X_Gross_Weight,
	  net_weight                      =     X_Net_Weight,
       weight_uom_code                 =     X_Weight_Uom_Code,
       volume                          =     X_Volume,
       volume_uom_code                 =     X_Volume_Uom_Code,
       picked_by_id                    =     X_Picked_By_Id,
       packed_by_id                    =     X_Packed_By_Id,
       expected_arrival_date           =     X_Expected_Arrival_Date,
       asn_date_sent                   =     X_Asn_Date_Sent,
       asn_seq_number                  =     X_Asn_Seq_Number,
       freight_carrier_code            =     X_Freight_Carrier_Code,
       freight_terms_code              =     X_Freight_Terms_Code,
       currency_code                   =     X_Currency_Code,
       fob_code                        =     X_Fob_Code,
       attribute_category              =     X_Attribute_Category,
       attribute1                      =     X_Attribute1,
       attribute2                      =     X_Attribute2,
       attribute3                      =     X_Attribute3,
       attribute4                      =     X_Attribute4,
       attribute5                      =     X_Attribute5,
       attribute6                      =     X_Attribute6,
       attribute7                      =     X_Attribute7,
       attribute8                      =     X_Attribute8,
       attribute9                      =     X_Attribute9,
       attribute10                     =     X_Attribute10,
       attribute11                     =     X_Attribute11,
       attribute12                     =     X_Attribute12,
       attribute13                     =     X_Attribute13,
       attribute14                     =     X_Attribute14,
       attribute15                     =     X_Attribute15,
       global_attribute_category       =     X_Global_Attribute_Category,
       global_attribute1               =     X_Global_Attribute1,
       global_attribute2               =     X_Global_Attribute2,
       global_attribute3               =     X_Global_Attribute3,
       global_attribute4               =     X_Global_Attribute4,
       global_attribute5               =     X_Global_Attribute5,
       global_attribute6               =     X_Global_Attribute6,
       global_attribute7               =     X_Global_Attribute7,
       global_attribute8               =     X_Global_Attribute8,
       global_attribute9               =     X_Global_Attribute9,
       global_attribute10              =     X_Global_Attribute10,
       global_attribute11              =     X_Global_Attribute11,
       global_attribute12              =     X_Global_Attribute12,
       global_attribute13              =     X_Global_Attribute13,
       global_attribute14              =     X_Global_Attribute14,
       global_attribute15              =     X_Global_Attribute15,
       global_attribute16              =     X_Global_Attribute16,
       global_attribute17              =     X_Global_Attribute17,
       global_attribute18              =     X_Global_Attribute18,
       global_attribute19              =     X_Global_Attribute19,
       global_attribute20              =     X_Global_Attribute20,
       last_update_date                =     X_Last_Update_Date,
       last_updated_by                 =     X_Last_Updated_By,
       last_update_login               =     X_Last_Update_Login
    WHERE rowid = X_Rowid;

    if (SQL%NOTFOUND) then
      Raise NO_DATA_FOUND;
    end if;
  END Update_Row_new;



 PROCEDURE Lock_Row_new(X_Rowid                            VARCHAR2,
                     X_Organization_Id                  NUMBER,
                     X_Delivery_Id                      NUMBER,
                     X_Name                             VARCHAR2,
                     X_Source_Code                      VARCHAR2,
                     X_Planned_Departure_Id             NUMBER,
                     X_Actual_Departure_Id              NUMBER,
                     X_Status_Code                      VARCHAR2,
                     X_Loading_Order_Flag               VARCHAR2,
                     X_Date_Closed                      DATE,
                     X_Report_Set_Id                    NUMBER,
                     X_Sequence_Number                  NUMBER,
                     X_Customer_Id                      NUMBER,
                     X_Ultimate_Ship_To_Id              NUMBER,
                     X_Intermediate_Ship_To_Id          NUMBER,
                     X_Pooled_Ship_To_Id                NUMBER,
                     X_Waybill                          VARCHAR2,
                     X_Gross_Weight                     NUMBER,
				 X_Net_Weight                       NUMBER,
                     X_Weight_Uom_Code                  VARCHAR2,
                     X_Volume                           NUMBER,
                     X_Volume_Uom_Code                  VARCHAR2,
                     X_Picked_By_Id                     NUMBER,
                     X_Packed_By_Id                     NUMBER,
                     X_Expected_Arrival_Date            DATE,
                     X_Asn_Date_Sent                    DATE,
                     X_Asn_Seq_Number                   NUMBER,
                     X_Freight_Carrier_Code             VARCHAR2,
                     X_Freight_Terms_Code               VARCHAR2,
                     X_Currency_Code                    VARCHAR2,
                     X_Fob_Code                         VARCHAR2,
                     X_Attribute_Category               VARCHAR2,
                     X_Attribute1                       VARCHAR2,
                     X_Attribute2                       VARCHAR2,
                     X_Attribute3                       VARCHAR2,
                     X_Attribute4                       VARCHAR2,
                     X_Attribute5                       VARCHAR2,
                     X_Attribute6                       VARCHAR2,
                     X_Attribute7                       VARCHAR2,
                     X_Attribute8                       VARCHAR2,
                     X_Attribute9                       VARCHAR2,
                     X_Attribute10                      VARCHAR2,
                     X_Attribute11                      VARCHAR2,
                     X_Attribute12                      VARCHAR2,
                     X_Attribute13                      VARCHAR2,
                     X_Attribute14                      VARCHAR2,
                     X_Attribute15                      VARCHAR2,
                     X_Global_Attribute_Category        VARCHAR2 default null,
                     X_Global_Attribute1                VARCHAR2 default null,
                     X_Global_Attribute2                VARCHAR2 default null,
                     X_Global_Attribute3                VARCHAR2 default null,
                     X_Global_Attribute4                VARCHAR2 default null,
                     X_Global_Attribute5                VARCHAR2 default null,
                     X_Global_Attribute6                VARCHAR2 default null,
                     X_Global_Attribute7                VARCHAR2 default null,
                     X_Global_Attribute8                VARCHAR2 default null,
                     X_Global_Attribute9                VARCHAR2 default null,
                     X_Global_Attribute10               VARCHAR2 default null,
                     X_Global_Attribute11               VARCHAR2 default null,
                     X_Global_Attribute12               VARCHAR2 default null,
                     X_Global_Attribute13               VARCHAR2 default null,
                     X_Global_Attribute14               VARCHAR2 default null,
                     X_Global_Attribute15               VARCHAR2 default null,
                     X_Global_Attribute16               VARCHAR2 default null,
                     X_Global_Attribute17               VARCHAR2 default null,
                     X_Global_Attribute18               VARCHAR2 default null,
                     X_Global_Attribute19               VARCHAR2 default null,
                     X_Global_Attribute20               VARCHAR2 default null
  ) IS
    CURSOR C IS
        SELECT *
        FROM   wsh_deliveries
        WHERE  rowid = X_Rowid
        FOR UPDATE of Delivery_Id NOWAIT;
    Recinfo C%ROWTYPE;


  BEGIN
    OPEN C;
    FETCH C INTO Recinfo;
    if (C%NOTFOUND) then
      CLOSE C;
      FND_MESSAGE.Set_Name('FND', 'FORM_RECORD_DELETED');
      APP_EXCEPTION.Raise_Exception;
    end if;
    CLOSE C;
    if (
               (Recinfo.organization_id =  X_Organization_Id)
           AND (Recinfo.delivery_id =  X_Delivery_Id)
           AND (Recinfo.name =  X_Name)
           AND (Recinfo.source_code =  X_Source_Code)
           AND (   (Recinfo.planned_departure_id =  X_Planned_Departure_Id)
                OR (    (Recinfo.planned_departure_id IS NULL)
                    AND (X_Planned_Departure_Id IS NULL)))
           AND (   (Recinfo.actual_departure_id =  X_Actual_Departure_Id)
                OR (    (Recinfo.actual_departure_id IS NULL)
                    AND (X_Actual_Departure_Id IS NULL)))
           AND (Recinfo.status_code =  X_Status_Code)
           AND (   (Recinfo.loading_order_flag =  X_Loading_Order_Flag)
                OR (    (Recinfo.loading_order_flag IS NULL)
                    AND (X_Loading_Order_Flag IS NULL)))
           AND (   (Recinfo.date_closed =  X_Date_Closed)
                OR (    (Recinfo.date_closed IS NULL)
                    AND (X_Date_Closed IS NULL)))
           AND (   (Recinfo.report_set_id =  X_Report_Set_Id)
                OR (    (Recinfo.report_set_id IS NULL)
                    AND (X_Report_Set_Id IS NULL)))
           AND (   (Recinfo.sequence_number =  X_Sequence_Number)
                OR (    (Recinfo.sequence_number IS NULL)
                    AND (X_Sequence_Number IS NULL)))
           AND (Recinfo.customer_id =  X_Customer_Id)
           AND (Recinfo.ultimate_ship_to_id =  X_Ultimate_Ship_To_Id)
           AND (   (Recinfo.intermediate_ship_to_id =  X_Intermediate_Ship_To_Id)
                OR (    (Recinfo.intermediate_ship_to_id IS NULL)
                    AND (X_Intermediate_Ship_To_Id IS NULL)))
           AND (   (Recinfo.pooled_ship_to_id =  X_Pooled_Ship_To_Id)
                OR (    (Recinfo.pooled_ship_to_id IS NULL)
                    AND (X_Pooled_Ship_To_Id IS NULL)))
           AND (   (Recinfo.waybill =  X_Waybill)
                OR (    (Recinfo.waybill IS NULL)
                    AND (X_Waybill IS NULL)))
           AND (   (Recinfo.gross_weight =  X_Gross_Weight)
                OR (    (Recinfo.gross_weight IS NULL)
                    AND (X_Gross_Weight IS NULL)))
           AND (   (Recinfo.net_weight =  X_Net_Weight)
		      OR (    (Recinfo.net_weight IS NULL)
			     AND (X_Net_Weight IS NULL)))
           AND (   (Recinfo.weight_uom_code =  X_Weight_Uom_Code)
                OR (    (Recinfo.weight_uom_code IS NULL)
                    AND (X_Weight_Uom_Code IS NULL)))
           AND (   (Recinfo.volume =  X_Volume)
                OR (    (Recinfo.volume IS NULL)
                    AND (X_Volume IS NULL)))
           AND (   (Recinfo.volume_uom_code =  X_Volume_Uom_Code)
                OR (    (Recinfo.volume_uom_code IS NULL)
                    AND (X_Volume_Uom_Code IS NULL)))
           AND (   (Recinfo.picked_by_id =  X_Picked_By_Id)
                OR (    (Recinfo.picked_by_id IS NULL)
                    AND (X_Picked_By_Id IS NULL)))
           AND (   (Recinfo.packed_by_id =  X_Packed_By_Id)
                OR (    (Recinfo.packed_by_id IS NULL)
                    AND (X_Packed_By_Id IS NULL)))
           AND (   (Recinfo.expected_arrival_date =  X_Expected_Arrival_Date)
                OR (    (Recinfo.expected_arrival_date IS NULL)
                    AND (X_Expected_Arrival_Date IS NULL)))
           AND (   (Recinfo.asn_date_sent =  X_Asn_Date_Sent)
                OR (    (Recinfo.asn_date_sent IS NULL)
                    AND (X_Asn_Date_Sent IS NULL)))
           AND (   (Recinfo.asn_seq_number =  X_Asn_Seq_Number)
                OR (    (Recinfo.asn_seq_number IS NULL)
                    AND (X_Asn_Seq_Number IS NULL)))
           AND (   (Recinfo.freight_carrier_code =  X_Freight_Carrier_Code)
                OR (    (Recinfo.freight_carrier_code IS NULL)
                    AND (X_Freight_Carrier_Code IS NULL)))
           AND (   (Recinfo.freight_terms_code =  X_Freight_Terms_Code)
                OR (    (Recinfo.freight_terms_code IS NULL)
                    AND (X_Freight_Terms_Code IS NULL)))
           AND (   (Recinfo.currency_code =  X_Currency_Code)
                OR (    (Recinfo.currency_code IS NULL)
                    AND (X_Currency_Code IS NULL)))
           AND (   (Recinfo.fob_code =  X_Fob_Code)
                OR (    (Recinfo.fob_code IS NULL)
                    AND (X_Fob_Code IS NULL)))
           AND (   (Recinfo.attribute_category =  X_Attribute_Category)
                OR (    (Recinfo.attribute_category IS NULL)
                    AND (X_Attribute_Category IS NULL)))
           AND (   (Recinfo.attribute1 =  X_Attribute1)
                OR (    (Recinfo.attribute1 IS NULL)
                    AND (X_Attribute1 IS NULL)))
           AND (   (Recinfo.attribute2 =  X_Attribute2)
                OR (    (Recinfo.attribute2 IS NULL)
                    AND (X_Attribute2 IS NULL)))
           AND (   (Recinfo.attribute3 =  X_Attribute3)
                OR (    (Recinfo.attribute3 IS NULL)
                    AND (X_Attribute3 IS NULL)))
           AND (   (Recinfo.attribute4 =  X_Attribute4)
                OR (    (Recinfo.attribute4 IS NULL)
                    AND (X_Attribute4 IS NULL)))
           AND (   (Recinfo.attribute5 =  X_Attribute5)
                OR (    (Recinfo.attribute5 IS NULL)
                    AND (X_Attribute5 IS NULL)))
           AND (   (Recinfo.attribute6 =  X_Attribute6)
                OR (    (Recinfo.attribute6 IS NULL)
                    AND (X_Attribute6 IS NULL)))
           AND (   (Recinfo.attribute7 =  X_Attribute7)
                OR (    (Recinfo.attribute7 IS NULL)
                    AND (X_Attribute7 IS NULL)))
           AND (   (Recinfo.attribute8 =  X_Attribute8)
                OR (    (Recinfo.attribute8 IS NULL)
                    AND (X_Attribute8 IS NULL)))
           AND (   (Recinfo.attribute9 =  X_Attribute9)
                OR (    (Recinfo.attribute9 IS NULL)
                    AND (X_Attribute9 IS NULL)))
           AND (   (Recinfo.attribute10 =  X_Attribute10)
                OR (    (Recinfo.attribute10 IS NULL)
                    AND (X_Attribute10 IS NULL)))
           AND (   (Recinfo.attribute11 =  X_Attribute11)
                OR (    (Recinfo.attribute11 IS NULL)
                    AND (X_Attribute11 IS NULL)))
           AND (   (Recinfo.attribute12 =  X_Attribute12)
                OR (    (Recinfo.attribute12 IS NULL)
                    AND (X_Attribute12 IS NULL)))
           AND (   (Recinfo.attribute13 =  X_Attribute13)
                OR (    (Recinfo.attribute13 IS NULL)
                    AND (X_Attribute13 IS NULL)))
           AND (   (Recinfo.attribute14 =  X_Attribute14)
                OR (    (Recinfo.attribute14 IS NULL)
                    AND (X_Attribute14 IS NULL)))
           AND (   (Recinfo.attribute15 =  X_Attribute15)
                OR (    (Recinfo.attribute15 IS NULL)
                    AND (X_Attribute15 IS NULL)))
	   AND (   (Recinfo.global_attribute_category =  X_Global_Attribute_Category)
                OR (    (Recinfo.global_attribute_category IS NULL)
                    AND (X_Global_Attribute_Category IS NULL)))
           AND (   (Recinfo.global_attribute1 =  X_Global_Attribute1)
                OR (    (Recinfo.global_attribute1 IS NULL)
                    AND (X_Global_Attribute1 IS NULL)))
           AND (   (Recinfo.global_attribute2 =  X_Global_Attribute2)
                OR (    (Recinfo.global_attribute2 IS NULL)
                    AND (X_Global_Attribute2 IS NULL)))
           AND (   (Recinfo.global_attribute3 =  X_Global_Attribute3)
                OR (    (Recinfo.global_attribute3 IS NULL)
                    AND (X_Global_Attribute3 IS NULL)))
           AND (   (Recinfo.global_attribute4 =  X_Global_Attribute4)
                OR (    (Recinfo.global_attribute4 IS NULL)
                    AND (X_Global_Attribute4 IS NULL)))
           AND (   (Recinfo.global_attribute5 =  X_Global_Attribute5)
                OR (    (Recinfo.global_attribute5 IS NULL)
                    AND (X_Global_Attribute5 IS NULL)))
           AND (   (Recinfo.global_attribute6 =  X_Global_Attribute6)
                OR (    (Recinfo.global_attribute6 IS NULL)
                    AND (X_Global_Attribute6 IS NULL)))
           AND (   (Recinfo.global_attribute7 =  X_Global_Attribute7)
                OR (    (Recinfo.global_attribute7 IS NULL)
                    AND (X_Global_Attribute7 IS NULL)))
           AND (   (Recinfo.global_attribute8 =  X_Global_Attribute8)
                OR (    (Recinfo.global_attribute8 IS NULL)
                    AND (X_Global_Attribute8 IS NULL)))
           AND (   (Recinfo.global_attribute9 =  X_Global_Attribute9)
                OR (    (Recinfo.global_attribute9 IS NULL)
                    AND (X_Global_Attribute9 IS NULL)))
           AND (   (Recinfo.global_attribute10 =  X_Global_Attribute10)
                OR (    (Recinfo.global_attribute10 IS NULL)
                    AND (X_Global_Attribute10 IS NULL)))
           AND (   (Recinfo.global_attribute11 =  X_Global_Attribute11)
                OR (    (Recinfo.global_attribute11 IS NULL)
                    AND (X_Global_Attribute11 IS NULL)))
           AND (   (Recinfo.global_attribute12 =  X_Global_Attribute12)
                OR (    (Recinfo.global_attribute12 IS NULL)
                    AND (X_Global_Attribute12 IS NULL)))
           AND (   (Recinfo.global_attribute13 =  X_Global_Attribute13)
                OR (    (Recinfo.global_attribute13 IS NULL)
                    AND (X_Global_Attribute13 IS NULL)))
           AND (   (Recinfo.global_attribute14 =  X_Global_Attribute14)
                OR (    (Recinfo.global_attribute14 IS NULL)
                    AND (X_Global_Attribute14 IS NULL)))
           AND (   (Recinfo.global_attribute15 =  X_Global_Attribute15)
                OR (    (Recinfo.global_attribute15 IS NULL)
                    AND (X_Attribute15 IS NULL)))
           AND (   (Recinfo.global_attribute16 =  X_Global_Attribute16)
                OR (    (Recinfo.global_attribute16 IS NULL)
                    AND (X_Global_Attribute16 IS NULL)))
           AND (   (Recinfo.global_attribute17 =  X_Global_Attribute17)
                OR (    (Recinfo.global_attribute17 IS NULL)
                    AND (X_Global_Attribute17 IS NULL)))
           AND (   (Recinfo.global_attribute18 =  X_Global_Attribute18)
                OR (    (Recinfo.global_attribute18 IS NULL)
                    AND (X_Global_Attribute18 IS NULL)))
           AND (   (Recinfo.global_attribute19 =  X_Global_Attribute19)
                OR (    (Recinfo.global_attribute19 IS NULL)
                    AND (X_Global_Attribute19 IS NULL)))
           AND (   (Recinfo.global_attribute20 =  X_Global_Attribute20)
                OR (    (Recinfo.global_attribute20 IS NULL)
                    AND (X_global_Attribute20 IS NULL)))
      ) then
      return;
    else
      FND_MESSAGE.Set_Name('FND', 'FORM_RECORD_CHANGED');
      APP_EXCEPTION.Raise_Exception;
    end if;
  END Lock_Row_new;




END WSH_DELIVERIES_PKG;

/
