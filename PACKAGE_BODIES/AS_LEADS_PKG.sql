--------------------------------------------------------
--  DDL for Package Body AS_LEADS_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "APPS"."AS_LEADS_PKG" as
/* $Header: asxtldhb.pls 120.1 2005/07/22 02:26:41 appldev ship $ */
-- Start of Comments
-- Package name     : AS_LEADS_PKG
-- Purpose          :
-- History          : 06/30/00 FFANG  Modified.
--                    08/02/00 FFANG  Use lead_id as lead_number when insert.
--                    01/15/01 FFANG  For bug 1580045, instead of AS_LEADS,
--                                    use AS_LEADS_ALL.
--		      02/12/04 RKUMARES For Bug#3437528. Update_row of PRM_REFERRAL_CODE changed.
-- NOTE             :
-- End of Comments


G_PKG_NAME CONSTANT VARCHAR2(30):= 'AS_LEADS_PKG';
G_FILE_NAME CONSTANT VARCHAR2(12) := 'asxtldhb.pls';

PROCEDURE Insert_Row(
          px_LEAD_ID   IN OUT NOCOPY NUMBER,
          p_LAST_UPDATE_DATE    DATE,
          p_LAST_UPDATED_BY    NUMBER,
          p_CREATION_DATE    DATE,
          p_CREATED_BY    NUMBER,
          p_LAST_UPDATE_LOGIN    NUMBER,
          p_REQUEST_ID    NUMBER,
          p_PROGRAM_APPLICATION_ID    NUMBER,
          p_PROGRAM_ID    NUMBER,
          p_PROGRAM_UPDATE_DATE    DATE,
          p_LEAD_NUMBER    VARCHAR2,
          p_STATUS    VARCHAR2,
          p_CUSTOMER_ID    NUMBER,
          p_ADDRESS_ID    NUMBER,
          p_SALES_STAGE_ID    NUMBER,
          p_INITIATING_CONTACT_ID    NUMBER,
          p_CHANNEL_CODE    VARCHAR2,
          p_TOTAL_AMOUNT    NUMBER,
          p_CURRENCY_CODE    VARCHAR2,
          p_DECISION_DATE    DATE,
          p_WIN_PROBABILITY    NUMBER,
          p_CLOSE_REASON    VARCHAR2,
          p_CLOSE_COMPETITOR_CODE    VARCHAR2,
          p_CLOSE_COMPETITOR    VARCHAR2,
          p_CLOSE_COMMENT    VARCHAR2,
          p_DESCRIPTION    VARCHAR2,
          p_RANK    VARCHAR2,
          p_SOURCE_PROMOTION_ID    NUMBER,
          p_END_USER_CUSTOMER_ID    NUMBER,
          p_END_USER_ADDRESS_ID    NUMBER,
 	  p_OWNER_SALESFORCE_ID   NUMBER,
 	  p_OWNER_SALES_GROUP_ID   NUMBER,
 	  --p_OWNER_ASSIGN_DATE    DATE,
          p_ORG_ID    NUMBER,
          p_NO_OPP_ALLOWED_FLAG    VARCHAR2,
          p_DELETE_ALLOWED_FLAG    VARCHAR2,
          p_ATTRIBUTE_CATEGORY    VARCHAR2,
          p_ATTRIBUTE1    VARCHAR2,
          p_ATTRIBUTE2    VARCHAR2,
          p_ATTRIBUTE3    VARCHAR2,
          p_ATTRIBUTE4    VARCHAR2,
          p_ATTRIBUTE5    VARCHAR2,
          p_ATTRIBUTE6    VARCHAR2,
          p_ATTRIBUTE7    VARCHAR2,
          p_ATTRIBUTE8    VARCHAR2,
          p_ATTRIBUTE9    VARCHAR2,
          p_ATTRIBUTE10    VARCHAR2,
          p_ATTRIBUTE11    VARCHAR2,
          p_ATTRIBUTE12    VARCHAR2,
          p_ATTRIBUTE13    VARCHAR2,
          p_ATTRIBUTE14    VARCHAR2,
          p_ATTRIBUTE15    VARCHAR2,
          p_PARENT_PROJECT    VARCHAR2,
          p_LEAD_SOURCE_CODE    VARCHAR2,
          p_ORIG_SYSTEM_REFERENCE    VARCHAR2,
          p_CLOSE_COMPETITOR_ID    NUMBER,
          p_END_USER_CUSTOMER_NAME    VARCHAR2,
          p_PRICE_LIST_ID    NUMBER,
          p_DELETED_FLAG    VARCHAR2,
          p_AUTO_ASSIGNMENT_TYPE    VARCHAR2,
          p_PRM_ASSIGNMENT_TYPE    VARCHAR2,
          p_CUSTOMER_BUDGET    NUMBER,
          p_METHODOLOGY_CODE    VARCHAR2,
	  p_SALES_METHODOLOGY_ID  NUMBER,
          p_ORIGINAL_LEAD_ID    NUMBER,
          p_DECISION_TIMEFRAME_CODE    VARCHAR2,
          p_INC_PARTNER_RESOURCE_ID    NUMBER,
          p_INC_PARTNER_PARTY_ID    NUMBER,
          p_OFFER_ID    NUMBER,
          p_VEHICLE_RESPONSE_CODE    VARCHAR2,
          p_BUDGET_STATUS_CODE    VARCHAR2,
          p_FOLLOWUP_DATE    DATE,
          p_PRM_EXEC_SPONSOR_FLAG    VARCHAR2,
          p_PRM_PRJ_LEAD_IN_PLACE_FLAG    VARCHAR2,
          p_PRM_IND_CLASSIFICATION_CODE    VARCHAR2,
          p_PRM_LEAD_TYPE  VARCHAR2,
          p_FREEZE_FLAG    VARCHAR2,
          p_PRM_REFERRAL_CODE  VARCHAR2,
          p_TOT_REVENUE_OPP_FORECAST_AMT NUMBER) -- Added for ASNB

 IS
   CURSOR C2 IS SELECT AS_LEADS_S.nextval FROM sys.dual;
BEGIN
   If (px_LEAD_ID IS NULL) OR (px_LEAD_ID = FND_API.G_MISS_NUM) then
       OPEN C2;
       FETCH C2 INTO px_LEAD_ID;
       CLOSE C2;
   End If;
   -- INSERT INTO AS_LEADS(
   INSERT INTO AS_LEADS_ALL(
           LEAD_ID,
           LAST_UPDATE_DATE,
           LAST_UPDATED_BY,
           CREATION_DATE,
           CREATED_BY,
           LAST_UPDATE_LOGIN,
           REQUEST_ID,
           PROGRAM_APPLICATION_ID,
           PROGRAM_ID,
           PROGRAM_UPDATE_DATE,
           LEAD_NUMBER,
           STATUS,
           CUSTOMER_ID,
           ADDRESS_ID,
           SALES_STAGE_ID,
           INITIATING_CONTACT_ID,
           CHANNEL_CODE,
           TOTAL_AMOUNT,
           CURRENCY_CODE,
           DECISION_DATE,
           WIN_PROBABILITY,
           CLOSE_REASON,
           CLOSE_COMPETITOR_CODE,
           CLOSE_COMPETITOR,
           CLOSE_COMMENT,
           DESCRIPTION,
           RANK,
           SOURCE_PROMOTION_ID,
           END_USER_CUSTOMER_ID,
           END_USER_ADDRESS_ID,
 	   OWNER_SALESFORCE_ID,
 	   OWNER_SALES_GROUP_ID,
 	   --OWNER_ASSIGN_DATE,
           -- Added for MOAC
           ORG_ID,
           NO_OPP_ALLOWED_FLAG,
           DELETE_ALLOWED_FLAG,
           ATTRIBUTE_CATEGORY,
           ATTRIBUTE1,
           ATTRIBUTE2,
           ATTRIBUTE3,
           ATTRIBUTE4,
           ATTRIBUTE5,
           ATTRIBUTE6,
           ATTRIBUTE7,
           ATTRIBUTE8,
           ATTRIBUTE9,
           ATTRIBUTE10,
           ATTRIBUTE11,
           ATTRIBUTE12,
           ATTRIBUTE13,
           ATTRIBUTE14,
           ATTRIBUTE15,
           PARENT_PROJECT,
           LEAD_SOURCE_CODE,
           ORIG_SYSTEM_REFERENCE,
           CLOSE_COMPETITOR_ID,
           END_USER_CUSTOMER_NAME,
           PRICE_LIST_ID,
           DELETED_FLAG,
           AUTO_ASSIGNMENT_TYPE,
           PRM_ASSIGNMENT_TYPE,
           CUSTOMER_BUDGET,
           METHODOLOGY_CODE,
	   SALES_METHODOLOGY_ID,
           ORIGINAL_LEAD_ID,
           DECISION_TIMEFRAME_CODE,
           INCUMBENT_PARTNER_RESOURCE_ID,
           INCUMBENT_PARTNER_PARTY_ID,
           OFFER_ID,
           VEHICLE_RESPONSE_CODE,
           BUDGET_STATUS_CODE,
           FOLLOWUP_DATE,
           PRM_EXEC_SPONSOR_FLAG,
           PRM_PRJ_LEAD_IN_PLACE_FLAG,
           PRM_IND_CLASSIFICATION_CODE,
           PRM_LEAD_TYPE,
           FREEZE_FLAG,
           PRM_REFERRAL_CODE,
	   TOTAL_REVENUE_OPP_FORECAST_AMT
          ) VALUES (
           px_LEAD_ID,
           decode( p_LAST_UPDATE_DATE, FND_API.G_MISS_DATE, TO_DATE(NULL), p_LAST_UPDATE_DATE),
           decode( p_LAST_UPDATED_BY, FND_API.G_MISS_NUM, NULL, p_LAST_UPDATED_BY),
           decode( p_CREATION_DATE, FND_API.G_MISS_DATE, TO_DATE(NULL), p_CREATION_DATE),
           decode( p_CREATED_BY, FND_API.G_MISS_NUM, NULL, p_CREATED_BY),
           decode( p_LAST_UPDATE_LOGIN, FND_API.G_MISS_NUM, NULL, p_LAST_UPDATE_LOGIN),
           decode( p_REQUEST_ID, FND_API.G_MISS_NUM, NULL, p_REQUEST_ID),
           decode( p_PROGRAM_APPLICATION_ID, FND_API.G_MISS_NUM, NULL, p_PROGRAM_APPLICATION_ID),
           decode( p_PROGRAM_ID, FND_API.G_MISS_NUM, NULL, p_PROGRAM_ID),
           decode( p_PROGRAM_UPDATE_DATE, FND_API.G_MISS_DATE, TO_DATE(NULL), p_PROGRAM_UPDATE_DATE),
           -- decode( p_LEAD_NUMBER, FND_API.G_MISS_CHAR, NULL, p_LEAD_NUMBER),
           px_LEAD_ID,
           decode( p_STATUS, FND_API.G_MISS_CHAR, NULL, p_STATUS),
           decode( p_CUSTOMER_ID, FND_API.G_MISS_NUM, NULL, p_CUSTOMER_ID),
           decode( p_ADDRESS_ID, FND_API.G_MISS_NUM, NULL, p_ADDRESS_ID),
           decode( p_SALES_STAGE_ID, FND_API.G_MISS_NUM, NULL, p_SALES_STAGE_ID),
           decode( p_INITIATING_CONTACT_ID, FND_API.G_MISS_NUM, NULL, p_INITIATING_CONTACT_ID),
           decode( p_CHANNEL_CODE, FND_API.G_MISS_CHAR, NULL, p_CHANNEL_CODE),
           decode( p_TOTAL_AMOUNT, FND_API.G_MISS_NUM, NULL, p_TOTAL_AMOUNT),
           decode( p_CURRENCY_CODE, FND_API.G_MISS_CHAR, NULL, p_CURRENCY_CODE),
           decode( p_DECISION_DATE, FND_API.G_MISS_DATE, TO_DATE(NULL), p_DECISION_DATE),
           decode( p_WIN_PROBABILITY, FND_API.G_MISS_NUM, NULL, p_WIN_PROBABILITY),
           decode( p_CLOSE_REASON, FND_API.G_MISS_CHAR, NULL, p_CLOSE_REASON),
           decode( p_CLOSE_COMPETITOR_CODE, FND_API.G_MISS_CHAR, NULL, p_CLOSE_COMPETITOR_CODE),
           decode( p_CLOSE_COMPETITOR, FND_API.G_MISS_CHAR, NULL, p_CLOSE_COMPETITOR),
           decode( p_CLOSE_COMMENT, FND_API.G_MISS_CHAR, NULL, p_CLOSE_COMMENT),
           decode( p_DESCRIPTION, FND_API.G_MISS_CHAR, NULL, p_DESCRIPTION),
           decode( p_RANK, FND_API.G_MISS_CHAR, NULL, p_RANK),
           decode( p_SOURCE_PROMOTION_ID, FND_API.G_MISS_NUM, NULL, p_SOURCE_PROMOTION_ID),
           decode( p_END_USER_CUSTOMER_ID, FND_API.G_MISS_NUM, NULL, p_END_USER_CUSTOMER_ID),
           decode( p_END_USER_ADDRESS_ID, FND_API.G_MISS_NUM, NULL, p_END_USER_ADDRESS_ID),
 	   decode( p_OWNER_SALESFORCE_ID, FND_API.G_MISS_NUM, NULL, p_OWNER_SALESFORCE_ID),
 	   decode( p_OWNER_SALES_GROUP_ID, FND_API.G_MISS_NUM, NULL, p_OWNER_SALES_GROUP_ID),
 	   --decode( p_OWNER_ASSIGN_DATE, FND_API.G_MISS_DATE, TO_DATE(NULL), p_OWNER_ASSIGN_DATE),
           decode( p_ORG_ID, FND_API.G_MISS_NUM, NULL, p_ORG_ID),
           decode( p_NO_OPP_ALLOWED_FLAG, FND_API.G_MISS_CHAR, NULL, p_NO_OPP_ALLOWED_FLAG),
           decode( p_DELETE_ALLOWED_FLAG, FND_API.G_MISS_CHAR, NULL, p_DELETE_ALLOWED_FLAG),
           decode( p_ATTRIBUTE_CATEGORY, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE_CATEGORY),
           decode( p_ATTRIBUTE1, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE1),
           decode( p_ATTRIBUTE2, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE2),
           decode( p_ATTRIBUTE3, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE3),
           decode( p_ATTRIBUTE4, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE4),
           decode( p_ATTRIBUTE5, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE5),
           decode( p_ATTRIBUTE6, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE6),
           decode( p_ATTRIBUTE7, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE7),
           decode( p_ATTRIBUTE8, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE8),
           decode( p_ATTRIBUTE9, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE9),
           decode( p_ATTRIBUTE10, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE10),
           decode( p_ATTRIBUTE11, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE11),
           decode( p_ATTRIBUTE12, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE12),
           decode( p_ATTRIBUTE13, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE13),
           decode( p_ATTRIBUTE14, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE14),
           decode( p_ATTRIBUTE15, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE15),
           decode( p_PARENT_PROJECT, FND_API.G_MISS_CHAR, NULL, p_PARENT_PROJECT),
           decode( p_LEAD_SOURCE_CODE, FND_API.G_MISS_CHAR, NULL, p_LEAD_SOURCE_CODE),
           decode( p_ORIG_SYSTEM_REFERENCE, FND_API.G_MISS_CHAR, NULL, p_ORIG_SYSTEM_REFERENCE),
           decode( p_CLOSE_COMPETITOR_ID, FND_API.G_MISS_NUM, NULL, p_CLOSE_COMPETITOR_ID),
           decode( p_END_USER_CUSTOMER_NAME, FND_API.G_MISS_CHAR, NULL, p_END_USER_CUSTOMER_NAME),
           decode( p_PRICE_LIST_ID, FND_API.G_MISS_NUM, NULL, p_PRICE_LIST_ID),
           decode( p_DELETED_FLAG, FND_API.G_MISS_CHAR, NULL, p_DELETED_FLAG),
           decode( p_AUTO_ASSIGNMENT_TYPE, FND_API.G_MISS_CHAR, NULL, p_AUTO_ASSIGNMENT_TYPE),
           decode( p_PRM_ASSIGNMENT_TYPE, FND_API.G_MISS_CHAR, NULL, p_PRM_ASSIGNMENT_TYPE),
           decode( p_CUSTOMER_BUDGET, FND_API.G_MISS_NUM, NULL, p_CUSTOMER_BUDGET),
           decode( p_METHODOLOGY_CODE, FND_API.G_MISS_CHAR, NULL, p_METHODOLOGY_CODE),
           decode( p_SALES_METHODOLOGY_ID, FND_API.G_MISS_NUM, NULL, p_SALES_METHODOLOGY_ID),
           decode( p_ORIGINAL_LEAD_ID, FND_API.G_MISS_NUM, NULL, p_ORIGINAL_LEAD_ID),
           decode( p_DECISION_TIMEFRAME_CODE, FND_API.G_MISS_CHAR, NULL, p_DECISION_TIMEFRAME_CODE),
           decode( p_INC_PARTNER_RESOURCE_ID, FND_API.G_MISS_NUM, NULL, p_INC_PARTNER_RESOURCE_ID),
           decode( p_INC_PARTNER_PARTY_ID, FND_API.G_MISS_NUM, NULL, p_INC_PARTNER_PARTY_ID),
           decode( p_OFFER_ID, FND_API.G_MISS_NUM, NULL, p_OFFER_ID),
           decode( p_VEHICLE_RESPONSE_CODE, FND_API.G_MISS_CHAR, NULL, p_VEHICLE_RESPONSE_CODE),
           decode( p_BUDGET_STATUS_CODE, FND_API.G_MISS_CHAR, NULL, p_BUDGET_STATUS_CODE),
           decode( p_FOLLOWUP_DATE, FND_API.G_MISS_DATE, NULL, p_FOLLOWUP_DATE),
           decode( p_PRM_EXEC_SPONSOR_FLAG, FND_API.G_MISS_CHAR, NULL, p_PRM_EXEC_SPONSOR_FLAG),
           decode( p_PRM_PRJ_LEAD_IN_PLACE_FLAG, FND_API.G_MISS_CHAR, NULL, p_PRM_PRJ_LEAD_IN_PLACE_FLAG),
           decode( p_PRM_IND_CLASSIFICATION_CODE, FND_API.G_MISS_CHAR, NULL, p_PRM_IND_CLASSIFICATION_CODE),
           decode( p_PRM_LEAD_TYPE, FND_API.G_MISS_CHAR,NULL, p_PRM_LEAD_TYPE),
           decode( p_FREEZE_FLAG, FND_API.G_MISS_CHAR, NULL, p_FREEZE_FLAG),
           decode( p_PRM_REFERRAL_CODE, FND_API.G_MISS_CHAR, NULL, p_PRM_REFERRAL_CODE),
	   decode( p_TOT_REVENUE_OPP_FORECAST_AMT, FND_API.G_MISS_NUM, 0, p_TOT_REVENUE_OPP_FORECAST_AMT)); -- Added for ASNB
End Insert_Row;

PROCEDURE Update_Row(
          p_LEAD_ID    NUMBER,
          p_LAST_UPDATE_DATE    DATE,
          p_LAST_UPDATED_BY    NUMBER,
          p_CREATION_DATE    DATE,
          p_CREATED_BY    NUMBER,
          p_LAST_UPDATE_LOGIN    NUMBER,
          p_REQUEST_ID    NUMBER,
          p_PROGRAM_APPLICATION_ID    NUMBER,
          p_PROGRAM_ID    NUMBER,
          p_PROGRAM_UPDATE_DATE    DATE,
          p_LEAD_NUMBER    VARCHAR2,
          p_STATUS    VARCHAR2,
          p_CUSTOMER_ID    NUMBER,
          p_ADDRESS_ID    NUMBER,
          p_SALES_STAGE_ID    NUMBER,
          p_INITIATING_CONTACT_ID    NUMBER,
          p_CHANNEL_CODE    VARCHAR2,
          p_TOTAL_AMOUNT    NUMBER,
          p_CURRENCY_CODE    VARCHAR2,
          p_DECISION_DATE    DATE,
          p_WIN_PROBABILITY    NUMBER,
          p_CLOSE_REASON    VARCHAR2,
          p_CLOSE_COMPETITOR_CODE    VARCHAR2,
          p_CLOSE_COMPETITOR    VARCHAR2,
          p_CLOSE_COMMENT    VARCHAR2,
          p_DESCRIPTION    VARCHAR2,
          p_RANK    VARCHAR2,
          p_SOURCE_PROMOTION_ID    NUMBER,
          p_END_USER_CUSTOMER_ID    NUMBER,
          p_END_USER_ADDRESS_ID    NUMBER,
 	  p_OWNER_SALESFORCE_ID   NUMBER,
 	  p_OWNER_SALES_GROUP_ID   NUMBER,
 	  --p_OWNER_ASSIGN_DATE    DATE,
          p_ORG_ID    NUMBER,
          p_NO_OPP_ALLOWED_FLAG    VARCHAR2,
          p_DELETE_ALLOWED_FLAG    VARCHAR2,
          p_ATTRIBUTE_CATEGORY    VARCHAR2,
          p_ATTRIBUTE1    VARCHAR2,
          p_ATTRIBUTE2    VARCHAR2,
          p_ATTRIBUTE3    VARCHAR2,
          p_ATTRIBUTE4    VARCHAR2,
          p_ATTRIBUTE5    VARCHAR2,
          p_ATTRIBUTE6    VARCHAR2,
          p_ATTRIBUTE7    VARCHAR2,
          p_ATTRIBUTE8    VARCHAR2,
          p_ATTRIBUTE9    VARCHAR2,
          p_ATTRIBUTE10    VARCHAR2,
          p_ATTRIBUTE11    VARCHAR2,
          p_ATTRIBUTE12    VARCHAR2,
          p_ATTRIBUTE13    VARCHAR2,
          p_ATTRIBUTE14    VARCHAR2,
          p_ATTRIBUTE15    VARCHAR2,
          p_PARENT_PROJECT    VARCHAR2,
          p_LEAD_SOURCE_CODE    VARCHAR2,
          p_ORIG_SYSTEM_REFERENCE    VARCHAR2,
          p_CLOSE_COMPETITOR_ID    NUMBER,
          p_END_USER_CUSTOMER_NAME    VARCHAR2,
          p_PRICE_LIST_ID    NUMBER,
          p_DELETED_FLAG    VARCHAR2,
          p_AUTO_ASSIGNMENT_TYPE    VARCHAR2,
          p_PRM_ASSIGNMENT_TYPE    VARCHAR2,
          p_CUSTOMER_BUDGET    NUMBER,
          p_METHODOLOGY_CODE    VARCHAR2,
	  p_SALES_METHODOLOGY_ID  NUMBER,
          p_ORIGINAL_LEAD_ID    NUMBER,
          p_DECISION_TIMEFRAME_CODE    VARCHAR2,
          p_INC_PARTNER_RESOURCE_ID    NUMBER,
          p_INC_PARTNER_PARTY_ID    NUMBER,
          p_OFFER_ID    NUMBER,
          p_VEHICLE_RESPONSE_CODE    VARCHAR2,
          p_BUDGET_STATUS_CODE    VARCHAR2,
          p_FOLLOWUP_DATE    DATE,
          p_PRM_EXEC_SPONSOR_FLAG    VARCHAR2,
          p_PRM_PRJ_LEAD_IN_PLACE_FLAG    VARCHAR2,
          p_PRM_IND_CLASSIFICATION_CODE    VARCHAR2,
          p_PRM_LEAD_TYPE  VARCHAR2,
          p_FREEZE_FLAG  VARCHAR2,
          p_PRM_REFERRAL_CODE  VARCHAR2)

 IS
 BEGIN
    -- Update AS_LEADS
    Update AS_LEADS_ALL
    SET object_version_number =  nvl(object_version_number,0) + 1,
              LAST_UPDATE_DATE = decode( p_LAST_UPDATE_DATE, FND_API.G_MISS_DATE, LAST_UPDATE_DATE, p_LAST_UPDATE_DATE),
              LAST_UPDATED_BY = decode( p_LAST_UPDATED_BY, FND_API.G_MISS_NUM, LAST_UPDATED_BY, p_LAST_UPDATED_BY),
              CREATION_DATE = decode( p_CREATION_DATE, FND_API.G_MISS_DATE, CREATION_DATE, p_CREATION_DATE),
              CREATED_BY = decode( p_CREATED_BY, FND_API.G_MISS_NUM, CREATED_BY, p_CREATED_BY),
              LAST_UPDATE_LOGIN = decode( p_LAST_UPDATE_LOGIN, FND_API.G_MISS_NUM, LAST_UPDATE_LOGIN, p_LAST_UPDATE_LOGIN),
              REQUEST_ID = decode( p_REQUEST_ID, FND_API.G_MISS_NUM, REQUEST_ID, p_REQUEST_ID),
              PROGRAM_APPLICATION_ID = decode( p_PROGRAM_APPLICATION_ID, FND_API.G_MISS_NUM, PROGRAM_APPLICATION_ID, p_PROGRAM_APPLICATION_ID),
              PROGRAM_ID = decode( p_PROGRAM_ID, FND_API.G_MISS_NUM, PROGRAM_ID, p_PROGRAM_ID),
              PROGRAM_UPDATE_DATE = decode( p_PROGRAM_UPDATE_DATE, FND_API.G_MISS_DATE, PROGRAM_UPDATE_DATE, p_PROGRAM_UPDATE_DATE),
              LEAD_NUMBER = decode( p_LEAD_NUMBER, FND_API.G_MISS_CHAR, LEAD_NUMBER, p_LEAD_NUMBER),
              STATUS = decode( p_STATUS, FND_API.G_MISS_CHAR, STATUS, p_STATUS),
              CUSTOMER_ID = decode( p_CUSTOMER_ID, FND_API.G_MISS_NUM, CUSTOMER_ID, p_CUSTOMER_ID),
              ADDRESS_ID = decode( p_ADDRESS_ID, FND_API.G_MISS_NUM, ADDRESS_ID, p_ADDRESS_ID),
              SALES_STAGE_ID = decode( p_SALES_STAGE_ID, FND_API.G_MISS_NUM, SALES_STAGE_ID, p_SALES_STAGE_ID),
              INITIATING_CONTACT_ID = decode( p_INITIATING_CONTACT_ID, FND_API.G_MISS_NUM, INITIATING_CONTACT_ID, p_INITIATING_CONTACT_ID),
              CHANNEL_CODE = decode( p_CHANNEL_CODE, FND_API.G_MISS_CHAR, CHANNEL_CODE, p_CHANNEL_CODE),
              TOTAL_AMOUNT = decode( p_TOTAL_AMOUNT, FND_API.G_MISS_NUM, TOTAL_AMOUNT, p_TOTAL_AMOUNT),
              CURRENCY_CODE = decode( p_CURRENCY_CODE, FND_API.G_MISS_CHAR, CURRENCY_CODE, p_CURRENCY_CODE),
              DECISION_DATE = decode( p_DECISION_DATE, FND_API.G_MISS_DATE, DECISION_DATE, p_DECISION_DATE),
              WIN_PROBABILITY = decode( p_WIN_PROBABILITY, FND_API.G_MISS_NUM, WIN_PROBABILITY, p_WIN_PROBABILITY),
              CLOSE_REASON = decode( p_CLOSE_REASON, FND_API.G_MISS_CHAR, CLOSE_REASON, p_CLOSE_REASON),
              CLOSE_COMPETITOR_CODE = decode( p_CLOSE_COMPETITOR_CODE, FND_API.G_MISS_CHAR, CLOSE_COMPETITOR_CODE, p_CLOSE_COMPETITOR_CODE),
              CLOSE_COMPETITOR = decode( p_CLOSE_COMPETITOR, FND_API.G_MISS_CHAR, CLOSE_COMPETITOR, p_CLOSE_COMPETITOR),
              CLOSE_COMMENT = decode( p_CLOSE_COMMENT, FND_API.G_MISS_CHAR, CLOSE_COMMENT, p_CLOSE_COMMENT),
              DESCRIPTION = decode( p_DESCRIPTION, FND_API.G_MISS_CHAR, DESCRIPTION, p_DESCRIPTION),
              RANK = decode( p_RANK, FND_API.G_MISS_CHAR, RANK, p_RANK),
              SOURCE_PROMOTION_ID = decode( p_SOURCE_PROMOTION_ID, FND_API.G_MISS_NUM, SOURCE_PROMOTION_ID, p_SOURCE_PROMOTION_ID),
              END_USER_CUSTOMER_ID = decode( p_END_USER_CUSTOMER_ID, FND_API.G_MISS_NUM, END_USER_CUSTOMER_ID, p_END_USER_CUSTOMER_ID),
              END_USER_ADDRESS_ID = decode( p_END_USER_ADDRESS_ID, FND_API.G_MISS_NUM, END_USER_ADDRESS_ID, p_END_USER_ADDRESS_ID),
 	      OWNER_SALESFORCE_ID = decode( p_OWNER_SALESFORCE_ID, FND_API.G_MISS_NUM, OWNER_SALESFORCE_ID, p_OWNER_SALESFORCE_ID),
 	      OWNER_SALES_GROUP_ID = decode( p_OWNER_SALES_GROUP_ID, FND_API.G_MISS_NUM, OWNER_SALES_GROUP_ID , p_OWNER_SALES_GROUP_ID),
 	      --OWNER_ASSIGN_DATE = decode( p_OWNER_ASSIGN_DATE, FND_API.G_MISS_DATE, OWNER_ASSIGN_DATE, p_OWNER_ASSIGN_DATE),
              --ORG_ID = decode( p_ORG_ID, FND_API.G_MISS_NUM, ORG_ID, p_ORG_ID),
              NO_OPP_ALLOWED_FLAG = decode( p_NO_OPP_ALLOWED_FLAG, FND_API.G_MISS_CHAR, NO_OPP_ALLOWED_FLAG, p_NO_OPP_ALLOWED_FLAG),
              DELETE_ALLOWED_FLAG = decode( p_DELETE_ALLOWED_FLAG, FND_API.G_MISS_CHAR, DELETE_ALLOWED_FLAG, p_DELETE_ALLOWED_FLAG),
              ATTRIBUTE_CATEGORY = decode( p_ATTRIBUTE_CATEGORY, FND_API.G_MISS_CHAR, ATTRIBUTE_CATEGORY, p_ATTRIBUTE_CATEGORY),
              ATTRIBUTE1 = decode( p_ATTRIBUTE1, FND_API.G_MISS_CHAR, ATTRIBUTE1, p_ATTRIBUTE1),
              ATTRIBUTE2 = decode( p_ATTRIBUTE2, FND_API.G_MISS_CHAR, ATTRIBUTE2, p_ATTRIBUTE2),
              ATTRIBUTE3 = decode( p_ATTRIBUTE3, FND_API.G_MISS_CHAR, ATTRIBUTE3, p_ATTRIBUTE3),
              ATTRIBUTE4 = decode( p_ATTRIBUTE4, FND_API.G_MISS_CHAR, ATTRIBUTE4, p_ATTRIBUTE4),
              ATTRIBUTE5 = decode( p_ATTRIBUTE5, FND_API.G_MISS_CHAR, ATTRIBUTE5, p_ATTRIBUTE5),
              ATTRIBUTE6 = decode( p_ATTRIBUTE6, FND_API.G_MISS_CHAR, ATTRIBUTE6, p_ATTRIBUTE6),
              ATTRIBUTE7 = decode( p_ATTRIBUTE7, FND_API.G_MISS_CHAR, ATTRIBUTE7, p_ATTRIBUTE7),
              ATTRIBUTE8 = decode( p_ATTRIBUTE8, FND_API.G_MISS_CHAR, ATTRIBUTE8, p_ATTRIBUTE8),
              ATTRIBUTE9 = decode( p_ATTRIBUTE9, FND_API.G_MISS_CHAR, ATTRIBUTE9, p_ATTRIBUTE9),
              ATTRIBUTE10 = decode( p_ATTRIBUTE10, FND_API.G_MISS_CHAR, ATTRIBUTE10, p_ATTRIBUTE10),
              ATTRIBUTE11 = decode( p_ATTRIBUTE11, FND_API.G_MISS_CHAR, ATTRIBUTE11, p_ATTRIBUTE11),
              ATTRIBUTE12 = decode( p_ATTRIBUTE12, FND_API.G_MISS_CHAR, ATTRIBUTE12, p_ATTRIBUTE12),
              ATTRIBUTE13 = decode( p_ATTRIBUTE13, FND_API.G_MISS_CHAR, ATTRIBUTE13, p_ATTRIBUTE13),
              ATTRIBUTE14 = decode( p_ATTRIBUTE14, FND_API.G_MISS_CHAR, ATTRIBUTE14, p_ATTRIBUTE14),
              ATTRIBUTE15 = decode( p_ATTRIBUTE15, FND_API.G_MISS_CHAR, ATTRIBUTE15, p_ATTRIBUTE15),
              PARENT_PROJECT = decode( p_PARENT_PROJECT, FND_API.G_MISS_CHAR, PARENT_PROJECT, p_PARENT_PROJECT),
              LEAD_SOURCE_CODE = decode( p_LEAD_SOURCE_CODE, FND_API.G_MISS_CHAR, LEAD_SOURCE_CODE, p_LEAD_SOURCE_CODE),
              ORIG_SYSTEM_REFERENCE = decode( p_ORIG_SYSTEM_REFERENCE, FND_API.G_MISS_CHAR, ORIG_SYSTEM_REFERENCE, p_ORIG_SYSTEM_REFERENCE),
              CLOSE_COMPETITOR_ID = decode( p_CLOSE_COMPETITOR_ID, FND_API.G_MISS_NUM, CLOSE_COMPETITOR_ID, p_CLOSE_COMPETITOR_ID),
              END_USER_CUSTOMER_NAME = decode( p_END_USER_CUSTOMER_NAME, FND_API.G_MISS_CHAR, END_USER_CUSTOMER_NAME, p_END_USER_CUSTOMER_NAME),
              PRICE_LIST_ID = decode( p_PRICE_LIST_ID, FND_API.G_MISS_NUM, PRICE_LIST_ID, p_PRICE_LIST_ID),
              DELETED_FLAG = decode( p_DELETED_FLAG, FND_API.G_MISS_CHAR, DELETED_FLAG, p_DELETED_FLAG),
              AUTO_ASSIGNMENT_TYPE = decode( p_AUTO_ASSIGNMENT_TYPE, FND_API.G_MISS_CHAR, AUTO_ASSIGNMENT_TYPE, p_AUTO_ASSIGNMENT_TYPE),
              PRM_ASSIGNMENT_TYPE = decode( p_PRM_ASSIGNMENT_TYPE, FND_API.G_MISS_CHAR, PRM_ASSIGNMENT_TYPE, p_PRM_ASSIGNMENT_TYPE),
              CUSTOMER_BUDGET = decode( p_CUSTOMER_BUDGET, FND_API.G_MISS_NUM, CUSTOMER_BUDGET, p_CUSTOMER_BUDGET),
              METHODOLOGY_CODE = decode( p_METHODOLOGY_CODE, FND_API.G_MISS_CHAR, METHODOLOGY_CODE, p_METHODOLOGY_CODE),
              SALES_METHODOLOGY_ID = decode(p_SALES_METHODOLOGY_ID , FND_API.G_MISS_NUM, SALES_METHODOLOGY_ID, p_SALES_METHODOLOGY_ID),
              ORIGINAL_LEAD_ID = decode( p_ORIGINAL_LEAD_ID, FND_API.G_MISS_NUM, ORIGINAL_LEAD_ID, p_ORIGINAL_LEAD_ID),
              DECISION_TIMEFRAME_CODE = decode( p_DECISION_TIMEFRAME_CODE, FND_API.G_MISS_CHAR, DECISION_TIMEFRAME_CODE, p_DECISION_TIMEFRAME_CODE),
              INCUMBENT_PARTNER_RESOURCE_ID = decode( p_INC_PARTNER_RESOURCE_ID, FND_API.G_MISS_NUM, INCUMBENT_PARTNER_RESOURCE_ID, p_INC_PARTNER_RESOURCE_ID),
              INCUMBENT_PARTNER_PARTY_ID = decode( p_INC_PARTNER_PARTY_ID, FND_API.G_MISS_NUM, INCUMBENT_PARTNER_PARTY_ID, P_INC_PARTNER_PARTY_ID),
              OFFER_ID = decode( p_OFFER_ID, FND_API.G_MISS_NUM, OFFER_ID, p_OFFER_ID),
              VEHICLE_RESPONSE_CODE = decode( p_VEHICLE_RESPONSE_CODE, FND_API.G_MISS_CHAR, VEHICLE_RESPONSE_CODE, p_VEHICLE_RESPONSE_CODE),
              BUDGET_STATUS_CODE = decode( p_BUDGET_STATUS_CODE, FND_API.G_MISS_CHAR, BUDGET_STATUS_CODE, p_BUDGET_STATUS_CODE),
              FOLLOWUP_DATE = decode( p_FOLLOWUP_DATE, FND_API.G_MISS_DATE, FOLLOWUP_DATE, p_FOLLOWUP_DATE),
              PRM_EXEC_SPONSOR_FLAG = decode( p_PRM_EXEC_SPONSOR_FLAG, FND_API.G_MISS_CHAR, PRM_EXEC_SPONSOR_FLAG, p_PRM_EXEC_SPONSOR_FLAG),
              PRM_PRJ_LEAD_IN_PLACE_FLAG = decode( p_PRM_PRJ_LEAD_IN_PLACE_FLAG, FND_API.G_MISS_CHAR, PRM_PRJ_LEAD_IN_PLACE_FLAG, p_PRM_PRJ_LEAD_IN_PLACE_FLAG),
              PRM_IND_CLASSIFICATION_CODE = decode( p_PRM_IND_CLASSIFICATION_CODE, FND_API.G_MISS_CHAR, PRM_IND_CLASSIFICATION_CODE, p_PRM_IND_CLASSIFICATION_CODE),
              PRM_LEAD_TYPE = decode( p_PRM_LEAD_TYPE, FND_API.G_MISS_CHAR, PRM_LEAD_TYPE, p_PRM_LEAD_TYPE),
              FREEZE_FLAG = decode( p_FREEZE_FLAG, FND_API.G_MISS_CHAR, FREEZE_FLAG, p_FREEZE_FLAG),
              PRM_REFERRAL_CODE = decode( p_PRM_REFERRAL_CODE, FND_API.G_MISS_CHAR, PRM_REFERRAL_CODE, p_PRM_REFERRAL_CODE)
    where LEAD_ID = p_LEAD_ID;

    If (SQL%NOTFOUND) then
        RAISE NO_DATA_FOUND;
    End If;
END Update_Row;

PROCEDURE Delete_Row(
    p_LEAD_ID  NUMBER)
 IS
 BEGIN
   -- DELETE FROM AS_LEADS
   DELETE FROM AS_LEADS_ALL
    WHERE LEAD_ID = p_LEAD_ID;
   If (SQL%NOTFOUND) then
       RAISE NO_DATA_FOUND;
   End If;
 END Delete_Row;

PROCEDURE Lock_Row(
          p_LEAD_ID    NUMBER,
          p_LAST_UPDATE_DATE    DATE,
          p_LAST_UPDATED_BY    NUMBER,
          p_CREATION_DATE    DATE,
          p_CREATED_BY    NUMBER,
          p_LAST_UPDATE_LOGIN    NUMBER,
          p_REQUEST_ID    NUMBER,
          p_PROGRAM_APPLICATION_ID    NUMBER,
          p_PROGRAM_ID    NUMBER,
          p_PROGRAM_UPDATE_DATE    DATE,
          p_LEAD_NUMBER    VARCHAR2,
          p_STATUS    VARCHAR2,
          p_CUSTOMER_ID    NUMBER,
          p_ADDRESS_ID    NUMBER,
          p_SALES_STAGE_ID    NUMBER,
          p_INITIATING_CONTACT_ID    NUMBER,
          p_CHANNEL_CODE    VARCHAR2,
          p_TOTAL_AMOUNT    NUMBER,
          p_CURRENCY_CODE    VARCHAR2,
          p_DECISION_DATE    DATE,
          p_WIN_PROBABILITY    NUMBER,
          p_CLOSE_REASON    VARCHAR2,
          p_CLOSE_COMPETITOR_CODE    VARCHAR2,
          p_CLOSE_COMPETITOR    VARCHAR2,
          p_CLOSE_COMMENT    VARCHAR2,
          p_DESCRIPTION    VARCHAR2,
          p_RANK    VARCHAR2,
          p_SOURCE_PROMOTION_ID    NUMBER,
          p_END_USER_CUSTOMER_ID    NUMBER,
          p_END_USER_ADDRESS_ID    NUMBER,
 	  p_OWNER_SALESFORCE_ID   NUMBER,
 	  p_OWNER_SALES_GROUP_ID   NUMBER,
 	  --p_OWNER_ASSIGN_DATE    DATE,
          p_ORG_ID    NUMBER,
          p_NO_OPP_ALLOWED_FLAG    VARCHAR2,
          p_DELETE_ALLOWED_FLAG    VARCHAR2,
          p_ATTRIBUTE_CATEGORY    VARCHAR2,
          p_ATTRIBUTE1    VARCHAR2,
          p_ATTRIBUTE2    VARCHAR2,
          p_ATTRIBUTE3    VARCHAR2,
          p_ATTRIBUTE4    VARCHAR2,
          p_ATTRIBUTE5    VARCHAR2,
          p_ATTRIBUTE6    VARCHAR2,
          p_ATTRIBUTE7    VARCHAR2,
          p_ATTRIBUTE8    VARCHAR2,
          p_ATTRIBUTE9    VARCHAR2,
          p_ATTRIBUTE10    VARCHAR2,
          p_ATTRIBUTE11    VARCHAR2,
          p_ATTRIBUTE12    VARCHAR2,
          p_ATTRIBUTE13    VARCHAR2,
          p_ATTRIBUTE14    VARCHAR2,
          p_ATTRIBUTE15    VARCHAR2,
          p_PARENT_PROJECT    VARCHAR2,
          p_LEAD_SOURCE_CODE    VARCHAR2,
          p_ORIG_SYSTEM_REFERENCE    VARCHAR2,
          p_CLOSE_COMPETITOR_ID    NUMBER,
          p_END_USER_CUSTOMER_NAME    VARCHAR2,
          p_PRICE_LIST_ID    NUMBER,
          p_DELETED_FLAG    VARCHAR2,
          p_AUTO_ASSIGNMENT_TYPE    VARCHAR2,
          p_PRM_ASSIGNMENT_TYPE    VARCHAR2,
          p_CUSTOMER_BUDGET    NUMBER,
          p_METHODOLOGY_CODE    VARCHAR2,
	  p_SALES_METHODOLOGY_ID  NUMBER,
          p_ORIGINAL_LEAD_ID    NUMBER,
          p_DECISION_TIMEFRAME_CODE    VARCHAR2,
          p_INC_PARTNER_RESOURCE_ID    NUMBER,
          p_INC_PARTNER_PARTY_ID    NUMBER,
          p_OFFER_ID    NUMBER,
          p_VEHICLE_RESPONSE_CODE    VARCHAR2,
          p_BUDGET_STATUS_CODE    VARCHAR2,
          p_FOLLOWUP_DATE    DATE,
          p_PRM_EXEC_SPONSOR_FLAG    VARCHAR2,
          p_PRM_PRJ_LEAD_IN_PLACE_FLAG    VARCHAR2,
          p_PRM_IND_CLASSIFICATION_CODE    VARCHAR2,
          p_PRM_LEAD_TYPE VARCHAR2,
          p_FREEZE_FLAG VARCHAR2,
          p_PRM_REFERRAL_CODE VARCHAR2)

 IS
   CURSOR C IS
        SELECT *
        -- FROM AS_LEADS
        FROM AS_LEADS_ALL
        WHERE LEAD_ID =  p_LEAD_ID
        FOR UPDATE of LEAD_ID NOWAIT;
   Recinfo C%ROWTYPE;
 BEGIN
    OPEN C;
    FETCH C INTO Recinfo;
    If (C%NOTFOUND) then
        CLOSE C;
        FND_MESSAGE.SET_NAME('FND', 'FORM_RECORD_DELETED');
        APP_EXCEPTION.RAISE_EXCEPTION;
    End If;
    CLOSE C;
    if (
           (      Recinfo.LEAD_ID = p_LEAD_ID)
       AND (    ( Recinfo.LAST_UPDATE_DATE = p_LAST_UPDATE_DATE)
            OR (    ( Recinfo.LAST_UPDATE_DATE IS NULL )
                AND (  p_LAST_UPDATE_DATE IS NULL )))
       AND (    ( Recinfo.LAST_UPDATED_BY = p_LAST_UPDATED_BY)
            OR (    ( Recinfo.LAST_UPDATED_BY IS NULL )
                AND (  p_LAST_UPDATED_BY IS NULL )))
       AND (    ( Recinfo.CREATION_DATE = p_CREATION_DATE)
            OR (    ( Recinfo.CREATION_DATE IS NULL )
                AND (  p_CREATION_DATE IS NULL )))
       AND (    ( Recinfo.CREATED_BY = p_CREATED_BY)
            OR (    ( Recinfo.CREATED_BY IS NULL )
                AND (  p_CREATED_BY IS NULL )))
       AND (    ( Recinfo.LAST_UPDATE_LOGIN = p_LAST_UPDATE_LOGIN)
            OR (    ( Recinfo.LAST_UPDATE_LOGIN IS NULL )
                AND (  p_LAST_UPDATE_LOGIN IS NULL )))
       AND (    ( Recinfo.REQUEST_ID = p_REQUEST_ID)
            OR (    ( Recinfo.REQUEST_ID IS NULL )
                AND (  p_REQUEST_ID IS NULL )))
       AND (    ( Recinfo.PROGRAM_APPLICATION_ID = p_PROGRAM_APPLICATION_ID)
            OR (    ( Recinfo.PROGRAM_APPLICATION_ID IS NULL )
                AND (  p_PROGRAM_APPLICATION_ID IS NULL )))
       AND (    ( Recinfo.PROGRAM_ID = p_PROGRAM_ID)
            OR (    ( Recinfo.PROGRAM_ID IS NULL )
                AND (  p_PROGRAM_ID IS NULL )))
       AND (    ( Recinfo.PROGRAM_UPDATE_DATE = p_PROGRAM_UPDATE_DATE)
            OR (    ( Recinfo.PROGRAM_UPDATE_DATE IS NULL )
                AND (  p_PROGRAM_UPDATE_DATE IS NULL )))
       AND (    ( Recinfo.LEAD_NUMBER = p_LEAD_NUMBER)
            OR (    ( Recinfo.LEAD_NUMBER IS NULL )
                AND (  p_LEAD_NUMBER IS NULL )))
       AND (    ( Recinfo.STATUS = p_STATUS)
            OR (    ( Recinfo.STATUS IS NULL )
                AND (  p_STATUS IS NULL )))
       AND (    ( Recinfo.CUSTOMER_ID = p_CUSTOMER_ID)
            OR (    ( Recinfo.CUSTOMER_ID IS NULL )
                AND (  p_CUSTOMER_ID IS NULL )))
       AND (    ( Recinfo.ADDRESS_ID = p_ADDRESS_ID)
            OR (    ( Recinfo.ADDRESS_ID IS NULL )
                AND (  p_ADDRESS_ID IS NULL )))
       AND (    ( Recinfo.SALES_STAGE_ID = p_SALES_STAGE_ID)
            OR (    ( Recinfo.SALES_STAGE_ID IS NULL )
                AND (  p_SALES_STAGE_ID IS NULL )))
       AND (    ( Recinfo.INITIATING_CONTACT_ID = p_INITIATING_CONTACT_ID)
            OR (    ( Recinfo.INITIATING_CONTACT_ID IS NULL )
                AND (  p_INITIATING_CONTACT_ID IS NULL )))
       AND (    ( Recinfo.CHANNEL_CODE = p_CHANNEL_CODE)
            OR (    ( Recinfo.CHANNEL_CODE IS NULL )
                AND (  p_CHANNEL_CODE IS NULL )))
       AND (    ( Recinfo.TOTAL_AMOUNT = p_TOTAL_AMOUNT)
            OR (    ( Recinfo.TOTAL_AMOUNT IS NULL )
                AND (  p_TOTAL_AMOUNT IS NULL )))
       AND (    ( Recinfo.CURRENCY_CODE = p_CURRENCY_CODE)
            OR (    ( Recinfo.CURRENCY_CODE IS NULL )
                AND (  p_CURRENCY_CODE IS NULL )))
       AND (    ( Recinfo.DECISION_DATE = p_DECISION_DATE)
            OR (    ( Recinfo.DECISION_DATE IS NULL )
                AND (  p_DECISION_DATE IS NULL )))
       AND (    ( Recinfo.WIN_PROBABILITY = p_WIN_PROBABILITY)
            OR (    ( Recinfo.WIN_PROBABILITY IS NULL )
                AND (  p_WIN_PROBABILITY IS NULL )))
       AND (    ( Recinfo.CLOSE_REASON = p_CLOSE_REASON)
            OR (    ( Recinfo.CLOSE_REASON IS NULL )
                AND (  p_CLOSE_REASON IS NULL )))
       AND (    ( Recinfo.CLOSE_COMPETITOR_CODE = p_CLOSE_COMPETITOR_CODE)
            OR (    ( Recinfo.CLOSE_COMPETITOR_CODE IS NULL )
                AND (  p_CLOSE_COMPETITOR_CODE IS NULL )))
       AND (    ( Recinfo.CLOSE_COMPETITOR = p_CLOSE_COMPETITOR)
            OR (    ( Recinfo.CLOSE_COMPETITOR IS NULL )
                AND (  p_CLOSE_COMPETITOR IS NULL )))
       AND (    ( Recinfo.CLOSE_COMMENT = p_CLOSE_COMMENT)
            OR (    ( Recinfo.CLOSE_COMMENT IS NULL )
                AND (  p_CLOSE_COMMENT IS NULL )))
       AND (    ( Recinfo.DESCRIPTION = p_DESCRIPTION)
            OR (    ( Recinfo.DESCRIPTION IS NULL )
                AND (  p_DESCRIPTION IS NULL )))
       AND (    ( Recinfo.RANK = p_RANK)
            OR (    ( Recinfo.RANK IS NULL )
                AND (  p_RANK IS NULL )))
       AND (    ( Recinfo.SOURCE_PROMOTION_ID = p_SOURCE_PROMOTION_ID)
            OR (    ( Recinfo.SOURCE_PROMOTION_ID IS NULL )
                AND (  p_SOURCE_PROMOTION_ID IS NULL )))
       AND (    ( Recinfo.END_USER_CUSTOMER_ID = p_END_USER_CUSTOMER_ID)
            OR (    ( Recinfo.END_USER_CUSTOMER_ID IS NULL )
                AND (  p_END_USER_CUSTOMER_ID IS NULL )))
       AND (    ( Recinfo.END_USER_ADDRESS_ID = p_END_USER_ADDRESS_ID)
            OR (    ( Recinfo.END_USER_ADDRESS_ID IS NULL )
                AND (  p_END_USER_ADDRESS_ID IS NULL )))
       AND (    ( Recinfo.OWNER_SALESFORCE_ID = p_OWNER_SALESFORCE_ID)
            OR (    ( Recinfo.OWNER_SALESFORCE_ID IS NULL )
                AND (  p_OWNER_SALESFORCE_ID IS NULL )))
       AND (    ( Recinfo.OWNER_SALES_GROUP_ID = p_OWNER_SALES_GROUP_ID)
            OR (    ( Recinfo.OWNER_SALES_GROUP_ID IS NULL )
                AND (  p_OWNER_SALES_GROUP_ID IS NULL )))
       --AND (    ( Recinfo.OWNER_ASSIGN_DATE = p_OWNER_ASSIGN_DATE)
            --OR (    ( Recinfo.OWNER_ASSIGN_DATE IS NULL )
                --AND (  p_OWNER_ASSIGN_DATE IS NULL )))
       --AND (    ( Recinfo.ORG_ID = p_ORG_ID)
            --OR (    ( Recinfo.ORG_ID IS NULL )
                --AND (  p_ORG_ID IS NULL )))
       AND (    ( Recinfo.NO_OPP_ALLOWED_FLAG = p_NO_OPP_ALLOWED_FLAG)
            OR (    ( Recinfo.NO_OPP_ALLOWED_FLAG IS NULL )
                AND (  p_NO_OPP_ALLOWED_FLAG IS NULL )))
       AND (    ( Recinfo.DELETE_ALLOWED_FLAG = p_DELETE_ALLOWED_FLAG)
            OR (    ( Recinfo.DELETE_ALLOWED_FLAG IS NULL )
                AND (  p_DELETE_ALLOWED_FLAG IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE_CATEGORY = p_ATTRIBUTE_CATEGORY)
            OR (    ( Recinfo.ATTRIBUTE_CATEGORY IS NULL )
                AND (  p_ATTRIBUTE_CATEGORY IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE1 = p_ATTRIBUTE1)
            OR (    ( Recinfo.ATTRIBUTE1 IS NULL )
                AND (  p_ATTRIBUTE1 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE2 = p_ATTRIBUTE2)
            OR (    ( Recinfo.ATTRIBUTE2 IS NULL )
                AND (  p_ATTRIBUTE2 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE3 = p_ATTRIBUTE3)
            OR (    ( Recinfo.ATTRIBUTE3 IS NULL )
                AND (  p_ATTRIBUTE3 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE4 = p_ATTRIBUTE4)
            OR (    ( Recinfo.ATTRIBUTE4 IS NULL )
                AND (  p_ATTRIBUTE4 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE5 = p_ATTRIBUTE5)
            OR (    ( Recinfo.ATTRIBUTE5 IS NULL )
                AND (  p_ATTRIBUTE5 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE6 = p_ATTRIBUTE6)
            OR (    ( Recinfo.ATTRIBUTE6 IS NULL )
                AND (  p_ATTRIBUTE6 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE7 = p_ATTRIBUTE7)
            OR (    ( Recinfo.ATTRIBUTE7 IS NULL )
                AND (  p_ATTRIBUTE7 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE8 = p_ATTRIBUTE8)
            OR (    ( Recinfo.ATTRIBUTE8 IS NULL )
                AND (  p_ATTRIBUTE8 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE9 = p_ATTRIBUTE9)
            OR (    ( Recinfo.ATTRIBUTE9 IS NULL )
                AND (  p_ATTRIBUTE9 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE10 = p_ATTRIBUTE10)
            OR (    ( Recinfo.ATTRIBUTE10 IS NULL )
                AND (  p_ATTRIBUTE10 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE11 = p_ATTRIBUTE11)
            OR (    ( Recinfo.ATTRIBUTE11 IS NULL )
                AND (  p_ATTRIBUTE11 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE12 = p_ATTRIBUTE12)
            OR (    ( Recinfo.ATTRIBUTE12 IS NULL )
                AND (  p_ATTRIBUTE12 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE13 = p_ATTRIBUTE13)
            OR (    ( Recinfo.ATTRIBUTE13 IS NULL )
                AND (  p_ATTRIBUTE13 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE14 = p_ATTRIBUTE14)
            OR (    ( Recinfo.ATTRIBUTE14 IS NULL )
                AND (  p_ATTRIBUTE14 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE15 = p_ATTRIBUTE15)
            OR (    ( Recinfo.ATTRIBUTE15 IS NULL )
                AND (  p_ATTRIBUTE15 IS NULL )))
       AND (    ( Recinfo.PARENT_PROJECT = p_PARENT_PROJECT)
            OR (    ( Recinfo.PARENT_PROJECT IS NULL )
                AND (  p_PARENT_PROJECT IS NULL )))
       AND (    ( Recinfo.LEAD_SOURCE_CODE = p_LEAD_SOURCE_CODE)
            OR (    ( Recinfo.LEAD_SOURCE_CODE IS NULL )
                AND (  p_LEAD_SOURCE_CODE IS NULL )))
       AND (    ( Recinfo.ORIG_SYSTEM_REFERENCE = p_ORIG_SYSTEM_REFERENCE)
            OR (    ( Recinfo.ORIG_SYSTEM_REFERENCE IS NULL )
                AND (  p_ORIG_SYSTEM_REFERENCE IS NULL )))
       AND (    ( Recinfo.CLOSE_COMPETITOR_ID = p_CLOSE_COMPETITOR_ID)
            OR (    ( Recinfo.CLOSE_COMPETITOR_ID IS NULL )
                AND (  p_CLOSE_COMPETITOR_ID IS NULL )))
       AND (    ( Recinfo.END_USER_CUSTOMER_NAME = p_END_USER_CUSTOMER_NAME)
            OR (    ( Recinfo.END_USER_CUSTOMER_NAME IS NULL )
                AND (  p_END_USER_CUSTOMER_NAME IS NULL )))
       AND (    ( Recinfo.PRICE_LIST_ID = p_PRICE_LIST_ID)
            OR (    ( Recinfo.PRICE_LIST_ID IS NULL )
                AND (  p_PRICE_LIST_ID IS NULL )))
       AND (    ( Recinfo.DELETED_FLAG = p_DELETED_FLAG)
            OR (    ( Recinfo.DELETED_FLAG IS NULL )
                AND (  p_DELETED_FLAG IS NULL )))
       AND (    ( Recinfo.AUTO_ASSIGNMENT_TYPE = p_AUTO_ASSIGNMENT_TYPE)
            OR (    ( Recinfo.AUTO_ASSIGNMENT_TYPE IS NULL )
                AND (  p_AUTO_ASSIGNMENT_TYPE IS NULL )))
       AND (    ( Recinfo.PRM_ASSIGNMENT_TYPE = p_PRM_ASSIGNMENT_TYPE)
            OR (    ( Recinfo.PRM_ASSIGNMENT_TYPE IS NULL )
                AND (  p_PRM_ASSIGNMENT_TYPE IS NULL )))
       AND (    ( Recinfo.CUSTOMER_BUDGET = p_CUSTOMER_BUDGET)
            OR (    ( Recinfo.CUSTOMER_BUDGET IS NULL )
                AND (  p_CUSTOMER_BUDGET IS NULL )))
       AND (    ( Recinfo.METHODOLOGY_CODE = p_METHODOLOGY_CODE)
            OR (    ( Recinfo.METHODOLOGY_CODE IS NULL )
                AND (  p_METHODOLOGY_CODE IS NULL )))
       AND (    ( Recinfo.SALES_METHODOLOGY_ID = p_SALES_METHODOLOGY_ID)
            OR (    ( Recinfo.SALES_METHODOLOGY_ID IS NULL )
                AND (  p_SALES_METHODOLOGY_ID IS NULL )))
       AND (    ( Recinfo.ORIGINAL_LEAD_ID = p_ORIGINAL_LEAD_ID)
            OR (    ( Recinfo.ORIGINAL_LEAD_ID IS NULL )
                AND (  p_ORIGINAL_LEAD_ID IS NULL )))
       AND (    ( Recinfo.DECISION_TIMEFRAME_CODE = p_DECISION_TIMEFRAME_CODE)
            OR (    ( Recinfo.DECISION_TIMEFRAME_CODE IS NULL )
                AND (  p_DECISION_TIMEFRAME_CODE IS NULL )))
       AND (    ( Recinfo.INCUMBENT_PARTNER_RESOURCE_ID = p_INC_PARTNER_RESOURCE_ID)
            OR (    ( Recinfo.INCUMBENT_PARTNER_RESOURCE_ID IS NULL )
                AND (  p_INC_PARTNER_RESOURCE_ID IS NULL )))
       AND (    ( Recinfo.INCUMBENT_PARTNER_PARTY_ID = p_INC_PARTNER_PARTY_ID)
            OR (    ( Recinfo.INCUMBENT_PARTNER_PARTY_ID IS NULL )
                AND (  p_INC_PARTNER_PARTY_ID IS NULL )))
       AND (    ( Recinfo.OFFER_ID = p_OFFER_ID)
            OR (    ( Recinfo.OFFER_ID IS NULL )
                AND (  p_OFFER_ID IS NULL )))
       AND (    ( Recinfo.VEHICLE_RESPONSE_CODE = p_VEHICLE_RESPONSE_CODE)
            OR (    ( Recinfo.VEHICLE_RESPONSE_CODE IS NULL )
                AND (  p_VEHICLE_RESPONSE_CODE IS NULL )))
       AND (    ( Recinfo.BUDGET_STATUS_CODE = p_BUDGET_STATUS_CODE)
            OR (    ( Recinfo.BUDGET_STATUS_CODE IS NULL )
                AND (  p_BUDGET_STATUS_CODE IS NULL )))
       AND (    ( Recinfo.FOLLOWUP_DATE = p_FOLLOWUP_DATE)
            OR (    ( Recinfo.FOLLOWUP_DATE IS NULL )
                AND (  p_FOLLOWUP_DATE IS NULL )))
       AND (    ( Recinfo.PRM_EXEC_SPONSOR_FLAG = p_PRM_EXEC_SPONSOR_FLAG)
            OR (    ( Recinfo.PRM_EXEC_SPONSOR_FLAG IS NULL )
                AND (  p_PRM_EXEC_SPONSOR_FLAG IS NULL )))
       AND (    ( Recinfo.PRM_PRJ_LEAD_IN_PLACE_FLAG = p_PRM_PRJ_LEAD_IN_PLACE_FLAG)
            OR (    ( Recinfo.PRM_PRJ_LEAD_IN_PLACE_FLAG IS NULL )
                AND (  p_PRM_PRJ_LEAD_IN_PLACE_FLAG IS NULL )))
       AND (    ( Recinfo.PRM_IND_CLASSIFICATION_CODE = p_PRM_IND_CLASSIFICATION_CODE)
            OR (    ( Recinfo.PRM_IND_CLASSIFICATION_CODE IS NULL )
                AND (  p_PRM_IND_CLASSIFICATION_CODE IS NULL )))
       AND (    ( Recinfo.PRM_LEAD_TYPE = p_PRM_LEAD_TYPE)
            OR (    ( Recinfo.PRM_LEAD_TYPE IS NULL )
                AND (  p_PRM_LEAD_TYPE IS NULL )))
       AND (    ( Recinfo.FREEZE_FLAG = p_FREEZE_FLAG)
            OR (    ( Recinfo.FREEZE_FLAG IS NULL )
                AND (  p_FREEZE_FLAG IS NULL )))
       AND (    ( Recinfo.PRM_REFERRAL_CODE = p_PRM_REFERRAL_CODE)
            OR (    ( Recinfo.PRM_REFERRAL_CODE IS NULL )
                AND (  p_PRM_REFERRAL_CODE IS NULL )))
       ) then
       return;
   else
       FND_MESSAGE.SET_NAME('FND', 'FORM_RECORD_CHANGED');
       APP_EXCEPTION.RAISE_EXCEPTION;
   End If;
END Lock_Row;

End AS_LEADS_PKG;

/
