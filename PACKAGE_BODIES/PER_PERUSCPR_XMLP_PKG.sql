--------------------------------------------------------
--  DDL for Package Body PER_PERUSCPR_XMLP_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "APPS"."PER_PERUSCPR_XMLP_PKG" AS
/* $Header: PERUSCPRB.pls 120.0 2007/12/28 06:58:31 srikrish noship $ */
  FUNCTION BEFOREREPORT RETURN BOOLEAN IS
  BEGIN
    DECLARE
      V_ORGANIZATION_NAME VARCHAR2(240);
      V_ORGANIZATION_TYPE VARCHAR2(80);
      V_ORG_STRUCTURE_NAME VARCHAR2(240);
      V_ORG_VERSION NUMBER;
      V_VERSION_START_DATE DATE;
      V_VERSION_END_DATE DATE;
    BEGIN
      --HR_STANDARD.EVENT('AFTER REPORT');
      C_END_OF_TIME := HR_GENERAL.END_OF_TIME;
      C_BUSINESS_GROUP_NAME := HR_REPORTS.GET_BUSINESS_GROUP(P_BUSINESS_GROUP_ID);
      V_ORGANIZATION_NAME := C_BUSINESS_GROUP_NAME;
      IF P_PARENT_ORGANIZATION_ID IS NOT NULL THEN
        HR_REPORTS.GET_ORGANIZATION(P_PARENT_ORGANIZATION_ID
                                   ,V_ORGANIZATION_NAME
                                   ,V_ORGANIZATION_TYPE);
        C_PARENT_ORGANIZATION_NAME := V_ORGANIZATION_NAME;
      ELSE
        C_PARENT_ORGANIZATION_NAME := '';
      END IF;
      IF P_ORG_STRUCTURE_VERSION_ID IS NOT NULL THEN
        HR_REPORTS.GET_ORGANIZATION_HIERARCHY(NULL
                                             ,P_ORG_STRUCTURE_VERSION_ID
                                             ,V_ORG_STRUCTURE_NAME
                                             ,V_ORG_VERSION
                                             ,V_VERSION_START_DATE
                                             ,V_VERSION_END_DATE);
        C_ORG_STRUCTURE_NAME := V_ORG_STRUCTURE_NAME;
      ELSE
        C_ORG_STRUCTURE_NAME := '';
      END IF;
      IF (P_QUALIFYING_EVENT IS NOT NULL) THEN
        C_QUALIFYING_EVENT := HR_US_REPORTS.GET_COBRA_QUALIFYING_EVENT(P_QUALIFYING_EVENT);
      ELSE
        C_QUALIFYING_EVENT := '';
      END IF;
    END;
    RETURN (TRUE);
  END BEFOREREPORT;

  FUNCTION AFTERREPORT RETURN BOOLEAN IS
  BEGIN
    --HR_STANDARD.EVENT('AFTER REPORT');
    RETURN (TRUE);
  END AFTERREPORT;

  FUNCTION C_BUSINESS_GROUP_NAME_P RETURN VARCHAR2 IS
  BEGIN
    RETURN C_BUSINESS_GROUP_NAME;
  END C_BUSINESS_GROUP_NAME_P;

  FUNCTION C_REPORT_SUBTITLE_P RETURN VARCHAR2 IS
  BEGIN
    RETURN C_REPORT_SUBTITLE;
  END C_REPORT_SUBTITLE_P;

  FUNCTION C_PARENT_ORGANIZATION_NAME_P RETURN VARCHAR2 IS
  BEGIN
    RETURN C_PARENT_ORGANIZATION_NAME;
  END C_PARENT_ORGANIZATION_NAME_P;

  FUNCTION C_ORG_STRUCTURE_NAME_P RETURN VARCHAR2 IS
  BEGIN
    RETURN C_ORG_STRUCTURE_NAME;
  END C_ORG_STRUCTURE_NAME_P;

  FUNCTION C_QUALIFYING_EVENT_P RETURN VARCHAR2 IS
  BEGIN
    RETURN C_QUALIFYING_EVENT;
  END C_QUALIFYING_EVENT_P;

  FUNCTION C_END_OF_TIME_P RETURN DATE IS
  BEGIN
    RETURN C_END_OF_TIME;
  END C_END_OF_TIME_P;

END PER_PERUSCPR_XMLP_PKG;

/
