--------------------------------------------------------
--  DDL for Package Body WIP_WIPRERTG_XMLP_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "APPS"."WIP_WIPRERTG_XMLP_PKG" AS
/* $Header: WIPRERTGB.pls 120.1 2008/01/31 12:39:33 npannamp noship $ */
  FUNCTION BEFOREREPORT RETURN BOOLEAN IS
  BEGIN
    P_CONC_REQUEST_ID := FND_GLOBAL.CONC_REQUEST_ID;
    /*SRW.USER_EXIT('FND SRWINIT')*/NULL;
    /*SRW.USER_EXIT('FND FLEXSQL CODE="MSTK"
                    APPL_SHORT_NAME="INV" OUTPUT=":P_COMPFLEX"
                    MODE="SELECT" DISPLAY="ALL" TABLEALIAS="M"')*/NULL;
    RETURN (TRUE);
    RETURN (TRUE);
  END BEFOREREPORT;

  FUNCTION ASSEMBLY_SPEC RETURN CHARACTER IS
    ASSEMBLY_SPEC VARCHAR2(100);
  BEGIN
    IF (P_ASSEMBLY IS NOT NULL) THEN
      ASSEMBLY_SPEC := 'AND E.WIP_ENTITY_NAME = ''' || P_ASSEMBLY || '''';
    ELSE
      ASSEMBLY_SPEC := ' ';
    END IF;
    RETURN (ASSEMBLY_SPEC);
  END ASSEMBLY_SPEC;

  FUNCTION LINE_SPEC RETURN CHARACTER IS
    LINE_SPEC VARCHAR2(50);
  BEGIN
    IF (P_LINE_CODE IS NOT NULL) THEN
      LINE_SPEC := 'AND L.LINE_CODE = ''' || P_LINE_CODE || '''';
    ELSE
      LINE_SPEC := ' ';
    END IF;
    RETURN (LINE_SPEC);
  END LINE_SPEC;

  FUNCTION DATE_RANGE RETURN CHARACTER IS
    DATE_RANGE VARCHAR2(240);
  BEGIN
    IF (P_FIRST_UNIT_START_DATE1 IS NOT NULL) THEN
      IF (P_FIRST_UNIT_START_DATE2 IS NOT NULL) THEN
        IF (P_FIRST_UNIT_START_DATE1 = P_FIRST_UNIT_START_DATE2) THEN
          DATE_RANGE := ' AND TRUNC(RS.FIRST_UNIT_START_DATE) = TO_DATE(''' || TO_CHAR(P_FIRST_UNIT_START_DATE1
                               ,'YYYYMMDD') || ''',''YYYYMMDD'')';
        ELSE
          DATE_RANGE := ' AND TRUNC(RS.FIRST_UNIT_START_DATE) BETWEEN TO_DATE(''' || TO_CHAR(P_FIRST_UNIT_START_DATE1
                               ,'YYYYMMDD') || ''',''YYYYMMDD'') AND TO_DATE(''' || TO_CHAR(P_FIRST_UNIT_START_DATE2
                               ,'YYYYMMDD') || ''',''YYYYMMDD'')';
        END IF;
      ELSE
        DATE_RANGE := ' AND TRUNC(RS.FIRST_UNIT_START_DATE) >= TO_DATE(''' || TO_CHAR(P_FIRST_UNIT_START_DATE1
                             ,'YYYYMMDD') || ''',''YYYYMMDD'')';
      END IF;
    ELSE
      IF (P_FIRST_UNIT_START_DATE2 IS NOT NULL) THEN
        DATE_RANGE := ' AND TRUNC(RS.FIRST_UNIT_START_DATE) <= TO_DATE(''' || TO_CHAR(P_FIRST_UNIT_START_DATE2
                             ,'YYYYMMDD') || ''',''YYYYMMDD'')';
      ELSE
        DATE_RANGE := ' ';
      END IF;
    END IF;
    RETURN (DATE_RANGE);
  END DATE_RANGE;

  FUNCTION AFTERREPORT RETURN BOOLEAN IS
  BEGIN
    /*SRW.USER_EXIT('FND SRWEXIT')*/NULL;
    RETURN (TRUE);
  END AFTERREPORT;

  FUNCTION AFTERPFORM RETURN BOOLEAN IS
  BEGIN
    RETURN (TRUE);
  END AFTERPFORM;

END WIP_WIPRERTG_XMLP_PKG;


/
