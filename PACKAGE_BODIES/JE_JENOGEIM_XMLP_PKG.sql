--------------------------------------------------------
--  DDL for Package Body JE_JENOGEIM_XMLP_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "APPS"."JE_JENOGEIM_XMLP_PKG" AS
/* $Header: JENOGEIMB.pls 120.2 2008/01/11 07:59:25 abraghun noship $ */
  FUNCTION AFTERREPORT RETURN BOOLEAN IS
  BEGIN
    /*SRW.USER_EXIT('FND SRWEXIT')*/NULL;
    RETURN (TRUE);
  END AFTERREPORT;

  FUNCTION BEFOREREPORT RETURN BOOLEAN IS
  BEGIN
    BEGIN
      P_CONC_REQUEST_ID := FND_GLOBAL.CONC_REQUEST_ID;
      /*SRW.USER_EXIT('FND SRWINIT')*/NULL;
    EXCEPTION
      WHEN /*SRW.USER_EXIT_FAILURE*/OTHERS THEN
        BEGIN
          /*SRW.MESSAGE(100
                     ,'Foundation is not initialised')*/NULL;
          /*RAISE SRW.PROGRAM_ABORT*/RAISE_APPLICATION_ERROR(-20101,null);
        END;
    END;
    DECLARE
      XXNO_REQUEST_ID1 NUMBER;
      COAID NUMBER;
      SOBNAME VARCHAR2(30);
      FUNCTCURR VARCHAR2(15);
      ERRBUF VARCHAR2(132);
    BEGIN
      JG_INFO.JG_GET_SET_OF_BOOKS_INFO(P_LEDGER_ID
                                      ,COAID
                                      ,SOBNAME
                                      ,FUNCTCURR
                                      ,ERRBUF);
      IF (ERRBUF IS NOT NULL) THEN
        /*SRW.MESSAGE('00'
                   ,ERRBUF)*/NULL;
        /*RAISE SRW.PROGRAM_ABORT*/RAISE_APPLICATION_ERROR(-20101,null);
      END IF;
      SELECT
        PRECISION
      INTO PRECISION
      FROM
        FND_CURRENCIES
      WHERE CURRENCY_CODE = FUNCTCURR;
      STRUCT_NUM := COAID;
      SET_OF_BOOKS_NAME := SOBNAME;
      FUNC_CURRENCY := FUNCTCURR;
    END;
    RETURN (TRUE);
  END BEFOREREPORT;

  FUNCTION B_PERIOD_ENDFORMATTRIGGER(PERIOD_END IN VARCHAR2) RETURN BOOLEAN IS
  BEGIN
    IF PERIOD_END IS NULL THEN
      RETURN (FALSE);
    ELSE
      RETURN (TRUE);
    END IF;
    RETURN NULL;
  END B_PERIOD_ENDFORMATTRIGGER;

  FUNCTION CF_REPORT_TITLEFORMULA RETURN CHAR IS
  BEGIN
    DECLARE
      L_REPORT_NAME VARCHAR2(80);
    BEGIN
      SELECT
        CP.USER_CONCURRENT_PROGRAM_NAME
      INTO L_REPORT_NAME
      FROM
        FND_CONCURRENT_PROGRAMS_VL CP,
        FND_APPLICATION_VL AP
      WHERE AP.APPLICATION_ID = CP.APPLICATION_ID
        AND CP.CONCURRENT_PROGRAM_NAME = 'JENOGEIM'
        AND AP.APPLICATION_SHORT_NAME = 'JE';
      RETURN (L_REPORT_NAME);
    EXCEPTION
      WHEN NO_DATA_FOUND THEN
        L_REPORT_NAME := 'GEI Print Messages';
        RETURN ('GEI Print Messages');
    END;
  END CF_REPORT_TITLEFORMULA;

  FUNCTION CF_DATEFORMULA RETURN CHAR IS
  BEGIN
    DECLARE
      V_DATE DATE;
    BEGIN
      SELECT
        FND_DATE.DATE_TO_CHARDATE(SYSDATE)
      INTO V_DATE
      FROM
        DUAL;
      RETURN (V_DATE);
    END;
  END CF_DATEFORMULA;

  FUNCTION STRUCT_NUM_P RETURN VARCHAR2 IS
  BEGIN
    RETURN STRUCT_NUM;
  END STRUCT_NUM_P;

  FUNCTION SET_OF_BOOKS_NAME_P RETURN VARCHAR2 IS
  BEGIN
    RETURN SET_OF_BOOKS_NAME;
  END SET_OF_BOOKS_NAME_P;

  FUNCTION SELECT_ALL_P RETURN VARCHAR2 IS
  BEGIN
    RETURN SELECT_ALL;
  END SELECT_ALL_P;

  FUNCTION WHERE_FLEX_P RETURN VARCHAR2 IS
  BEGIN
    RETURN WHERE_FLEX;
  END WHERE_FLEX_P;

  FUNCTION ORDERBY_ACCT_P RETURN VARCHAR2 IS
  BEGIN
    RETURN ORDERBY_ACCT;
  END ORDERBY_ACCT_P;

  FUNCTION PRECISION_P RETURN NUMBER IS
  BEGIN
    RETURN PRECISION;
  END PRECISION_P;

  FUNCTION FUNC_CURRENCY_P RETURN VARCHAR2 IS
  BEGIN
    RETURN FUNC_CURRENCY;
  END FUNC_CURRENCY_P;

END JE_JENOGEIM_XMLP_PKG;




/
