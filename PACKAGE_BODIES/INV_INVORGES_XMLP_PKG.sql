--------------------------------------------------------
--  DDL for Package Body INV_INVORGES_XMLP_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "APPS"."INV_INVORGES_XMLP_PKG" AS
/* $Header: INVORGESB.pls 120.1 2007/12/25 10:43:31 dwkrishn noship $ */
  FUNCTION BEFOREREPORT RETURN BOOLEAN IS
  BEGIN
    BEGIN
      P_CONC_REQUEST_ID := FND_GLOBAL.CONC_REQUEST_ID;
      /*SRW.USER_EXIT('FND SRWINIT')*/NULL;
    EXCEPTION
      WHEN /*SRW.USER_EXIT_FAILURE*/OTHERS THEN
        /*SRW.MESSAGE(1
                   ,'Error in SRWINIT')*/NULL;
        RAISE;
    END;
    BEGIN
      SELECT
        FRV.RESPONSIBILITY_NAME,
        TO_CHAR(FCR.REQUEST_DATE
               ,'DD-MON-YYYY HH24:MI:SS'),
        FAV.APPLICATION_NAME,
        FU.USER_NAME
      INTO CP_RESPONSIBILITY,CP_REQUEST_TIME,CP_APPLICATION,CP_REQUESTED_BY
      FROM
        FND_CONCURRENT_REQUESTS FCR,
        FND_RESPONSIBILITY_VL FRV,
        FND_APPLICATION_VL FAV,
        FND_USER FU
      WHERE FCR.REQUEST_ID = P_CONC_REQUEST_ID
        AND FCR.RESPONSIBILITY_APPLICATION_ID = FRV.APPLICATION_ID
        AND FCR.RESPONSIBILITY_ID = FRV.RESPONSIBILITY_ID
        AND FRV.APPLICATION_ID = FAV.APPLICATION_ID
        AND FU.USER_ID = FCR.REQUESTED_BY;
    EXCEPTION
      WHEN NO_DATA_FOUND THEN
        /*SRW.MESSAGE(30
                   ,'Failed Request By and Request time Init,No data.')*/NULL;
      WHEN OTHERS THEN
        /*SRW.MESSAGE(31
                   ,'Failed Request By and Request time Init.')*/NULL;
    END;
    RETURN (TRUE);
  END BEFOREREPORT;

  FUNCTION AFTERREPORT RETURN BOOLEAN IS
  BEGIN
    BEGIN
      /*SRW.USER_EXIT('FND SRWEXIT')*/NULL;
    EXCEPTION
      WHEN /*SRW.USER_EXIT_FAILURE*/OTHERS THEN
        /*SRW.MESSAGE(1
                   ,'Error in SRWEXIT')*/NULL;
    END;
    RETURN (TRUE);
  END AFTERREPORT;

  FUNCTION CP_RESPONSIBILITY_P RETURN VARCHAR2 IS
  BEGIN
    RETURN CP_RESPONSIBILITY;
  END CP_RESPONSIBILITY_P;

  FUNCTION CP_REQUEST_TIME_P RETURN VARCHAR2 IS
  BEGIN
    RETURN CP_REQUEST_TIME;
  END CP_REQUEST_TIME_P;

  FUNCTION CP_APPLICATION_P RETURN VARCHAR2 IS
  BEGIN
    RETURN CP_APPLICATION;
  END CP_APPLICATION_P;

  FUNCTION CP_REQUESTED_BY_P RETURN VARCHAR2 IS
  BEGIN
    RETURN CP_REQUESTED_BY;
  END CP_REQUESTED_BY_P;

END INV_INVORGES_XMLP_PKG;


/
