--------------------------------------------------------
--  DDL for Package Body GML_RIBOL_XMLP_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "APPS"."GML_RIBOL_XMLP_PKG" AS
/* $Header: RIBOLB.pls 120.1 2008/01/06 13:44:56 dwkrishn noship $ */
  FUNCTION AFTERPFORM RETURN BOOLEAN IS
    SORT1 VARCHAR2(10);
  BEGIN
    PARAM_WHERE_CLAUSE := '  ';
    PARAM_WHERE_CLAUSE := PARAM_WHERE_CLAUSE || ' and lad.orgn_code = :p_default_orgn  ';
    IF (P_FROM_SHIPMENT_NO IS NOT NULL) THEN
      PARAM_WHERE_CLAUSE := PARAM_WHERE_CLAUSE || ' and lad.bol_no >= :p_from_shipment_no ';
    END IF;
    IF (P_TO_SHIPMENT_NO IS NOT NULL) THEN
      PARAM_WHERE_CLAUSE := PARAM_WHERE_CLAUSE || ' and lad.bol_no <= :p_to_shipment_no  ';
    END IF;
    IF (P_SORT_ASC_DESC = '1') THEN
      P_SORT := 'ASC';
    ELSIF (P_SORT_ASC_DESC = '2') THEN
      P_SORT := 'DESC';
    ELSE
      /*SRW.MESSAGE(1232
                 ,'INVALID OPTION')*/NULL;
      /*RAISE SRW.PROGRAM_ABORT*/RAISE_APPLICATION_ERROR(-20101,null);
    END IF;
    RETURN (TRUE);
  END AFTERPFORM;

  FUNCTION CF_SORT_1FORMULA RETURN VARCHAR2 IS
    TEMP VARCHAR2(80);
  BEGIN
    SELECT
      MEANING
    INTO TEMP
    FROM
      GEM_LOOKUP_VALUES
    WHERE LOOKUP_TYPE = 'GEMMS_OP_RIBOL'
      AND LOOKUP_CODE = P_SORT_ASC_DESC;
    CP_SORT_1 := TEMP;
    RETURN NULL;
  END CF_SORT_1FORMULA;

  FUNCTION BEFOREREPORT RETURN BOOLEAN IS
  BEGIN
    P_CONC_REQUEST_ID := FND_GLOBAL.CONC_REQUEST_ID;
    /*SRW.USER_EXIT('FND SRWINIT')*/NULL;
    SELECT
      ORGN_NAME
    INTO CP_ORGN_NAME
    FROM
      SY_ORGN_MST
    WHERE ORGN_CODE = P_DEFAULT_ORGN;
    SELECT
      USER_NAME
    INTO CP_USER
    FROM
      FND_USER
    WHERE USER_ID = P_DEFAULT_USER;
    RETURN (TRUE);
    RETURN NULL;
  EXCEPTION
    WHEN OTHERS THEN
      RETURN TRUE;
      RETURN (TRUE);
  END BEFOREREPORT;

  PROCEDURE GML_RIBOL_XMLP_PKG_HEADER IS
  BEGIN
    NULL;
  END GML_RIBOL_XMLP_PKG_HEADER;

  FUNCTION AFTERREPORT RETURN BOOLEAN IS
  BEGIN
    /*SRW.USER_EXIT('FND SRWEXIT')*/NULL;
    RETURN (TRUE);
  END AFTERREPORT;

  FUNCTION CP_ORGN_NAME_P RETURN VARCHAR2 IS
  BEGIN
    RETURN CP_ORGN_NAME;
  END CP_ORGN_NAME_P;

  FUNCTION CP_USER_P RETURN VARCHAR2 IS
  BEGIN
    RETURN CP_USER;
  END CP_USER_P;

  FUNCTION CP_SORT_1_P RETURN VARCHAR2 IS
  BEGIN
    RETURN CP_SORT_1;
  END CP_SORT_1_P;

END GML_RIBOL_XMLP_PKG;


/
