--------------------------------------------------------
--  DDL for Package Body QA_QLTPLACR_XMLP_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "APPS"."QA_QLTPLACR_XMLP_PKG" AS
/* $Header: QLTPLACRB.pls 120.0 2007/12/24 10:34:29 krreddy noship $ */
  FUNCTION AFTERPFORM RETURN BOOLEAN IS
  BEGIN
  P_PLAN_LIMITER := ' ';
  P_ELEMENT_LIMITER :=' ';
  P_Element_Enabled_Limiter := ' ';
  P_org_limiter:= ' ';

    IF (P_PLAN_NAME IS NOT NULL) THEN
      SELECT
        NAME
      INTO P_PLAN_NAME
      FROM
        QA_PLANS
      WHERE PLAN_ID = P_PLAN_NAME;
      P_PLAN_LIMITER := 'and  qp1.name = ''' || P_PLAN_NAME || '''';
    END IF;
    IF (P_PLAN_ENABLED IS NOT NULL) THEN
      P_ENABLED_FLAG := TO_NUMBER(P_PLAN_ENABLED);
      SELECT
        MEANING
      INTO P_PLAN_ENABLED_MEANING
      FROM
        MFG_LOOKUPS
      WHERE LOOKUP_TYPE = 'SYS_YES_NO'
        AND LOOKUP_CODE = P_PLAN_ENABLED;
      IF P_ENABLED_FLAG = 1 THEN
        P_TABLE := 'QA_PLANS_VAL_V';
      ELSE
        P_TABLE := 'QA_PLANS_V';
      END IF;
    END IF;
    IF (P_ELEMENT IS NOT NULL) THEN
      SELECT
        NAME
      INTO P_ELEMENT
      FROM
        QA_CHARS
      WHERE CHAR_ID = P_ELEMENT;
      P_ELEMENT_LIMITER := 'and qc.name = ''' || P_ELEMENT || '''';
    END IF;
    IF (P_ELEMENT_ENABLED IS NOT NULL) THEN
      P_ELEMENT_ENABLED_LIMITER := 'and ml2.lookup_code = ''' || P_ELEMENT_ENABLED || '''';
      SELECT
        MEANING
      INTO P_ELEMENT_ENABLED_MEANING
      FROM
        MFG_LOOKUPS
      WHERE LOOKUP_TYPE = 'SYS_YES_NO'
        AND LOOKUP_CODE = P_ELEMENT_ENABLED;
    END IF;
    IF (P_ORGANIZATION_ID IS NOT NULL) THEN
      P_ORG_LIMITER := 'and qp1.organization_id = ''' || TO_CHAR(P_ORGANIZATION_ID) || '''';
    END IF;
    RETURN (TRUE);
  END AFTERPFORM;

  FUNCTION TRANSLLATE(ENABLED_MEANING IN VARCHAR2) RETURN NUMBER IS
    CURSOR C1(ENABLED_MEANNING IN VARCHAR2) IS
      SELECT
        LOOKUP_CODE
      FROM
        MFG_LOOKUPS
      WHERE LOOKUP_TYPE = 'SYS_YES_NO'
        AND MEANING = ENABLED_MEANNING;
    TRANSLATED NUMBER;
  BEGIN
    OPEN C1(ENABLED_MEANING);
    FETCH C1
     INTO TRANSLATED;
    CLOSE C1;
    RETURN TRANSLATED;
  END TRANSLLATE;

  FUNCTION BEFOREREPORT RETURN BOOLEAN IS
  BEGIN
    P_CONC_REQUEST_ID := FND_GLOBAL.CONC_REQUEST_ID;
    /*SRW.USER_EXIT('FND SRWINIT')*/NULL;
    RETURN (TRUE);
  END BEFOREREPORT;

  FUNCTION AFTERREPORT RETURN BOOLEAN IS
  BEGIN
    /*SRW.USER_EXIT('FND SRWEXIT')*/NULL;
    RETURN (TRUE);
  END AFTERREPORT;

END QA_QLTPLACR_XMLP_PKG;




/
