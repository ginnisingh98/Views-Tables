--------------------------------------------------------
--  DDL for Package Body AR_ARXNRREV_XMLP_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "APPS"."AR_ARXNRREV_XMLP_PKG" AS
/* $Header: ARXNRREVB.pls 120.0 2007/12/27 13:57:22 abraghun noship $ */
  FUNCTION REPORT_NAMEFORMULA(COMPANY_NAME IN VARCHAR2) RETURN VARCHAR2 IS
  BEGIN
    DECLARE
      L_REPORT_NAME VARCHAR2(80);
    BEGIN
      RP_COMPANY_NAME := COMPANY_NAME;
      SELECT
        CP.USER_CONCURRENT_PROGRAM_NAME
      INTO L_REPORT_NAME
      FROM
        FND_CONCURRENT_PROGRAMS_VL CP,
        FND_CONCURRENT_REQUESTS CR
      WHERE CR.REQUEST_ID = P_CONC_REQUEST_ID
        AND CP.APPLICATION_ID = CR.PROGRAM_APPLICATION_ID
        AND CP.CONCURRENT_PROGRAM_ID = CR.CONCURRENT_PROGRAM_ID;
	 L_REPORT_NAME := substr(L_REPORT_NAME,1,instr(L_REPORT_NAME,' (XML)'));
      RP_REPORT_NAME := L_REPORT_NAME;
      RETURN (L_REPORT_NAME);
    EXCEPTION
      WHEN NO_DATA_FOUND THEN
        RP_REPORT_NAME := 'Title of the Report';
        RETURN ('Title of the Report');
    END;
    RETURN NULL;
  END REPORT_NAMEFORMULA;
  FUNCTION BEFOREREPORT RETURN BOOLEAN IS
  BEGIN
    BEGIN
      P_CONC_REQUEST_ID := FND_GLOBAL.CONC_REQUEST_ID;
      /*SRW.USER_EXIT('FND SRWINIT')*/NULL;
      BEGIN
        /*SRW.REFERENCE(RP_SORT_BY_PHONETICS)*/NULL;
        RP_SORT_BY_PHONETICS := FND_PROFILE.VALUE('RA_CUSTOMERS_SORT_BY_PHONETICS');
      EXCEPTION
        WHEN OTHERS THEN
          RP_SORT_BY_PHONETICS := 'N';
      END;
      SELECT
        MEANING
      INTO CP_ORDER_BY
      FROM
        AR_LOOKUPS
      WHERE LOOKUP_TYPE = 'ARXNRREV_ORDER_BY'
        AND LOOKUP_CODE = P_ORDER_BY;
    END;
    RETURN (TRUE);
  END BEFOREREPORT;
  FUNCTION SUB_TITLEFORMULA RETURN VARCHAR2 IS
  BEGIN
    BEGIN
      RP_SUB_TITLE := ' ';
      RETURN (' ');
    END;
    RETURN NULL;
  END SUB_TITLEFORMULA;
  FUNCTION AFTERREPORT RETURN BOOLEAN IS
  BEGIN
    /*SRW.USER_EXIT('FND SRWEXIT')*/NULL;
    RETURN (TRUE);
  END AFTERREPORT;
  FUNCTION RP_COMPANY_NAME_P RETURN VARCHAR2 IS
  BEGIN
    RETURN RP_COMPANY_NAME;
  END RP_COMPANY_NAME_P;
  FUNCTION RP_REPORT_NAME_P RETURN VARCHAR2 IS
  BEGIN
    RETURN RP_REPORT_NAME;
  END RP_REPORT_NAME_P;
  FUNCTION RP_DATA_FOUND_P RETURN VARCHAR2 IS
  BEGIN
    RETURN RP_DATA_FOUND;
  END RP_DATA_FOUND_P;
  FUNCTION RP_SUB_TITLE_P RETURN VARCHAR2 IS
  BEGIN
    RETURN RP_SUB_TITLE;
  END RP_SUB_TITLE_P;
  FUNCTION CP_ORDER_BY_P RETURN VARCHAR2 IS
  BEGIN
    RETURN CP_ORDER_BY;
  END CP_ORDER_BY_P;
  FUNCTION RP_SORT_BY_PHONETICS_P RETURN VARCHAR2 IS
  BEGIN
    RETURN RP_SORT_BY_PHONETICS;
  END RP_SORT_BY_PHONETICS_P;
END AR_ARXNRREV_XMLP_PKG;


/
