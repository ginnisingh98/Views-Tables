--------------------------------------------------------
--  DDL for Package Body CN_SYSTEM_PARAMETERS
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "APPS"."CN_SYSTEM_PARAMETERS" AS
/* $Header: cnsysprb.pls 120.0 2005/09/13 06:27 rramakri noship $ */


FUNCTION VALUE(P_PROFILE_CODE IN VARCHAR2,P_ORG_ID IN NUMBER) RETURN VARCHAR2 IS
L_SQL_STRING VARCHAR2(100);
P_CRS PROFILE_CURSOR;
L_PROFILE_VALUE VARCHAR2(100);
BEGIN
L_SQL_STRING:='SELECT '||P_PROFILE_CODE||' FROM CN_REPOSITORIES WHERE ORG_ID=:1';
OPEN P_CRS FOR L_SQL_STRING USING P_ORG_ID;
LOOP
FETCH P_CRS INTO L_PROFILE_VALUE;
EXIT WHEN P_CRS%NOTFOUND;
END LOOP;
RETURN L_PROFILE_VALUE;
EXCEPTION
WHEN OTHERS THEN
FND_MESSAGE.SET_NAME('CN','CN_INVALID_PROFILE_CODE');
APP_EXCEPTION.RAISE_EXCEPTION;


END VALUE;

PROCEDURE GET_SYSTEM_PARAMETER(P_PROFILE_CODE IN VARCHAR2,P_ORG_ID IN NUMBER,X_VALUE OUT NOCOPY VARCHAR2)
IS
BEGIN
X_VALUE:=VALUE(P_PROFILE_CODE,P_ORG_ID);
END GET_SYSTEM_PARAMETER;

END CN_SYSTEM_PARAMETERS;

/
