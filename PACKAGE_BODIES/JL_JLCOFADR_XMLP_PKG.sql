--------------------------------------------------------
--  DDL for Package Body JL_JLCOFADR_XMLP_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "APPS"."JL_JLCOFADR_XMLP_PKG" AS
/* $Header: JLCOFADRB.pls 120.1 2007/12/25 16:44:31 dwkrishn noship $ */
  FUNCTION BOOKFORMULA RETURN VARCHAR2 IS
  BEGIN
    DECLARE
      L_BOOK VARCHAR2(15);
      L_BOOK_CLASS VARCHAR2(15);
      L_ACCOUNTING_FLEX_STRUCTURE NUMBER(15);
      L_CURRENCY_CODE VARCHAR2(15);
      L_DISTRIBUTION_SOURCE_BOOK VARCHAR2(15);
      L_PRECISION NUMBER(15);
    BEGIN
      SELECT
        BC.BOOK_TYPE_CODE,
        BC.BOOK_CLASS,
        BC.ACCOUNTING_FLEX_STRUCTURE,
        BC.DISTRIBUTION_SOURCE_BOOK,
        SOB.CURRENCY_CODE,
        CUR.PRECISION
      INTO L_BOOK,L_BOOK_CLASS,L_ACCOUNTING_FLEX_STRUCTURE,L_DISTRIBUTION_SOURCE_BOOK,L_CURRENCY_CODE,L_PRECISION
      FROM
        FA_BOOK_CONTROLS BC,
        GL_SETS_OF_BOOKS SOB,
        FND_CURRENCIES CUR
      WHERE BC.BOOK_TYPE_CODE = P_BOOK
        AND SOB.SET_OF_BOOKS_ID = BC.SET_OF_BOOKS_ID
        AND SOB.CURRENCY_CODE = CUR.CURRENCY_CODE;
      BOOK_CLASS := L_BOOK_CLASS;
      ACCOUNTING_FLEX_STRUCTURE := L_ACCOUNTING_FLEX_STRUCTURE;
      DISTRIBUTION_SOURCE_BOOK := L_DISTRIBUTION_SOURCE_BOOK;
      CURRENCY_CODE := L_CURRENCY_CODE;
      P_MIN_PRECISION := L_PRECISION;
      RETURN (L_BOOK);
    END;
    RETURN NULL;
  END BOOKFORMULA;
  FUNCTION PERIOD1FORMULA(COMPANY_NAME IN VARCHAR2) RETURN VARCHAR2 IS
  BEGIN
    DECLARE
      L_PERIOD_NAME VARCHAR2(15);
      L_PERIOD_POD DATE;
      L_PERIOD_PCD DATE;
      L_PERIOD_PC NUMBER(15);
      L_PERIOD_FY NUMBER(15);
    BEGIN
      RP_COMPANY_NAME := COMPANY_NAME;
      SELECT
        PERIOD_NAME,
        PERIOD_COUNTER,
        PERIOD_OPEN_DATE,
        NVL(PERIOD_CLOSE_DATE
           ,SYSDATE),
        FISCAL_YEAR
      INTO L_PERIOD_NAME,L_PERIOD_PC,L_PERIOD_POD,L_PERIOD_PCD,L_PERIOD_FY
      FROM
        FA_DEPRN_PERIODS
      WHERE BOOK_TYPE_CODE = P_BOOK
        AND PERIOD_NAME = P_PERIOD1;
      PERIOD1_PC := L_PERIOD_PC;
      PERIOD1_POD := L_PERIOD_POD;
      PERIOD1_PCD := L_PERIOD_PCD;
      PERIOD1_FY := L_PERIOD_FY;
      RETURN (L_PERIOD_NAME);
    END;
    RETURN NULL;
  END PERIOD1FORMULA;
  FUNCTION BEFOREREPORT RETURN BOOLEAN IS
    L_BATCH_ID_TEXT VARCHAR2(2000);
    L_LINE_NUM_TEXT VARCHAR2(2000);
    L_P_ACCT_CCID_TEXT VARCHAR2(2000);
    L_TEXT VARCHAR2(2000);
  BEGIN
    IF P_BATCH_ID IS NULL THEN
      L_BATCH_ID_TEXT := ' ';
    ELSE
      L_BATCH_ID_TEXT := ' and jh.je_batch_id = :P_BATCH_ID ';
    END IF;
    IF P_LINE_NUM IS NULL THEN
      L_LINE_NUM_TEXT := ' ';
    ELSE
      L_LINE_NUM_TEXT := ' and jl_1.je_line_num = :P_LINE_NUM ';
    END IF;
    IF P_ACCT_CCID IS NULL THEN
      L_P_ACCT_CCID_TEXT := ' ';
    ELSE
      L_P_ACCT_CCID_TEXT := ' and aj.code_combination_id = :P_ACCT_CCID ';
    END IF;
    L_TEXT := L_BATCH_ID_TEXT || L_LINE_NUM_TEXT || L_P_ACCT_CCID_TEXT;
    CP_OPTIONAL_PARAMETERS := L_TEXT;
    P_CONC_REQUEST_ID := FND_GLOBAL.CONC_REQUEST_ID;
    /*SRW.USER_EXIT('FND SRWINIT')*/NULL;
    RETURN (TRUE);
  END BEFOREREPORT;
  FUNCTION AFTERREPORT RETURN BOOLEAN IS
  BEGIN
    /*SRW.USER_EXIT('FND SRWEXIT')*/NULL;
    RETURN (TRUE);
  END AFTERREPORT;
  FUNCTION F_COMP_NAMEFORMULA(COMPANY_NAME IN VARCHAR2) RETURN VARCHAR2 IS
  BEGIN
    RP_COMPANY_NAME := COMPANY_NAME;
    RETURN NULL;
  END F_COMP_NAMEFORMULA;
  FUNCTION ACCOUNTING_FLEX_STRUCTURE_P RETURN NUMBER IS
  BEGIN
    RETURN ACCOUNTING_FLEX_STRUCTURE;
  END ACCOUNTING_FLEX_STRUCTURE_P;
  FUNCTION ACCT_BAL_APROMPT_P RETURN VARCHAR2 IS
  BEGIN
    RETURN ACCT_BAL_APROMPT;
  END ACCT_BAL_APROMPT_P;
  FUNCTION ACCT_CC_APROMPT_P RETURN VARCHAR2 IS
  BEGIN
    RETURN ACCT_CC_APROMPT;
  END ACCT_CC_APROMPT_P;
  FUNCTION CAT_MAJ_APROMPT_P RETURN VARCHAR2 IS
  BEGIN
    RETURN CAT_MAJ_APROMPT;
  END CAT_MAJ_APROMPT_P;
  FUNCTION CURRENCY_CODE_P RETURN VARCHAR2 IS
  BEGIN
    RETURN CURRENCY_CODE;
  END CURRENCY_CODE_P;
  FUNCTION BOOK_CLASS_P RETURN VARCHAR2 IS
  BEGIN
    RETURN BOOK_CLASS;
  END BOOK_CLASS_P;
  FUNCTION DISTRIBUTION_SOURCE_BOOK_P RETURN VARCHAR2 IS
  BEGIN
    RETURN DISTRIBUTION_SOURCE_BOOK;
  END DISTRIBUTION_SOURCE_BOOK_P;
  FUNCTION PERIOD1_PC_P RETURN NUMBER IS
  BEGIN
    RETURN PERIOD1_PC;
  END PERIOD1_PC_P;
  FUNCTION PERIOD1_PCD_P RETURN DATE IS
  BEGIN
    RETURN PERIOD1_PCD;
  END PERIOD1_PCD_P;
  FUNCTION PERIOD1_POD_P RETURN DATE IS
  BEGIN
    RETURN PERIOD1_POD;
  END PERIOD1_POD_P;
  FUNCTION PERIOD1_FY_P RETURN NUMBER IS
  BEGIN
    RETURN PERIOD1_FY;
  END PERIOD1_FY_P;
  FUNCTION RP_COMPANY_NAME_P RETURN VARCHAR2 IS
  BEGIN
    RETURN RP_COMPANY_NAME;
  END RP_COMPANY_NAME_P;
  FUNCTION CP_OPTIONAL_PARAMETERS_P RETURN VARCHAR2 IS
  BEGIN
    RETURN CP_OPTIONAL_PARAMETERS;
  END CP_OPTIONAL_PARAMETERS_P;
END JL_JLCOFADR_XMLP_PKG;




/
