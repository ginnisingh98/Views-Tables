--------------------------------------------------------
--  DDL for Package Body PA_PAXACMPT_XMLP_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "APPS"."PA_PAXACMPT_XMLP_PKG" AS
/* $Header: PAXACMPTB.pls 120.0 2008/01/02 11:10:14 krreddy noship $ */
  FUNCTION GET_COVER_PAGE_VALUES RETURN BOOLEAN IS
  BEGIN
    RETURN (TRUE);
  EXCEPTION
    WHEN OTHERS THEN
      RETURN (FALSE);
  END GET_COVER_PAGE_VALUES;

  FUNCTION BEFOREREPORT RETURN BOOLEAN IS
  BEGIN
    DECLARE
      INIT_FAILURE EXCEPTION;
      NDF VARCHAR2(80);
      ERRBUF VARCHAR2(525);
      NUMBER_OF_MESSAGES NUMBER;
      MESSAGE_BUF VARCHAR2(256);
    BEGIN
      P_CONC_REQUEST_ID := FND_GLOBAL.CONC_REQUEST_ID;
      /*SRW.USER_EXIT('FND SRWINIT')*/NULL;
      /*SRW.USER_EXIT('FND GETPROFILE
                    NAME="PA_RULE_BASED_OPTIMIZER"
                    FIELD=":p_rule_optimizer"
                    PRINT_ERROR="N"')*/NULL;
      IF (GET_COMPANY_NAME <> TRUE) THEN
        /*SRW.MESSAGE(1
                   ,'Error : GL set of Book Not Set Up')*/NULL;
        RAISE INIT_FAILURE;
      END IF;
      IF (GET_PARAMETER_VALUES <> TRUE) THEN
        /*SRW.MESSAGE(1
                   ,'Error: Incorrect Parameters')*/NULL;
        RAISE INIT_FAILURE;
      END IF;
      SELECT
        MEANING
      INTO NDF
      FROM
        PA_LOOKUPS
      WHERE LOOKUP_CODE = 'NO_DATA_FOUND'
        AND LOOKUP_TYPE = 'MESSAGE';
      C_NO_DATA_FOUND := NDF;
      /*SRW.MESSAGE(1
                 ,'Calling Maintain Project Accumulation at ' || TO_CHAR(SYSDATE
                        ,'DD-MON-YYYY HH24:MI:SS'))*/NULL;
      /*SRW.MESSAGE(1
                 ,'Concurrent request id is ' || TO_CHAR(P_CONC_REQUEST_ID))*/NULL;
      BEGIN
        PA_PROJ_ACCUM_MAIN.PROJ_ACCUM(ERRBUF
                                     ,C_RETCODE
                                     ,P_PROJECT_NUM_FROM
                                     ,P_PROJECT_NUM_TO
                                     ,P_THROUGH_DATE
                                     ,P_MODE
                                     ,P_ACTUAL_COST_FLAG
                                     ,P_SYSTEM_LINKAGE_FUNCTION
                                     ,P_REVENUE_FLAG
                                     ,P_BUDGETS_FLAG
                                     ,P_BUDGET_TYPE_CODE
                                     ,P_COMMITMENT_FLAG
                                     ,P_GROUP_ID
                                     ,P_SUMM_CONTEXT
                                     ,P_DELETE_TMP_TABLE
                                     ,P_PROJECT_TYPE);
        IF (C_RETCODE <> 0) THEN
          /*SRW.MESSAGE(1
                     ,ERRBUF)*/NULL;
          NUMBER_OF_MESSAGES := PA_DEBUG.NO_OF_DEBUG_MESSAGES;
          IF (NUMBER_OF_MESSAGES > 0) THEN
            /*SRW.MESSAGE(1
                       ,'Debug Messages:')*/NULL;
            FOR i IN 1 .. NUMBER_OF_MESSAGES LOOP
              PA_DEBUG.GET_MESSAGE(I
                                  ,MESSAGE_BUF);
              /*SRW.MESSAGE(1
                         ,MESSAGE_BUF)*/NULL;
            END LOOP;
          END IF;
          /*RAISE SRW.PROGRAM_ABORT*/RAISE_APPLICATION_ERROR(-20101,null);
        END IF;
      EXCEPTION
        WHEN STORAGE_ERROR THEN
          C_RETCODE := -9999;
          /*SRW.MESSAGE(1
                     ,'Exception: Storage Error')*/NULL;
        WHEN TIMEOUT_ON_RESOURCE THEN
          C_RETCODE := -9999;
          /*SRW.MESSAGE(1
                     ,'Exception: Time Out Occured, waiting for a resource')*/NULL;
        WHEN OTHERS THEN
          C_RETCODE := -9999;
          /*SRW.MESSAGE(1
                     ,'Exception was generated by Accumulation API')*/NULL;
          /*RAISE SRW.PROGRAM_ABORT*/RAISE_APPLICATION_ERROR(-20101,null);
      END;
    EXCEPTION
      WHEN NO_DATA_FOUND THEN
        SELECT
          MEANING
        INTO NDF
        FROM
          PA_LOOKUPS
        WHERE LOOKUP_CODE = 'NO_DATA_FOUND'
          AND LOOKUP_TYPE = 'MESSAGE';
        C_NO_DATA_FOUND := NDF;
        C_DUMMY_DATA := 1;
      WHEN OTHERS THEN
        /*RAISE SRW.PROGRAM_ABORT*/RAISE_APPLICATION_ERROR(-20101,null);
    END;
    RETURN (TRUE);
  END BEFOREREPORT;

  FUNCTION GET_COMPANY_NAME RETURN BOOLEAN IS
    L_NAME GL_SETS_OF_BOOKS.NAME%TYPE;
  BEGIN
    SELECT
      GL.NAME
    INTO L_NAME
    FROM
      GL_SETS_OF_BOOKS GL,
      PA_IMPLEMENTATIONS PI
    WHERE GL.SET_OF_BOOKS_ID = PI.SET_OF_BOOKS_ID;
    C_COMPANY_NAME_HEADER := L_NAME;
    RETURN (TRUE);
  EXCEPTION
    WHEN OTHERS THEN
      RETURN (FALSE);
  END GET_COMPANY_NAME;

  FUNCTION AFTERREPORT RETURN BOOLEAN IS
  BEGIN
    DECLARE
      MESSAGE_BUF VARCHAR2(256);
      ACCUM_ERROR EXCEPTION;
      NUMBER_OF_MESSAGES NUMBER;
      X_PROJECT_ID NUMBER;
      X_ACCUM_PERIOD_B VARCHAR2(20);
      X_RAW_COST_ITD_B NUMBER;
      X_RAW_COST_YTD_B NUMBER;
      X_RAW_COST_PP_B NUMBER;
      X_RAW_COST_PTD_B NUMBER;
      X_BILLABLE_RAW_COST_ITD_B NUMBER;
      X_BILLABLE_RAW_COST_YTD_B NUMBER;
      X_BILLABLE_RAW_COST_PP_B NUMBER;
      X_BILLABLE_RAW_COST_PTD_B NUMBER;
      X_BURDENED_COST_ITD_B NUMBER;
      X_BURDENED_COST_YTD_B NUMBER;
      X_BURDENED_COST_PP_B NUMBER;
      X_BURDENED_COST_PTD_B NUMBER;
      X_BILLABLE_BURDENED_COST_ITD_B NUMBER;
      X_BILLABLE_BURDENED_COST_YTD_B NUMBER;
      X_BILLABLE_BURDENED_COST_PP_B NUMBER;
      X_BILLABLE_BURDENED_COST_PTD_B NUMBER;
      X_QUANTITY_ITD_B NUMBER;
      X_QUANTITY_YTD_B NUMBER;
      X_QUANTITY_PP_B NUMBER;
      X_QUANTITY_PTD_B NUMBER;
      X_LABOR_HOURS_ITD_B NUMBER;
      X_LABOR_HOURS_YTD_B NUMBER;
      X_LABOR_HOURS_PP_B NUMBER;
      X_LABOR_HOURS_PTD_B NUMBER;
      X_BILLABLE_QUANTITY_ITD_B NUMBER;
      X_BILLABLE_QUANTITY_YTD_B NUMBER;
      X_BILLABLE_QUANTITY_PP_B NUMBER;
      X_BILLABLE_QUANTITY_PTD_B NUMBER;
      X_BILLABLE_LABOR_HOURS_ITD_B NUMBER;
      X_BILLABLE_LABOR_HOURS_YTD_B NUMBER;
      X_BILLABLE_LABOR_HOURS_PP_B NUMBER;
      X_BILLABLE_LABOR_HOURS_PTD_B NUMBER;
      X_REVENUE_ITD_B NUMBER;
      X_REVENUE_YTD_B NUMBER;
      X_REVENUE_PP_B NUMBER;
      X_REVENUE_PTD_B NUMBER;
      X_CMT_RAW_COST_ITD_B NUMBER;
      X_CMT_RAW_COST_YTD_B NUMBER;
      X_CMT_RAW_COST_PP_B NUMBER;
      X_CMT_RAW_COST_PTD_B NUMBER;
      X_CMT_BURDENED_COST_ITD_B NUMBER;
      X_CMT_BURDENED_COST_YTD_B NUMBER;
      X_CMT_BURDENED_COST_PP_B NUMBER;
      X_CMT_BURDENED_COST_PTD_B NUMBER;
      X_CMT_QUANTITY_ITD_B NUMBER;
      X_CMT_QUANTITY_YTD_B NUMBER;
      X_CMT_QUANTITY_PP_B NUMBER;
      X_CMT_QUANTITY_PTD_B NUMBER;
      X_ACCUM_PERIOD_A VARCHAR2(20);
      X_RAW_COST_ITD_A NUMBER;
      X_RAW_COST_YTD_A NUMBER;
      X_RAW_COST_PP_A NUMBER;
      X_RAW_COST_PTD_A NUMBER;
      X_BILLABLE_RAW_COST_ITD_A NUMBER;
      X_BILLABLE_RAW_COST_YTD_A NUMBER;
      X_BILLABLE_RAW_COST_PP_A NUMBER;
      X_BILLABLE_RAW_COST_PTD_A NUMBER;
      X_BURDENED_COST_ITD_A NUMBER;
      X_BURDENED_COST_YTD_A NUMBER;
      X_BURDENED_COST_PP_A NUMBER;
      X_BURDENED_COST_PTD_A NUMBER;
      X_BILLABLE_BURDENED_COST_ITD_A NUMBER;
      X_BILLABLE_BURDENED_COST_YTD_A NUMBER;
      X_BILLABLE_BURDENED_COST_PP_A NUMBER;
      X_BILLABLE_BURDENED_COST_PTD_A NUMBER;
      X_QUANTITY_ITD_A NUMBER;
      X_QUANTITY_YTD_A NUMBER;
      X_QUANTITY_PP_A NUMBER;
      X_QUANTITY_PTD_A NUMBER;
      X_LABOR_HOURS_ITD_A NUMBER;
      X_LABOR_HOURS_YTD_A NUMBER;
      X_LABOR_HOURS_PP_A NUMBER;
      X_LABOR_HOURS_PTD_A NUMBER;
      X_BILLABLE_QUANTITY_ITD_A NUMBER;
      X_BILLABLE_QUANTITY_YTD_A NUMBER;
      X_BILLABLE_QUANTITY_PP_A NUMBER;
      X_BILLABLE_QUANTITY_PTD_A NUMBER;
      X_BILLABLE_LABOR_HOURS_ITD_A NUMBER;
      X_BILLABLE_LABOR_HOURS_YTD_A NUMBER;
      X_BILLABLE_LABOR_HOURS_PP_A NUMBER;
      X_BILLABLE_LABOR_HOURS_PTD_A NUMBER;
      X_REVENUE_ITD_A NUMBER;
      X_REVENUE_YTD_A NUMBER;
      X_REVENUE_PP_A NUMBER;
      X_REVENUE_PTD_A NUMBER;
      X_CMT_RAW_COST_ITD_A NUMBER;
      X_CMT_RAW_COST_YTD_A NUMBER;
      X_CMT_RAW_COST_PP_A NUMBER;
      X_CMT_RAW_COST_PTD_A NUMBER;
      X_CMT_BURDENED_COST_ITD_A NUMBER;
      X_CMT_BURDENED_COST_YTD_A NUMBER;
      X_CMT_BURDENED_COST_PP_A NUMBER;
      X_CMT_BURDENED_COST_PTD_A NUMBER;
      X_CMT_QUANTITY_ITD_A NUMBER;
      X_CMT_QUANTITY_YTD_A NUMBER;
      X_CMT_QUANTITY_PP_A NUMBER;
      X_CMT_QUANTITY_PTD_A NUMBER;
      X_BUDGET_TYPE_CODE VARCHAR2(30);
      X_BASE_RAW_COST_ITD_B NUMBER;
      X_BASE_RAW_COST_YTD_B NUMBER;
      X_BASE_RAW_COST_PP_B NUMBER;
      X_BASE_RAW_COST_PTD_B NUMBER;
      X_BASE_BURDENED_COST_ITD_B NUMBER;
      X_BASE_BURDENED_COST_YTD_B NUMBER;
      X_BASE_BURDENED_COST_PP_B NUMBER;
      X_BASE_BURDENED_COST_PTD_B NUMBER;
      X_ORIG_RAW_COST_ITD_B NUMBER;
      X_ORIG_RAW_COST_YTD_B NUMBER;
      X_ORIG_RAW_COST_PP_B NUMBER;
      X_ORIG_RAW_COST_PTD_B NUMBER;
      X_ORIG_BURDENED_COST_ITD_B NUMBER;
      X_ORIG_BURDENED_COST_YTD_B NUMBER;
      X_ORIG_BURDENED_COST_PP_B NUMBER;
      X_ORIG_BURDENED_COST_PTD_B NUMBER;
      X_BASE_REVENUE_ITD_B NUMBER;
      X_BASE_REVENUE_YTD_B NUMBER;
      X_BASE_REVENUE_PP_B NUMBER;
      X_BASE_REVENUE_PTD_B NUMBER;
      X_ORIG_REVENUE_ITD_B NUMBER;
      X_ORIG_REVENUE_YTD_B NUMBER;
      X_ORIG_REVENUE_PP_B NUMBER;
      X_ORIG_REVENUE_PTD_B NUMBER;
      X_ORIG_LABOR_HOURS_ITD_B NUMBER;
      X_ORIG_LABOR_HOURS_YTD_B NUMBER;
      X_ORIG_LABOR_HOURS_PP_B NUMBER;
      X_ORIG_LABOR_HOURS_PTD_B NUMBER;
      X_BASE_LABOR_HOURS_ITD_B NUMBER;
      X_BASE_LABOR_HOURS_YTD_B NUMBER;
      X_BASE_LABOR_HOURS_PP_B NUMBER;
      X_BASE_LABOR_HOURS_PTD_B NUMBER;
      X_ORIG_QUANTITY_YTD_B NUMBER;
      X_ORIG_QUANTITY_ITD_B NUMBER;
      X_ORIG_QUANTITY_PP_B NUMBER;
      X_ORIG_QUANTITY_PTD_B NUMBER;
      X_BASE_QUANTITY_YTD_B NUMBER;
      X_BASE_QUANTITY_ITD_B NUMBER;
      X_BASE_QUANTITY_PP_B NUMBER;
      X_BASE_QUANTITY_PTD_B NUMBER;
      X_ORIG_LABOR_HOURS_TOT_B NUMBER;
      X_BASE_LABOR_HOURS_TOT_B NUMBER;
      X_ORIG_QUANTITY_TOT_B NUMBER;
      X_BASE_QUANTITY_TOT_B NUMBER;
      X_BASE_RAW_COST_TOT_B NUMBER;
      X_BASE_BURDENED_COST_TOT_B NUMBER;
      X_ORIG_RAW_COST_TOT_B NUMBER;
      X_ORIG_BURDENED_COST_TOT_B NUMBER;
      X_BASE_REVENUE_TOT_B NUMBER;
      X_ORIG_REVENUE_TOT_B NUMBER;
      X_BASE_RAW_COST_ITD_A NUMBER;
      X_BASE_RAW_COST_YTD_A NUMBER;
      X_BASE_RAW_COST_PP_A NUMBER;
      X_BASE_RAW_COST_PTD_A NUMBER;
      X_BASE_BURDENED_COST_ITD_A NUMBER;
      X_BASE_BURDENED_COST_YTD_A NUMBER;
      X_BASE_BURDENED_COST_PP_A NUMBER;
      X_BASE_BURDENED_COST_PTD_A NUMBER;
      X_ORIG_RAW_COST_ITD_A NUMBER;
      X_ORIG_RAW_COST_YTD_A NUMBER;
      X_ORIG_RAW_COST_PP_A NUMBER;
      X_ORIG_RAW_COST_PTD_A NUMBER;
      X_ORIG_BURDENED_COST_ITD_A NUMBER;
      X_ORIG_BURDENED_COST_YTD_A NUMBER;
      X_ORIG_BURDENED_COST_PP_A NUMBER;
      X_ORIG_BURDENED_COST_PTD_A NUMBER;
      X_BASE_REVENUE_ITD_A NUMBER;
      X_BASE_REVENUE_YTD_A NUMBER;
      X_BASE_REVENUE_PP_A NUMBER;
      X_BASE_REVENUE_PTD_A NUMBER;
      X_ORIG_REVENUE_ITD_A NUMBER;
      X_ORIG_REVENUE_YTD_A NUMBER;
      X_ORIG_REVENUE_PP_A NUMBER;
      X_ORIG_REVENUE_PTD_A NUMBER;
      X_ORIG_LABOR_HOURS_ITD_A NUMBER;
      X_ORIG_LABOR_HOURS_YTD_A NUMBER;
      X_ORIG_LABOR_HOURS_PP_A NUMBER;
      X_ORIG_LABOR_HOURS_PTD_A NUMBER;
      X_BASE_LABOR_HOURS_ITD_A NUMBER;
      X_BASE_LABOR_HOURS_YTD_A NUMBER;
      X_BASE_LABOR_HOURS_PP_A NUMBER;
      X_BASE_LABOR_HOURS_PTD_A NUMBER;
      X_ORIG_QUANTITY_YTD_A NUMBER;
      X_ORIG_QUANTITY_ITD_A NUMBER;
      X_ORIG_QUANTITY_PP_A NUMBER;
      X_ORIG_QUANTITY_PTD_A NUMBER;
      X_BASE_QUANTITY_YTD_A NUMBER;
      X_BASE_QUANTITY_ITD_A NUMBER;
      X_BASE_QUANTITY_PP_A NUMBER;
      X_BASE_QUANTITY_PTD_A NUMBER;
      X_ORIG_LABOR_HOURS_TOT_A NUMBER;
      X_BASE_LABOR_HOURS_TOT_A NUMBER;
      X_ORIG_QUANTITY_TOT_A NUMBER;
      X_BASE_QUANTITY_TOT_A NUMBER;
      X_BASE_RAW_COST_TOT_A NUMBER;
      X_BASE_BURDENED_COST_TOT_A NUMBER;
      X_ORIG_RAW_COST_TOT_A NUMBER;
      X_ORIG_BURDENED_COST_TOT_A NUMBER;
      X_BASE_REVENUE_TOT_A NUMBER;
      X_ORIG_REVENUE_TOT_A NUMBER;
    BEGIN
      /*SRW.MESSAGE(1
                 ,'   ')*/NULL;
      /*SRW.MESSAGE(1
                 ,'After Report Start Time : ' || TO_CHAR(SYSDATE
                        ,'DD-MON-YYYY HH24:MI:SS'))*/NULL;
      NUMBER_OF_MESSAGES := PA_ACCUM_SRW.GET_NUMBER_OF_PROJECTS;
      /*SRW.MESSAGE(1
                 ,'No. of Projects Accumulated = ' || TO_CHAR(NUMBER_OF_MESSAGES))*/NULL;
      IF P_GEN_REP = 'Y' THEN
        BEGIN
          FOR i IN 1 .. NUMBER_OF_MESSAGES LOOP
            PA_ACCUM_SRW.REPORT_PROJECT_SUMMARY_NUMBERS(I
                                                       ,X_PROJECT_ID
                                                       ,X_ACCUM_PERIOD_B
                                                       ,X_RAW_COST_ITD_B
                                                       ,X_RAW_COST_YTD_B
                                                       ,X_RAW_COST_PP_B
                                                       ,X_RAW_COST_PTD_B
                                                       ,X_BILLABLE_RAW_COST_ITD_B
                                                       ,X_BILLABLE_RAW_COST_YTD_B
                                                       ,X_BILLABLE_RAW_COST_PP_B
                                                       ,X_BILLABLE_RAW_COST_PTD_B
                                                       ,X_BURDENED_COST_ITD_B
                                                       ,X_BURDENED_COST_YTD_B
                                                       ,X_BURDENED_COST_PP_B
                                                       ,X_BURDENED_COST_PTD_B
                                                       ,X_BILLABLE_BURDENED_COST_ITD_B
                                                       ,X_BILLABLE_BURDENED_COST_YTD_B
                                                       ,X_BILLABLE_BURDENED_COST_PP_B
                                                       ,X_BILLABLE_BURDENED_COST_PTD_B
                                                       ,X_QUANTITY_ITD_B
                                                       ,X_QUANTITY_YTD_B
                                                       ,X_QUANTITY_PP_B
                                                       ,X_QUANTITY_PTD_B
                                                       ,X_LABOR_HOURS_ITD_B
                                                       ,X_LABOR_HOURS_YTD_B
                                                       ,X_LABOR_HOURS_PP_B
                                                       ,X_LABOR_HOURS_PTD_B
                                                       ,X_BILLABLE_QUANTITY_ITD_B
                                                       ,X_BILLABLE_QUANTITY_YTD_B
                                                       ,X_BILLABLE_QUANTITY_PP_B
                                                       ,X_BILLABLE_QUANTITY_PTD_B
                                                       ,X_BILLABLE_LABOR_HOURS_ITD_B
                                                       ,X_BILLABLE_LABOR_HOURS_YTD_B
                                                       ,X_BILLABLE_LABOR_HOURS_PP_B
                                                       ,X_BILLABLE_LABOR_HOURS_PTD_B
                                                       ,X_REVENUE_ITD_B
                                                       ,X_REVENUE_YTD_B
                                                       ,X_REVENUE_PP_B
                                                       ,X_REVENUE_PTD_B
                                                       ,X_CMT_RAW_COST_ITD_B
                                                       ,X_CMT_RAW_COST_YTD_B
                                                       ,X_CMT_RAW_COST_PP_B
                                                       ,X_CMT_RAW_COST_PTD_B
                                                       ,X_CMT_BURDENED_COST_ITD_B
                                                       ,X_CMT_BURDENED_COST_YTD_B
                                                       ,X_CMT_BURDENED_COST_PP_B
                                                       ,X_CMT_BURDENED_COST_PTD_B
                                                       ,X_CMT_QUANTITY_ITD_B
                                                       ,X_CMT_QUANTITY_YTD_B
                                                       ,X_CMT_QUANTITY_PP_B
                                                       ,X_CMT_QUANTITY_PTD_B
                                                       ,X_ACCUM_PERIOD_A
                                                       ,X_RAW_COST_ITD_A
                                                       ,X_RAW_COST_YTD_A
                                                       ,X_RAW_COST_PP_A
                                                       ,X_RAW_COST_PTD_A
                                                       ,X_BILLABLE_RAW_COST_ITD_A
                                                       ,X_BILLABLE_RAW_COST_YTD_A
                                                       ,X_BILLABLE_RAW_COST_PP_A
                                                       ,X_BILLABLE_RAW_COST_PTD_A
                                                       ,X_BURDENED_COST_ITD_A
                                                       ,X_BURDENED_COST_YTD_A
                                                       ,X_BURDENED_COST_PP_A
                                                       ,X_BURDENED_COST_PTD_A
                                                       ,X_BILLABLE_BURDENED_COST_ITD_A
                                                       ,X_BILLABLE_BURDENED_COST_YTD_A
                                                       ,X_BILLABLE_BURDENED_COST_PP_A
                                                       ,X_BILLABLE_BURDENED_COST_PTD_A
                                                       ,X_QUANTITY_ITD_A
                                                       ,X_QUANTITY_YTD_A
                                                       ,X_QUANTITY_PP_A
                                                       ,X_QUANTITY_PTD_A
                                                       ,X_LABOR_HOURS_ITD_A
                                                       ,X_LABOR_HOURS_YTD_A
                                                       ,X_LABOR_HOURS_PP_A
                                                       ,X_LABOR_HOURS_PTD_A
                                                       ,X_BILLABLE_QUANTITY_ITD_A
                                                       ,X_BILLABLE_QUANTITY_YTD_A
                                                       ,X_BILLABLE_QUANTITY_PP_A
                                                       ,X_BILLABLE_QUANTITY_PTD_A
                                                       ,X_BILLABLE_LABOR_HOURS_ITD_A
                                                       ,X_BILLABLE_LABOR_HOURS_YTD_A
                                                       ,X_BILLABLE_LABOR_HOURS_PP_A
                                                       ,X_BILLABLE_LABOR_HOURS_PTD_A
                                                       ,X_REVENUE_ITD_A
                                                       ,X_REVENUE_YTD_A
                                                       ,X_REVENUE_PP_A
                                                       ,X_REVENUE_PTD_A
                                                       ,X_CMT_RAW_COST_ITD_A
                                                       ,X_CMT_RAW_COST_YTD_A
                                                       ,X_CMT_RAW_COST_PP_A
                                                       ,X_CMT_RAW_COST_PTD_A
                                                       ,X_CMT_BURDENED_COST_ITD_A
                                                       ,X_CMT_BURDENED_COST_YTD_A
                                                       ,X_CMT_BURDENED_COST_PP_A
                                                       ,X_CMT_BURDENED_COST_PTD_A
                                                       ,X_CMT_QUANTITY_ITD_A
                                                       ,X_CMT_QUANTITY_YTD_A
                                                       ,X_CMT_QUANTITY_PP_A
                                                       ,X_CMT_QUANTITY_PTD_A);
            null;
          END LOOP;
        EXCEPTION
          WHEN OTHERS THEN
            NULL;
        END;
        BEGIN
          NUMBER_OF_MESSAGES := PA_ACCUM_SRW.GET_NUMBER_OF_BUDGETS_PST;
          /*SRW.MESSAGE(1
                     ,'No. of Budgets Accumulated = ' || TO_CHAR(NUMBER_OF_MESSAGES))*/NULL;
          FOR i IN 1 .. NUMBER_OF_MESSAGES LOOP
            PA_ACCUM_SRW.REPORT_PROJECT_BUDGET_NUMBERS(I
                                                      ,X_PROJECT_ID
                                                      ,X_BUDGET_TYPE_CODE
                                                      ,X_BASE_RAW_COST_ITD_B
                                                      ,X_BASE_RAW_COST_YTD_B
                                                      ,X_BASE_RAW_COST_PP_B
                                                      ,X_BASE_RAW_COST_PTD_B
                                                      ,X_BASE_BURDENED_COST_ITD_B
                                                      ,X_BASE_BURDENED_COST_YTD_B
                                                      ,X_BASE_BURDENED_COST_PP_B
                                                      ,X_BASE_BURDENED_COST_PTD_B
                                                      ,X_ORIG_RAW_COST_ITD_B
                                                      ,X_ORIG_RAW_COST_YTD_B
                                                      ,X_ORIG_RAW_COST_PP_B
                                                      ,X_ORIG_RAW_COST_PTD_B
                                                      ,X_ORIG_BURDENED_COST_ITD_B
                                                      ,X_ORIG_BURDENED_COST_YTD_B
                                                      ,X_ORIG_BURDENED_COST_PP_B
                                                      ,X_ORIG_BURDENED_COST_PTD_B
                                                      ,X_BASE_REVENUE_ITD_B
                                                      ,X_BASE_REVENUE_YTD_B
                                                      ,X_BASE_REVENUE_PP_B
                                                      ,X_BASE_REVENUE_PTD_B
                                                      ,X_ORIG_REVENUE_ITD_B
                                                      ,X_ORIG_REVENUE_YTD_B
                                                      ,X_ORIG_REVENUE_PP_B
                                                      ,X_ORIG_REVENUE_PTD_B
                                                      ,X_ORIG_LABOR_HOURS_ITD_B
                                                      ,X_ORIG_LABOR_HOURS_YTD_B
                                                      ,X_ORIG_LABOR_HOURS_PP_B
                                                      ,X_ORIG_LABOR_HOURS_PTD_B
                                                      ,X_BASE_LABOR_HOURS_ITD_B
                                                      ,X_BASE_LABOR_HOURS_YTD_B
                                                      ,X_BASE_LABOR_HOURS_PP_B
                                                      ,X_BASE_LABOR_HOURS_PTD_B
                                                      ,X_ORIG_QUANTITY_YTD_B
                                                      ,X_ORIG_QUANTITY_ITD_B
                                                      ,X_ORIG_QUANTITY_PP_B
                                                      ,X_ORIG_QUANTITY_PTD_B
                                                      ,X_BASE_QUANTITY_YTD_B
                                                      ,X_BASE_QUANTITY_ITD_B
                                                      ,X_BASE_QUANTITY_PP_B
                                                      ,X_BASE_QUANTITY_PTD_B
                                                      ,X_ORIG_LABOR_HOURS_TOT_B
                                                      ,X_BASE_LABOR_HOURS_TOT_B
                                                      ,X_ORIG_QUANTITY_TOT_B
                                                      ,X_BASE_QUANTITY_TOT_B
                                                      ,X_BASE_RAW_COST_TOT_B
                                                      ,X_BASE_BURDENED_COST_TOT_B
                                                      ,X_ORIG_RAW_COST_TOT_B
                                                      ,X_ORIG_BURDENED_COST_TOT_B
                                                      ,X_BASE_REVENUE_TOT_B
                                                      ,X_ORIG_REVENUE_TOT_B
                                                      ,X_BASE_RAW_COST_ITD_A
                                                      ,X_BASE_RAW_COST_YTD_A
                                                      ,X_BASE_RAW_COST_PP_A
                                                      ,X_BASE_RAW_COST_PTD_A
                                                      ,X_BASE_BURDENED_COST_ITD_A
                                                      ,X_BASE_BURDENED_COST_YTD_A
                                                      ,X_BASE_BURDENED_COST_PP_A
                                                      ,X_BASE_BURDENED_COST_PTD_A
                                                      ,X_ORIG_RAW_COST_ITD_A
                                                      ,X_ORIG_RAW_COST_YTD_A
                                                      ,X_ORIG_RAW_COST_PP_A
                                                      ,X_ORIG_RAW_COST_PTD_A
                                                      ,X_ORIG_BURDENED_COST_ITD_A
                                                      ,X_ORIG_BURDENED_COST_YTD_A
                                                      ,X_ORIG_BURDENED_COST_PP_A
                                                      ,X_ORIG_BURDENED_COST_PTD_A
                                                      ,X_BASE_REVENUE_ITD_A
                                                      ,X_BASE_REVENUE_YTD_A
                                                      ,X_BASE_REVENUE_PP_A
                                                      ,X_BASE_REVENUE_PTD_A
                                                      ,X_ORIG_REVENUE_ITD_A
                                                      ,X_ORIG_REVENUE_YTD_A
                                                      ,X_ORIG_REVENUE_PP_A
                                                      ,X_ORIG_REVENUE_PTD_A
                                                      ,X_ORIG_LABOR_HOURS_ITD_A
                                                      ,X_ORIG_LABOR_HOURS_YTD_A
                                                      ,X_ORIG_LABOR_HOURS_PP_A
                                                      ,X_ORIG_LABOR_HOURS_PTD_A
                                                      ,X_BASE_LABOR_HOURS_ITD_A
                                                      ,X_BASE_LABOR_HOURS_YTD_A
                                                      ,X_BASE_LABOR_HOURS_PP_A
                                                      ,X_BASE_LABOR_HOURS_PTD_A
                                                      ,X_ORIG_QUANTITY_YTD_A
                                                      ,X_ORIG_QUANTITY_ITD_A
                                                      ,X_ORIG_QUANTITY_PP_A
                                                      ,X_ORIG_QUANTITY_PTD_A
                                                      ,X_BASE_QUANTITY_YTD_A
                                                      ,X_BASE_QUANTITY_ITD_A
                                                      ,X_BASE_QUANTITY_PP_A
                                                      ,X_BASE_QUANTITY_PTD_A
                                                      ,X_ORIG_LABOR_HOURS_TOT_A
                                                      ,X_BASE_LABOR_HOURS_TOT_A
                                                      ,X_ORIG_QUANTITY_TOT_A
                                                      ,X_BASE_QUANTITY_TOT_A
                                                      ,X_BASE_RAW_COST_TOT_A
                                                      ,X_BASE_BURDENED_COST_TOT_A
                                                      ,X_ORIG_RAW_COST_TOT_A
                                                      ,X_ORIG_BURDENED_COST_TOT_A
                                                      ,X_BASE_REVENUE_TOT_A
                                                      ,X_ORIG_REVENUE_TOT_A);
            null;
          END LOOP;
        EXCEPTION
          WHEN OTHERS THEN
            NULL;
        END;
      END IF;
      NUMBER_OF_MESSAGES := PA_DEBUG.NO_OF_DEBUG_MESSAGES;
      IF (NUMBER_OF_MESSAGES > 0) THEN
        /*SRW.MESSAGE(1
                   ,'Debug Messages:')*/NULL;
        FOR i IN 1 .. NUMBER_OF_MESSAGES LOOP
          PA_DEBUG.GET_MESSAGE(I
                              ,MESSAGE_BUF);
          /*SRW.MESSAGE(1
                     ,MESSAGE_BUF)*/NULL;
        END LOOP;
      END IF;
    EXCEPTION
      WHEN OTHERS THEN
        /*RAISE SRW.PROGRAM_ABORT*/RAISE_APPLICATION_ERROR(-20101,null);
    END;
    /*SRW.USER_EXIT('FND SRWEXIT')*/NULL;
    RETURN (TRUE);
  END AFTERREPORT;

  FUNCTION FMT(NUMBER_IN IN NUMBER) RETURN VARCHAR2 IS
  BEGIN
    RETURN TO_CHAR(NVL(NUMBER_IN
                      ,0)
                  ,'9999990D99');
  END FMT;

  FUNCTION GET_PARAMETER_VALUES RETURN BOOLEAN IS
    YES_NO VARCHAR2(10);
  BEGIN
    IF (P_ACTUAL_COST_FLAG IS NOT NULL) THEN
      SELECT
        SUBSTR(MEANING
              ,1
              ,10)
      INTO YES_NO
      FROM
        FND_LOOKUPS
      WHERE LOOKUP_TYPE = 'YES_NO'
        AND LOOKUP_CODE = P_ACTUAL_COST_FLAG;
    END IF;
    C_ACTUAL_COST_FLAG := YES_NO;
    IF (P_REVENUE_FLAG IS NOT NULL) THEN
      SELECT
        SUBSTR(MEANING
              ,1
              ,10)
      INTO YES_NO
      FROM
        FND_LOOKUPS
      WHERE LOOKUP_TYPE = 'YES_NO'
        AND LOOKUP_CODE = P_REVENUE_FLAG;
    END IF;
    C_REVENUE_FLAG := YES_NO;
    IF (P_BUDGETS_FLAG IS NOT NULL) THEN
      SELECT
        SUBSTR(MEANING
              ,1
              ,10)
      INTO YES_NO
      FROM
        FND_LOOKUPS
      WHERE LOOKUP_TYPE = 'YES_NO'
        AND LOOKUP_CODE = P_BUDGETS_FLAG;
    END IF;
    C_BUDGETS_FLAG := YES_NO;
    IF (P_COMMITMENT_FLAG IS NOT NULL) THEN
      SELECT
        SUBSTR(MEANING
              ,1
              ,10)
      INTO YES_NO
      FROM
        FND_LOOKUPS
      WHERE LOOKUP_TYPE = 'YES_NO'
        AND LOOKUP_CODE = P_COMMITMENT_FLAG;
    END IF;
    C_COMMITMENT_FLAG := YES_NO;
    RETURN (TRUE);
  EXCEPTION
    WHEN OTHERS THEN
      RETURN (FALSE);
  END GET_PARAMETER_VALUES;

  FUNCTION CF_BORCFORMULA(PROJECT_TYPE_CLASS_CODE IN VARCHAR2) RETURN VARCHAR2 IS
  BEGIN
    IF PROJECT_TYPE_CLASS_CODE = 'CAPITAL' THEN
      RETURN P_CAPITAL;
    ELSE
      RETURN P_BILLABLE;
    END IF;
  END CF_BORCFORMULA;

  FUNCTION C_FMT_MASKFORMULA RETURN VARCHAR2 IS
    TMP_FMT_MASK VARCHAR2(15);
  BEGIN
    TMP_FMT_MASK := PA_CURRENCY.CURRENCY_FMT_MASK(15);
    RETURN TMP_FMT_MASK;
  END C_FMT_MASKFORMULA;

  FUNCTION CF_EXCEPTION_MSGFORMULA(SUM_EXCEPTION_CODE IN VARCHAR2) RETURN CHAR IS
    TMP_MESSAGE VARCHAR2(255);
  BEGIN
    FND_MESSAGE.SET_NAME('PA'
                        ,SUM_EXCEPTION_CODE);
    SELECT
      SUBSTRB(FND_MESSAGE.GET
             ,1
             ,255)
    INTO TMP_MESSAGE
    FROM
      DUAL;
    RETURN TMP_MESSAGE;
  END CF_EXCEPTION_MSGFORMULA;

  FUNCTION CF_LINE_EXCEPTIONFORMULA(CMT_REJECTION_CODE IN VARCHAR2) RETURN CHAR IS
    TMP_LINE_EXCEPT VARCHAR2(255);
  BEGIN
    FND_MESSAGE.SET_NAME('PA'
                        ,CMT_REJECTION_CODE);
    SELECT
      SUBSTRB(FND_MESSAGE.GET
             ,1
             ,255)
    INTO TMP_LINE_EXCEPT
    FROM
      DUAL;
    RETURN TMP_LINE_EXCEPT;
  END CF_LINE_EXCEPTIONFORMULA;

  FUNCTION C_GEN_REPFORMULA RETURN CHAR IS
    L_GEN_REP VARCHAR2(2000) := NULL;
  BEGIN
    L_GEN_REP := FND_MESSAGE.GET_STRING('PA'
                                       ,'PA_GEN_REPORT_OUTPUT');
    RETURN (L_GEN_REP);
  END C_GEN_REPFORMULA;

  FUNCTION C_COMPANY_NAME_HEADER_P RETURN VARCHAR2 IS
  BEGIN
    RETURN C_COMPANY_NAME_HEADER;
  END C_COMPANY_NAME_HEADER_P;

  FUNCTION C_NO_DATA_FOUND_P RETURN VARCHAR2 IS
  BEGIN
    RETURN C_NO_DATA_FOUND;
  END C_NO_DATA_FOUND_P;

  FUNCTION C_DUMMY_DATA_P RETURN NUMBER IS
  BEGIN
    RETURN C_DUMMY_DATA;
  END C_DUMMY_DATA_P;

  FUNCTION C_RETCODE_P RETURN NUMBER IS
  BEGIN
    RETURN C_RETCODE;
  END C_RETCODE_P;

  FUNCTION C_ACTUAL_COST_FLAG_P RETURN VARCHAR2 IS
  BEGIN
    RETURN C_ACTUAL_COST_FLAG;
  END C_ACTUAL_COST_FLAG_P;

  FUNCTION C_REVENUE_FLAG_P RETURN VARCHAR2 IS
  BEGIN
    RETURN C_REVENUE_FLAG;
  END C_REVENUE_FLAG_P;

  FUNCTION C_BUDGETS_FLAG_P RETURN VARCHAR2 IS
  BEGIN
    RETURN C_BUDGETS_FLAG;
  END C_BUDGETS_FLAG_P;

  FUNCTION C_COMMITMENT_FLAG_P RETURN VARCHAR2 IS
  BEGIN
    RETURN C_COMMITMENT_FLAG;
  END C_COMMITMENT_FLAG_P;

  FUNCTION CP_ROUND_CURRENCY_P RETURN NUMBER IS
  BEGIN
    RETURN CP_ROUND_CURRENCY;
  END CP_ROUND_CURRENCY_P;

END PA_PAXACMPT_XMLP_PKG;


/
