--------------------------------------------------------
--  DDL for Package Body PER_PERHKCEL_XMLP_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "APPS"."PER_PERHKCEL_XMLP_PKG" AS
/* $Header: PERHKCELB.pls 120.0 2007/12/13 07:21:48 amakrish noship $ */
  USER_EXIT_FAILURE EXCEPTION;

  FUNCTION BEFOREREPORT RETURN BOOLEAN IS
    L_PARAM_DISPLAY_1 HR_HK_LEGAL_EMPLOYER_V.NAME%TYPE;
    L_TEMP VARCHAR2(60);
  BEGIN
  --  HR_STANDARD.EVENT('BEFORE REPORT');
    P_CONC_REQUEST_ID := FND_GLOBAL.CONC_REQUEST_ID;
    IF P_LEGAL_EMPLOYER IS NOT NULL THEN
      L_TEMP := TO_CHAR(TO_NUMBER(P_LEGAL_EMPLOYER));
      CP_WHERE_CLAUSE := 'and hscf.segment1 = to_char(' || L_TEMP || ' )';
      BEGIN
        SELECT
          LE.NAME
        INTO
          L_PARAM_DISPLAY_1
        FROM
          HR_HK_LEGAL_EMPLOYER_V LE
        WHERE GRE_ID = P_LEGAL_EMPLOYER;
        CP_LE_DISP_PARAM := L_PARAM_DISPLAY_1;
      EXCEPTION
        WHEN NO_DATA_FOUND THEN
          NULL;
      END;
    ELSE
      CP_LE_DISP_PARAM := '%';
    END IF;
  P_EFFECTIVE_DATE_1  :=   P_EFFECTIVE_DATE;

    RETURN (TRUE);
  EXCEPTION
    WHEN USER_EXIT_FAILURE THEN
      BEGIN
        RAISE_APPLICATION_ERROR(-20101
                               ,NULL);
      END;
  END BEFOREREPORT;

  FUNCTION AFTERREPORT RETURN BOOLEAN IS
  BEGIN
  --  HR_STANDARD.EVENT('AFTER REPORT');
    RETURN (TRUE);
  END AFTERREPORT;

  FUNCTION CP_WHERE_CLAUSE_P RETURN VARCHAR2 IS
  BEGIN
    RETURN CP_WHERE_CLAUSE;
  END CP_WHERE_CLAUSE_P;

  FUNCTION CP_LE_DISP_PARAM_P RETURN VARCHAR2 IS
  BEGIN
    RETURN CP_LE_DISP_PARAM;
  END CP_LE_DISP_PARAM_P;

END PER_PERHKCEL_XMLP_PKG;

/
