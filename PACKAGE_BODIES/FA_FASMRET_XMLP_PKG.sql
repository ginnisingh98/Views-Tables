--------------------------------------------------------
--  DDL for Package Body FA_FASMRET_XMLP_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "APPS"."FA_FASMRET_XMLP_PKG" AS
/* $Header: FASMRETB.pls 120.0.12010000.1 2008/07/28 13:17:04 appldev ship $ */
  FUNCTION REPORT_NAMEFORMULA(COMPANY_NAME IN VARCHAR2) RETURN VARCHAR2 IS
  BEGIN
    DECLARE
      L_REPORT_NAME VARCHAR2(80);
      L_CONC_PROGRAM_ID NUMBER;
    BEGIN
      RP_COMPANY_NAME := COMPANY_NAME;
      SELECT
        CR.CONCURRENT_PROGRAM_ID
      INTO L_CONC_PROGRAM_ID
      FROM
        FND_CONCURRENT_REQUESTS CR
      WHERE CR.PROGRAM_APPLICATION_ID = 140
        AND CR.REQUEST_ID = P_CONC_REQUEST_ID;
      SELECT
        CP.USER_CONCURRENT_PROGRAM_NAME
      INTO L_REPORT_NAME
      FROM
        FND_CONCURRENT_PROGRAMS_VL CP
      WHERE CP.CONCURRENT_PROGRAM_ID = L_CONC_PROGRAM_ID
        AND CP.APPLICATION_ID = 140;
       L_REPORT_NAME := substr(L_REPORT_NAME,1,instr(L_REPORT_NAME,' (XML)'));
        RP_REPORT_NAME := L_REPORT_NAME;
      RETURN (L_REPORT_NAME);
    EXCEPTION
      WHEN OTHERS THEN
        RP_REPORT_NAME := ':Asset Retirements Report:';
        RETURN ('REPORT TITLE');
    END;
    RETURN NULL;
  END REPORT_NAMEFORMULA;
  FUNCTION BEFOREREPORT RETURN BOOLEAN IS
  BEGIN
    P_CONC_REQUEST_ID := FND_GLOBAL.CONC_REQUEST_ID;
    SELECT  SUBSTR(ARGUMENT1,INSTR(ARGUMENT1,'=',1,1)+1)
into  P_MASS_RETIREMENT_ID1
FROM FND_CONCURRENT_REQUESTS
WHERE REQUEST_ID =P_CONC_REQUEST_ID;
    RETURN (TRUE);
  END BEFOREREPORT;
  FUNCTION AFTERREPORT RETURN BOOLEAN IS
  BEGIN
    RETURN (TRUE);
  END AFTERREPORT;
  FUNCTION GAIN_LOSSFORMULA(NBV IN NUMBER
                           ,PROCEEDS IN NUMBER
                           ,REMOVAL IN NUMBER
                           ,REVAL_RSV_RET IN NUMBER) RETURN NUMBER IS
  BEGIN
    RETURN (-NBV + PROCEEDS - REMOVAL + REVAL_RSV_RET);
  END GAIN_LOSSFORMULA;
  FUNCTION ACCT_BAL_APROMPT_P RETURN VARCHAR2 IS
  BEGIN
    RETURN ACCT_BAL_APROMPT;
  END ACCT_BAL_APROMPT_P;
  FUNCTION ACCT_CC_APROMPT_P RETURN VARCHAR2 IS
  BEGIN
    RETURN ACCT_CC_APROMPT;
  END ACCT_CC_APROMPT_P;
  FUNCTION CAT_MAJ_RPROMPT_P RETURN VARCHAR2 IS
  BEGIN
    RETURN CAT_MAJ_RPROMPT;
  END CAT_MAJ_RPROMPT_P;
  FUNCTION RP_COMPANY_NAME_P RETURN VARCHAR2 IS
  BEGIN
    RETURN RP_COMPANY_NAME;
  END RP_COMPANY_NAME_P;
  FUNCTION RP_REPORT_NAME_P RETURN VARCHAR2 IS
  BEGIN
    RETURN RP_REPORT_NAME;
  END RP_REPORT_NAME_P;
END FA_FASMRET_XMLP_PKG;


/
