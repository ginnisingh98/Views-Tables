--------------------------------------------------------
--  DDL for Package Body XTR_XTRLTIGI_XMLP_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "APPS"."XTR_XTRLTIGI_XMLP_PKG" AS
/* $Header: XTRLTIGIB.pls 120.1 2007/12/28 12:54:31 npannamp noship $ */
  FUNCTION BEFOREREPORT RETURN BOOLEAN IS
    L_DMMY_NUM NUMBER;
    L_MESSAGE FND_NEW_MESSAGES.MESSAGE_TEXT%TYPE;
    CURSOR GET_LANGUAGE_DESC IS
      SELECT
        ITEM_NAME,
        SUBSTR(TEXT
              ,1
              ,100) LANG_NAME
      FROM
        XTR_SYS_LANGUAGES_VL
      WHERE MODULE_NAME = 'XTRLTIGI';
  BEGIN

    BEGIN
      COMPANY_NAME_HEADER := CEP_STANDARD.GET_WINDOW_SESSION_TITLE;
    EXCEPTION
      WHEN OTHERS THEN
        FND_MESSAGE.SET_NAME('XTR'
                            ,'XTR_LOOKUP_ERR');
        L_MESSAGE := FND_MESSAGE.GET;
        RAISE_APPLICATION_ERROR(-20101
                               ,NULL);
    END;
    IF (P_DISPLAY_DEBUG = 'Y') THEN
      NULL;
    END IF;
    FOR c IN GET_LANGUAGE_DESC LOOP
      IF C.ITEM_NAME = 'Z1PARAMETERS' THEN
        Z1PARAMETERS := C.LANG_NAME;
      ELSIF C.ITEM_NAME = 'Z1PERIOD_FROM' THEN
        Z1PERIOD_FROM := C.LANG_NAME;
      ELSIF C.ITEM_NAME = 'Z1PERIOD_TO' THEN
        Z1PERIOD_TO := C.LANG_NAME;
      ELSIF C.ITEM_NAME = 'Z1COMPANY' THEN
        Z1COMPANY := C.LANG_NAME;
      ELSIF C.ITEM_NAME = 'Z1PARTY_CODE' THEN
        Z1PARTY_CODE := C.LANG_NAME;
      ELSIF C.ITEM_NAME = 'Z2PAGE' THEN
        Z2PAGE := C.LANG_NAME;
      ELSIF C.ITEM_NAME = 'Z2ATTENTION' THEN
        Z2ATTENTION := C.LANG_NAME;
      ELSIF C.ITEM_NAME = 'Z2BANK_BALANCES' THEN
        Z2BANK_BALANCES := C.LANG_NAME;
      ELSIF C.ITEM_NAME = 'Z2FOR' THEN
        Z2FOR := C.LANG_NAME;
      ELSIF C.ITEM_NAME = 'Z2INTEREST_COSTS' THEN
        Z2INTEREST_COSTS := C.LANG_NAME;
      ELSIF C.ITEM_NAME = 'Z2INTERGROUP_TRANSFER' THEN
        Z2INTERGROUP_TRANSFER := C.LANG_NAME;
      ELSIF C.ITEM_NAME = 'Z2INTERGROUP_TRANSFERS' THEN
        Z2INTERGROUP_TRANSFERS := C.LANG_NAME;
      ELSIF C.ITEM_NAME = 'Z2IS' THEN
        Z2IS := C.LANG_NAME;
      ELSIF C.ITEM_NAME = 'Z2REGARDS' THEN
        Z2REGARDS := C.LANG_NAME;
      ELSIF C.ITEM_NAME = 'Z2TOTAL_INTEREST_TO' THEN
        Z2TOTAL_INTEREST_TO := C.LANG_NAME;
      END IF;
    END LOOP;
    RETURN (TRUE);
  END BEFOREREPORT;

  FUNCTION AFTERPFORM RETURN BOOLEAN IS
  x boolean;
  BEGIN
  x:=P_COMPANYVALIDTRIGGER;
   P_CONC_REQUEST_ID := FND_GLOBAL.CONC_REQUEST_ID;
    P_PERIOD_FROM1:= TO_CHAR(TO_DATE(P_PERIOD_FROM
                                    ,'YYYY/MM/DD HH24:MI:SS')
                            ,'DD-MON-YYYY');
    P_PERIOD_TO1 := TO_CHAR(TO_DATE(P_PERIOD_TO
                                  ,'YYYY/MM/DD HH24:MI:SS')
                          ,'DD-MON-YYYY');
    P_FROM := P_PERIOD_FROM1;
    P_TO := P_PERIOD_TO1;
    COMPANY2 := P_COMPANY;
    PARTY_CODE2 := P_INTERGROUP_PARTY;
    SELECT
      CP.USER_CONCURRENT_PROGRAM_NAME
    INTO
      REPORT_SHORT_NAME2
    FROM
      FND_CONCURRENT_PROGRAMS_VL CP,
      FND_CONCURRENT_REQUESTS CR
    WHERE CR.REQUEST_ID = P_CONC_REQUEST_ID
      AND CP.APPLICATION_ID = CR.PROGRAM_APPLICATION_ID
      AND CP.CONCURRENT_PROGRAM_ID = CR.CONCURRENT_PROGRAM_ID;
REPORT_SHORT_NAME2 := substr(REPORT_SHORT_NAME2,1,instr(REPORT_SHORT_NAME2,' (XML)'));

    RETURN (TRUE);
  END AFTERPFORM;

  FUNCTION AFTERREPORT RETURN BOOLEAN IS
  BEGIN
    RETURN (TRUE);
  END AFTERREPORT;

  FUNCTION P_COMPANYVALIDTRIGGER RETURN BOOLEAN IS
  BEGIN
    RETURN (TRUE);
  END P_COMPANYVALIDTRIGGER;

  FUNCTION BEFOREPFORM RETURN BOOLEAN IS
  BEGIN
    RETURN (TRUE);
  END BEFOREPFORM;

  FUNCTION BETWEENPAGE RETURN BOOLEAN IS
  BEGIN
    RETURN (TRUE);
  END BETWEENPAGE;

END XTR_XTRLTIGI_XMLP_PKG;


/
