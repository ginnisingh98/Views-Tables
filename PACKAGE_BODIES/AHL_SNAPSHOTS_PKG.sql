--------------------------------------------------------
--  DDL for Package Body AHL_SNAPSHOTS_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "APPS"."AHL_SNAPSHOTS_PKG" as
/* $Header: AHLLSNPB.pls 115.1 2003/10/23 19:19:54 sikumar noship $ */
PROCEDURE INSERT_ROW (
 X_SNAPSHOT_ID           IN NUMBER,
 X_OBJECT_VERSION_NUMBER IN NUMBER,
 X_SNAPSHOT_NUMBER       IN NUMBER,
 X_LAST_UPDATE_DATE      IN DATE,
 X_LAST_UPDATED_BY       IN NUMBER,
 X_CREATION_DATE         IN DATE,
 X_CREATED_BY            IN NUMBER,
 X_LAST_UPDATE_LOGIN     IN NUMBER,
 X_VISIT_ID              IN NUMBER,
 X_VISIT_TASK_ID         IN NUMBER,
 X_MR_ID                 IN NUMBER,
 X_ESTIMATED_PRICE       IN NUMBER,
 X_ACTUAL_PRICE          IN NUMBER,
 X_ESTIMATED_COST        IN NUMBER,
 X_ACTUAL_COST           IN NUMBER,
 X_ATTRIBUTE_CATEGORY    IN VARCHAR2,
 X_ATTRIBUTE1            IN VARCHAR2,
 X_ATTRIBUTE2            IN VARCHAR2,
 X_ATTRIBUTE3            IN VARCHAR2,
 X_ATTRIBUTE4            IN VARCHAR2,
 X_ATTRIBUTE5            IN VARCHAR2,
 X_ATTRIBUTE6            IN VARCHAR2,
 X_ATTRIBUTE7            IN VARCHAR2,
 X_ATTRIBUTE8            IN VARCHAR2,
 X_ATTRIBUTE9            IN VARCHAR2,
 X_ATTRIBUTE10           IN VARCHAR2,
 X_ATTRIBUTE11           IN VARCHAR2,
 X_ATTRIBUTE12           IN VARCHAR2,
 X_ATTRIBUTE13           IN VARCHAR2,
 X_ATTRIBUTE14           IN VARCHAR2,
 X_ATTRIBUTE15           IN VARCHAR2
) IS
BEGIN
  INSERT INTO AHL_SNAPSHOTS (
     SNAPSHOT_ID,
     OBJECT_VERSION_NUMBER,
     SNAPSHOT_NUMBER,
     LAST_UPDATE_DATE,
     LAST_UPDATED_BY,
     CREATION_DATE,
     CREATED_BY,
     LAST_UPDATE_LOGIN,
     VISIT_ID,
     VISIT_TASK_ID,
     MR_ID,
     ESTIMATED_PRICE,
     ACTUAL_PRICE,
     ESTIMATED_COST,
     ACTUAL_COST,
     ATTRIBUTE_CATEGORY,
     ATTRIBUTE1,
     ATTRIBUTE2,
     ATTRIBUTE3,
     ATTRIBUTE4,
     ATTRIBUTE5,
     ATTRIBUTE6,
     ATTRIBUTE7,
     ATTRIBUTE8,
     ATTRIBUTE9,
     ATTRIBUTE10,
     ATTRIBUTE11,
     ATTRIBUTE12,
     ATTRIBUTE13,
     ATTRIBUTE14,
     ATTRIBUTE15
	 )
VALUES(
     X_SNAPSHOT_ID,
     X_OBJECT_VERSION_NUMBER,
     X_SNAPSHOT_NUMBER,
     X_LAST_UPDATE_DATE,
     X_LAST_UPDATED_BY,
     X_CREATION_DATE,
     X_CREATED_BY,
     X_LAST_UPDATE_LOGIN,
     X_VISIT_ID,
     X_VISIT_TASK_ID,
     X_MR_ID,
     X_ESTIMATED_PRICE,
     X_ACTUAL_PRICE,
     X_ESTIMATED_COST,
     X_ACTUAL_COST,
     X_ATTRIBUTE_CATEGORY,
     X_ATTRIBUTE1,
     X_ATTRIBUTE2,
     X_ATTRIBUTE3,
     X_ATTRIBUTE4,
     X_ATTRIBUTE5,
     X_ATTRIBUTE6,
     X_ATTRIBUTE7,
     X_ATTRIBUTE8,
     X_ATTRIBUTE9,
     X_ATTRIBUTE10,
     X_ATTRIBUTE11,
     X_ATTRIBUTE12,
     X_ATTRIBUTE13,
     X_ATTRIBUTE14,
     X_ATTRIBUTE15
    );
END INSERT_ROW;

PROCEDURE UPDATE_ROW (
 X_SNAPSHOT_ID           IN NUMBER,
 X_OBJECT_VERSION_NUMBER IN NUMBER,
 X_SNAPSHOT_NUMBER       IN NUMBER,
 X_LAST_UPDATE_DATE      IN DATE,
 X_LAST_UPDATED_BY       IN NUMBER,
 --X_CREATION_DATE         IN DATE,
 --X_CREATED_BY            IN NUMBER,
 X_LAST_UPDATE_LOGIN     IN NUMBER,
 X_VISIT_ID              IN NUMBER,
 X_VISIT_TASK_ID         IN NUMBER,
 X_MR_ID                 IN NUMBER,
 X_ESTIMATED_PRICE       IN NUMBER,
 X_ACTUAL_PRICE          IN NUMBER,
 X_ESTIMATED_COST        IN NUMBER,
 X_ACTUAL_COST           IN NUMBER,
 X_ATTRIBUTE_CATEGORY    IN VARCHAR2,
 X_ATTRIBUTE1            IN VARCHAR2,
 X_ATTRIBUTE2            IN VARCHAR2,
 X_ATTRIBUTE3            IN VARCHAR2,
 X_ATTRIBUTE4            IN VARCHAR2,
 X_ATTRIBUTE5            IN VARCHAR2,
 X_ATTRIBUTE6            IN VARCHAR2,
 X_ATTRIBUTE7            IN VARCHAR2,
 X_ATTRIBUTE8            IN VARCHAR2,
 X_ATTRIBUTE9            IN VARCHAR2,
 X_ATTRIBUTE10           IN VARCHAR2,
 X_ATTRIBUTE11           IN VARCHAR2,
 X_ATTRIBUTE12           IN VARCHAR2,
 X_ATTRIBUTE13           IN VARCHAR2,
 X_ATTRIBUTE14           IN VARCHAR2,
 X_ATTRIBUTE15           IN VARCHAR2
) IS
BEGIN
  UPDATE AHL_SNAPSHOTS SET
     VISIT_ID        = X_VISIT_ID,
     VISIT_TASK_ID   = X_VISIT_TASK_ID,
     SNAPSHOT_NUMBER = X_SNAPSHOT_NUMBER,
     --CREATION_DATE   = X_CREATION_DATE,
     --CREATED_BY      = X_CREATED_BY,
     MR_ID           = X_MR_ID,
     ESTIMATED_PRICE = X_ESTIMATED_PRICE,
     ACTUAL_PRICE    = X_ACTUAL_PRICE,
     ESTIMATED_COST  = X_ESTIMATED_COST,
     ACTUAL_COST     = X_ACTUAL_COST,
     ATTRIBUTE_CATEGORY = X_ATTRIBUTE_CATEGORY,
     ATTRIBUTE1 = X_ATTRIBUTE1,
     ATTRIBUTE2 = X_ATTRIBUTE2,
     ATTRIBUTE3 = X_ATTRIBUTE3,
     ATTRIBUTE4 =  X_ATTRIBUTE4,
     ATTRIBUTE5 = X_ATTRIBUTE5,
     ATTRIBUTE6 = X_ATTRIBUTE6,
     ATTRIBUTE7 = X_ATTRIBUTE7,
     ATTRIBUTE8 = X_ATTRIBUTE8,
     ATTRIBUTE9 = X_ATTRIBUTE9,
     ATTRIBUTE10 = X_ATTRIBUTE10,
     ATTRIBUTE11 = X_ATTRIBUTE11,
     ATTRIBUTE12 = X_ATTRIBUTE12,
     ATTRIBUTE13 = X_ATTRIBUTE13,
     ATTRIBUTE14 = X_ATTRIBUTE14,
     ATTRIBUTE15 = X_ATTRIBUTE15,
    OBJECT_VERSION_NUMBER = X_OBJECT_VERSION_NUMBER +1,
    LAST_UPDATE_DATE = X_LAST_UPDATE_DATE,
    LAST_UPDATED_BY = X_LAST_UPDATED_BY,
    LAST_UPDATE_LOGIN = X_LAST_UPDATE_LOGIN
  WHERE SNAPSHOT_ID = X_SNAPSHOT_ID
  AND   OBJECT_VERSION_NUMBER=X_OBJECT_VERSION_NUMBER;
  IF (SQL%ROWCOUNT=0)
  THEN
             FND_MESSAGE.SET_NAME('AHL','AHL_COM_RECORD_CHANGED');
             FND_MSG_PUB.ADD;
  END IF;
END UPDATE_ROW;

PROCEDURE DELETE_ROW (
  X_SNAPSHOT_ID IN NUMBER
) IS
BEGIN
  DELETE FROM AHL_SNAPSHOTS
  WHERE SNAPSHOT_ID = X_SNAPSHOT_ID;

  IF (SQL%NOTFOUND) THEN
    RAISE NO_DATA_FOUND;
  END IF;

END DELETE_ROW;

END AHL_SNAPSHOTS_PKG;

/
