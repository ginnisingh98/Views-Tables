--------------------------------------------------------
--  DDL for Package Body ASO_SHIPMENTS_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "APPS"."ASO_SHIPMENTS_PKG" as
/* $Header: asotshpb.pls 120.0 2005/05/31 11:54:05 appldev noship $ */
-- Start of Comments
-- Package name     : ASO_SHIPMENTS_PKG
-- Purpose          :
-- History          :
-- NOTE             :
-- End of Comments


G_PKG_NAME CONSTANT VARCHAR2(30):= 'ASO_SHIPMENTS_PKG';
G_FILE_NAME CONSTANT VARCHAR2(12) := 'asotshpb.pls';

PROCEDURE Insert_Row(
          px_SHIPMENT_ID   IN OUT NOCOPY  NUMBER,
          p_CREATION_DATE    DATE,
          p_CREATED_BY    NUMBER,
          p_LAST_UPDATE_DATE    DATE,
          p_LAST_UPDATED_BY    NUMBER,
          p_LAST_UPDATE_LOGIN    NUMBER,
          p_REQUEST_ID    NUMBER,
          p_PROGRAM_APPLICATION_ID    NUMBER,
          p_PROGRAM_ID    NUMBER,
          p_PROGRAM_UPDATE_DATE    DATE,
          p_QUOTE_HEADER_ID    NUMBER,
          p_QUOTE_LINE_ID    NUMBER,
          p_PROMISE_DATE    DATE,
          p_REQUEST_DATE    DATE,
          p_SCHEDULE_SHIP_DATE    DATE,
          p_SHIP_TO_PARTY_SITE_ID    NUMBER,
          p_SHIP_TO_PARTY_ID    NUMBER,
          p_SHIP_TO_CUST_ACCOUNT_ID    NUMBER,
          p_SHIP_PARTIAL_FLAG    VARCHAR2,
          p_SHIP_SET_ID    NUMBER,
          p_SHIP_METHOD_CODE    VARCHAR2,
          p_FREIGHT_TERMS_CODE    VARCHAR2,
          p_FREIGHT_CARRIER_CODE    VARCHAR2,
          p_FOB_CODE    VARCHAR2,
          p_SHIPPING_INSTRUCTIONS    VARCHAR2,
          p_PACKING_INSTRUCTIONS    VARCHAR2,
          p_QUANTITY    NUMBER,
          p_RESERVED_QUANTITY    VARCHAR2,
          p_RESERVATION_ID    NUMBER,
          p_ORDER_LINE_ID    NUMBER,
          p_ATTRIBUTE_CATEGORY    VARCHAR2,
          p_ATTRIBUTE1    VARCHAR2,
          p_ATTRIBUTE2    VARCHAR2,
          p_ATTRIBUTE3    VARCHAR2,
          p_ATTRIBUTE4    VARCHAR2,
          p_ATTRIBUTE5    VARCHAR2,
          p_ATTRIBUTE6    VARCHAR2,
          p_ATTRIBUTE7    VARCHAR2,
          p_ATTRIBUTE8    VARCHAR2,
          p_ATTRIBUTE9    VARCHAR2,
          p_ATTRIBUTE10    VARCHAR2,
          p_ATTRIBUTE11    VARCHAR2,
          p_ATTRIBUTE12    VARCHAR2,
          p_ATTRIBUTE13    VARCHAR2,
          p_ATTRIBUTE14    VARCHAR2,
          p_ATTRIBUTE15    VARCHAR2,
           p_ATTRIBUTE16    VARCHAR2,
          p_ATTRIBUTE17    VARCHAR2,
          p_ATTRIBUTE18    VARCHAR2,
          p_ATTRIBUTE19    VARCHAR2,
          p_ATTRIBUTE20    VARCHAR2,
          p_SHIPMENT_PRIORITY_CODE   VARCHAR2,
          p_SHIP_QUOTE_PRICE    NUMBER,
		p_SHIP_FROM_ORG_ID NUMBER,
		p_SHIP_TO_CUST_PARTY_ID NUMBER,
          p_SHIP_METHOD_CODE_FROM VARCHAR2,
          p_FREIGHT_TERMS_CODE_FROM VARCHAR2,
          p_OBJECT_VERSION_NUMBER  NUMBER,
	     p_REQUEST_DATE_TYPE VARCHAR2,
          p_DEMAND_CLASS_CODE VARCHAR2
		)

 IS
   CURSOR C2 IS SELECT ASO_SHIPMENTS_S.nextval FROM sys.dual;
BEGIN
   If (px_SHIPMENT_ID IS NULL) OR (px_SHIPMENT_ID = FND_API.G_MISS_NUM) then
       OPEN C2;
       FETCH C2 INTO px_SHIPMENT_ID;
       CLOSE C2;
   End If;
   INSERT INTO ASO_SHIPMENTS(
           SHIPMENT_ID,
           CREATION_DATE,
           CREATED_BY,
           LAST_UPDATE_DATE,
           LAST_UPDATED_BY,
           LAST_UPDATE_LOGIN,
           REQUEST_ID,
           PROGRAM_APPLICATION_ID,
           PROGRAM_ID,
           PROGRAM_UPDATE_DATE,
           QUOTE_HEADER_ID,
           QUOTE_LINE_ID,
           PROMISE_DATE,
           REQUEST_DATE,
           SCHEDULE_SHIP_DATE,
           SHIP_TO_PARTY_SITE_ID,
           SHIP_TO_PARTY_ID,
           SHIP_TO_CUST_ACCOUNT_ID,
           SHIP_PARTIAL_FLAG,
           SHIP_SET_ID,
           SHIP_METHOD_CODE,
           FREIGHT_TERMS_CODE,
           FREIGHT_CARRIER_CODE,
           FOB_CODE,
           SHIPPING_INSTRUCTIONS,
           PACKING_INSTRUCTIONS,
           QUANTITY,
           RESERVED_QUANTITY,
           RESERVATION_ID,
           ORDER_LINE_ID,
           ATTRIBUTE_CATEGORY,
           ATTRIBUTE1,
           ATTRIBUTE2,
           ATTRIBUTE3,
           ATTRIBUTE4,
           ATTRIBUTE5,
           ATTRIBUTE6,
           ATTRIBUTE7,
           ATTRIBUTE8,
           ATTRIBUTE9,
           ATTRIBUTE10,
           ATTRIBUTE11,
           ATTRIBUTE12,
           ATTRIBUTE13,
           ATTRIBUTE14,
           ATTRIBUTE15,
           ATTRIBUTE16,
           ATTRIBUTE17,
           ATTRIBUTE18,
           ATTRIBUTE19,
           ATTRIBUTE20,
           SHIPMENT_PRIORITY_CODE,
           SHIP_QUOTE_PRICE,
		 SHIP_FROM_ORG_ID,
		 SHIP_TO_CUST_PARTY_ID,
           SHIP_METHOD_CODE_FROM,
           FREIGHT_TERMS_CODE_FROM,
           OBJECT_VERSION_NUMBER,
           REQUEST_DATE_TYPE,
           DEMAND_CLASS_CODE
           ) VALUES (
           px_SHIPMENT_ID,
           ASO_UTILITY_PVT.decode( p_CREATION_DATE, FND_API.G_MISS_DATE, NULL, p_CREATION_DATE),
           decode( p_CREATED_BY, FND_API.G_MISS_NUM, NULL, p_CREATED_BY),
           ASO_UTILITY_PVT.decode( p_LAST_UPDATE_DATE, FND_API.G_MISS_DATE, NULL, p_LAST_UPDATE_DATE),
           decode( p_LAST_UPDATED_BY, FND_API.G_MISS_NUM, NULL, p_LAST_UPDATED_BY),
           decode( p_LAST_UPDATE_LOGIN, FND_API.G_MISS_NUM, NULL, p_LAST_UPDATE_LOGIN),
           decode( p_REQUEST_ID, FND_API.G_MISS_NUM, NULL, p_REQUEST_ID),
           decode( p_PROGRAM_APPLICATION_ID, FND_API.G_MISS_NUM, NULL, p_PROGRAM_APPLICATION_ID),
           decode( p_PROGRAM_ID, FND_API.G_MISS_NUM, NULL, p_PROGRAM_ID),
           ASO_UTILITY_PVT.decode( p_PROGRAM_UPDATE_DATE, FND_API.G_MISS_DATE, NULL, p_PROGRAM_UPDATE_DATE),
           decode( p_QUOTE_HEADER_ID, FND_API.G_MISS_NUM, NULL, p_QUOTE_HEADER_ID),
           decode( p_QUOTE_LINE_ID, FND_API.G_MISS_NUM, NULL, p_QUOTE_LINE_ID),
           ASO_UTILITY_PVT.decode( p_PROMISE_DATE, FND_API.G_MISS_DATE, NULL, p_PROMISE_DATE),
           ASO_UTILITY_PVT.decode( p_REQUEST_DATE, FND_API.G_MISS_DATE, NULL, p_REQUEST_DATE),
           ASO_UTILITY_PVT.decode( p_SCHEDULE_SHIP_DATE, FND_API.G_MISS_DATE, NULL, p_SCHEDULE_SHIP_DATE),
           decode( p_SHIP_TO_PARTY_SITE_ID, FND_API.G_MISS_NUM, NULL, p_SHIP_TO_PARTY_SITE_ID),
           decode( p_SHIP_TO_PARTY_ID, FND_API.G_MISS_NUM, NULL, p_SHIP_TO_PARTY_ID),
           decode( p_SHIP_TO_CUST_ACCOUNT_ID, FND_API.G_MISS_NUM, NULL, p_SHIP_TO_CUST_ACCOUNT_ID),
           decode( p_SHIP_PARTIAL_FLAG, FND_API.G_MISS_CHAR, NULL, p_SHIP_PARTIAL_FLAG),
           decode( p_SHIP_SET_ID, FND_API.G_MISS_NUM, NULL, p_SHIP_SET_ID),
           decode( p_SHIP_METHOD_CODE, FND_API.G_MISS_CHAR, NULL, p_SHIP_METHOD_CODE),
           decode( p_FREIGHT_TERMS_CODE, FND_API.G_MISS_CHAR, NULL, p_FREIGHT_TERMS_CODE),
           decode( p_FREIGHT_CARRIER_CODE, FND_API.G_MISS_CHAR, NULL, p_FREIGHT_CARRIER_CODE),
           decode( p_FOB_CODE, FND_API.G_MISS_CHAR, NULL, p_FOB_CODE),
           decode( p_SHIPPING_INSTRUCTIONS, FND_API.G_MISS_CHAR, NULL, p_SHIPPING_INSTRUCTIONS),
           decode( p_PACKING_INSTRUCTIONS, FND_API.G_MISS_CHAR, NULL, p_PACKING_INSTRUCTIONS),
           decode( p_QUANTITY, FND_API.G_MISS_NUM, NULL, p_QUANTITY),
           decode( p_RESERVED_QUANTITY, FND_API.G_MISS_CHAR, NULL, p_RESERVED_QUANTITY),
           decode( p_RESERVATION_ID, FND_API.G_MISS_NUM, NULL, p_RESERVATION_ID),
           decode( p_ORDER_LINE_ID, FND_API.G_MISS_NUM, NULL, p_ORDER_LINE_ID),
           decode( p_ATTRIBUTE_CATEGORY, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE_CATEGORY),
           decode( p_ATTRIBUTE1, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE1),
           decode( p_ATTRIBUTE2, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE2),
           decode( p_ATTRIBUTE3, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE3),
           decode( p_ATTRIBUTE4, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE4),
           decode( p_ATTRIBUTE5, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE5),
           decode( p_ATTRIBUTE6, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE6),
           decode( p_ATTRIBUTE7, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE7),
           decode( p_ATTRIBUTE8, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE8),
           decode( p_ATTRIBUTE9, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE9),
           decode( p_ATTRIBUTE10, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE10),
           decode( p_ATTRIBUTE11, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE11),
           decode( p_ATTRIBUTE12, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE12),
           decode( p_ATTRIBUTE13, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE13),
           decode( p_ATTRIBUTE14, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE14),
           decode( p_ATTRIBUTE15, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE15),
           decode( p_ATTRIBUTE16, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE16),
           decode( p_ATTRIBUTE17, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE17),
           decode( p_ATTRIBUTE18, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE18),
           decode( p_ATTRIBUTE19, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE19),
           decode( p_ATTRIBUTE20, FND_API.G_MISS_CHAR, NULL, p_ATTRIBUTE20),
           decode( p_SHIPMENT_PRIORITY_CODE, FND_API.G_MISS_CHAR, NULL, p_SHIPMENT_PRIORITY_CODE),
           decode( p_SHIP_QUOTE_PRICE, FND_API.G_MISS_NUM, NULL, p_SHIP_QUOTE_PRICE),
		 decode( p_SHIP_FROM_ORG_ID, FND_API.G_MISS_NUM, NULL, p_SHIP_FROM_ORG_ID),
		 decode( p_SHIP_TO_CUST_PARTY_ID, FND_API.G_MISS_NUM, NULL, p_SHIP_TO_CUST_PARTY_ID),
           decode( p_SHIP_METHOD_CODE_FROM, FND_API.G_MISS_CHAR, NULL, p_SHIP_METHOD_CODE_FROM),
           decode( p_FREIGHT_TERMS_CODE_FROM, FND_API.G_MISS_CHAR, NULL, p_FREIGHT_TERMS_CODE_FROM),
           decode ( p_OBJECT_VERSION_NUMBER, FND_API.G_MISS_NUM,1,NULL,1, p_OBJECT_VERSION_NUMBER),
		 decode ( p_REQUEST_DATE_TYPE, FND_API.G_MISS_CHAR,NULL,p_REQUEST_DATE_TYPE),
           decode ( p_DEMAND_CLASS_CODE, FND_API.G_MISS_CHAR,NULL, p_DEMAND_CLASS_CODE)
           );
End Insert_Row;

PROCEDURE Update_Row(
          p_SHIPMENT_ID    NUMBER,
          p_CREATION_DATE    DATE,
          p_CREATED_BY    NUMBER,
          p_LAST_UPDATE_DATE    DATE,
          p_LAST_UPDATED_BY    NUMBER,
          p_LAST_UPDATE_LOGIN    NUMBER,
          p_REQUEST_ID    NUMBER,
          p_PROGRAM_APPLICATION_ID    NUMBER,
          p_PROGRAM_ID    NUMBER,
          p_PROGRAM_UPDATE_DATE    DATE,
          p_QUOTE_HEADER_ID    NUMBER,
          p_QUOTE_LINE_ID    NUMBER,
          p_PROMISE_DATE    DATE,
          p_REQUEST_DATE    DATE,
          p_SCHEDULE_SHIP_DATE    DATE,
          p_SHIP_TO_PARTY_SITE_ID    NUMBER,
          p_SHIP_TO_PARTY_ID    NUMBER,
          p_SHIP_TO_CUST_ACCOUNT_ID    NUMBER,
          p_SHIP_PARTIAL_FLAG    VARCHAR2,
          p_SHIP_SET_ID    NUMBER,
          p_SHIP_METHOD_CODE    VARCHAR2,
          p_FREIGHT_TERMS_CODE    VARCHAR2,
          p_FREIGHT_CARRIER_CODE    VARCHAR2,
          p_FOB_CODE    VARCHAR2,
          p_SHIPPING_INSTRUCTIONS    VARCHAR2,
          p_PACKING_INSTRUCTIONS    VARCHAR2,
          p_QUANTITY    NUMBER,
          p_RESERVED_QUANTITY    VARCHAR2,
          p_RESERVATION_ID    NUMBER,
          p_ORDER_LINE_ID    NUMBER,
          p_ATTRIBUTE_CATEGORY    VARCHAR2,
          p_ATTRIBUTE1    VARCHAR2,
          p_ATTRIBUTE2    VARCHAR2,
          p_ATTRIBUTE3    VARCHAR2,
          p_ATTRIBUTE4    VARCHAR2,
          p_ATTRIBUTE5    VARCHAR2,
          p_ATTRIBUTE6    VARCHAR2,
          p_ATTRIBUTE7    VARCHAR2,
          p_ATTRIBUTE8    VARCHAR2,
          p_ATTRIBUTE9    VARCHAR2,
          p_ATTRIBUTE10    VARCHAR2,
          p_ATTRIBUTE11    VARCHAR2,
          p_ATTRIBUTE12    VARCHAR2,
          p_ATTRIBUTE13    VARCHAR2,
          p_ATTRIBUTE14    VARCHAR2,
          p_ATTRIBUTE15    VARCHAR2,
           p_ATTRIBUTE16    VARCHAR2,
          p_ATTRIBUTE17    VARCHAR2,
          p_ATTRIBUTE18    VARCHAR2,
          p_ATTRIBUTE19    VARCHAR2,
          p_ATTRIBUTE20    VARCHAR2,
          p_SHIPMENT_PRIORITY_CODE    VARCHAR2,
          p_SHIP_QUOTE_PRICE    NUMBER,
		p_SHIP_FROM_ORG_ID NUMBER,
		p_SHIP_TO_CUST_PARTY_ID NUMBER,
          p_SHIP_METHOD_CODE_FROM VARCHAR2,
          p_FREIGHT_TERMS_CODE_FROM VARCHAR2,
          p_OBJECT_VERSION_NUMBER  NUMBER,
	     p_REQUEST_DATE_TYPE VARCHAR2,
          p_DEMAND_CLASS_CODE VARCHAR2
          )

 IS
 BEGIN
    Update ASO_SHIPMENTS
    SET
            /*  CREATION_DATE = ASO_UTILITY_PVT.decode( p_CREATION_DATE, FND_API.G_MISS_DATE, CREATION_DATE, p_CREATION_DATE),
              CREATED_BY = decode( p_CREATED_BY, FND_API.G_MISS_NUM, CREATED_BY, p_CREATED_BY),*/
              LAST_UPDATE_DATE = ASO_UTILITY_PVT.decode( p_LAST_UPDATE_DATE, FND_API.G_MISS_DATE, LAST_UPDATE_DATE, p_LAST_UPDATE_DATE),
              LAST_UPDATED_BY = decode( p_LAST_UPDATED_BY, FND_API.G_MISS_NUM, LAST_UPDATED_BY, p_LAST_UPDATED_BY),
              LAST_UPDATE_LOGIN = decode( p_LAST_UPDATE_LOGIN, FND_API.G_MISS_NUM, LAST_UPDATE_LOGIN, p_LAST_UPDATE_LOGIN),
              REQUEST_ID = decode( p_REQUEST_ID, FND_API.G_MISS_NUM, REQUEST_ID, p_REQUEST_ID),
              PROGRAM_APPLICATION_ID = decode( p_PROGRAM_APPLICATION_ID, FND_API.G_MISS_NUM, PROGRAM_APPLICATION_ID, p_PROGRAM_APPLICATION_ID),
              PROGRAM_ID = decode( p_PROGRAM_ID, FND_API.G_MISS_NUM, PROGRAM_ID, p_PROGRAM_ID),
              PROGRAM_UPDATE_DATE = ASO_UTILITY_PVT.decode( p_PROGRAM_UPDATE_DATE, FND_API.G_MISS_DATE, PROGRAM_UPDATE_DATE, p_PROGRAM_UPDATE_DATE),
              QUOTE_HEADER_ID = decode( p_QUOTE_HEADER_ID, FND_API.G_MISS_NUM, QUOTE_HEADER_ID, p_QUOTE_HEADER_ID),
              QUOTE_LINE_ID = decode( p_QUOTE_LINE_ID, FND_API.G_MISS_NUM, QUOTE_LINE_ID, p_QUOTE_LINE_ID),
              PROMISE_DATE = ASO_UTILITY_PVT.decode( p_PROMISE_DATE, FND_API.G_MISS_DATE, PROMISE_DATE, p_PROMISE_DATE),
              REQUEST_DATE = ASO_UTILITY_PVT.decode( p_REQUEST_DATE, FND_API.G_MISS_DATE, REQUEST_DATE, p_REQUEST_DATE),
              SCHEDULE_SHIP_DATE = ASO_UTILITY_PVT.decode( p_SCHEDULE_SHIP_DATE, FND_API.G_MISS_DATE, SCHEDULE_SHIP_DATE, p_SCHEDULE_SHIP_DATE),
              SHIP_TO_PARTY_SITE_ID = decode( p_SHIP_TO_PARTY_SITE_ID, FND_API.G_MISS_NUM, SHIP_TO_PARTY_SITE_ID, p_SHIP_TO_PARTY_SITE_ID),
              SHIP_TO_PARTY_ID = decode( p_SHIP_TO_PARTY_ID, FND_API.G_MISS_NUM, SHIP_TO_PARTY_ID, p_SHIP_TO_PARTY_ID),
              SHIP_TO_CUST_ACCOUNT_ID = decode( p_SHIP_TO_CUST_ACCOUNT_ID, FND_API.G_MISS_NUM, SHIP_TO_CUST_ACCOUNT_ID, p_SHIP_TO_CUST_ACCOUNT_ID),
              SHIP_PARTIAL_FLAG = decode( p_SHIP_PARTIAL_FLAG, FND_API.G_MISS_CHAR, SHIP_PARTIAL_FLAG, p_SHIP_PARTIAL_FLAG),
              SHIP_SET_ID = decode( p_SHIP_SET_ID, FND_API.G_MISS_NUM, SHIP_SET_ID, p_SHIP_SET_ID),
              SHIP_METHOD_CODE = decode( p_SHIP_METHOD_CODE, FND_API.G_MISS_CHAR, SHIP_METHOD_CODE, p_SHIP_METHOD_CODE),
              FREIGHT_TERMS_CODE = decode( p_FREIGHT_TERMS_CODE, FND_API.G_MISS_CHAR, FREIGHT_TERMS_CODE, p_FREIGHT_TERMS_CODE),
              FREIGHT_CARRIER_CODE = decode( p_FREIGHT_CARRIER_CODE, FND_API.G_MISS_CHAR, FREIGHT_CARRIER_CODE, p_FREIGHT_CARRIER_CODE),
              FOB_CODE = decode( p_FOB_CODE, FND_API.G_MISS_CHAR, FOB_CODE, p_FOB_CODE),
              SHIPPING_INSTRUCTIONS = decode( p_SHIPPING_INSTRUCTIONS, FND_API.G_MISS_CHAR, SHIPPING_INSTRUCTIONS, p_SHIPPING_INSTRUCTIONS),
              PACKING_INSTRUCTIONS = decode( p_PACKING_INSTRUCTIONS, FND_API.G_MISS_CHAR, PACKING_INSTRUCTIONS, p_PACKING_INSTRUCTIONS),
              QUANTITY = decode( p_QUANTITY, FND_API.G_MISS_NUM, QUANTITY, p_QUANTITY),
              RESERVED_QUANTITY = decode( p_RESERVED_QUANTITY, FND_API.G_MISS_CHAR, RESERVED_QUANTITY, p_RESERVED_QUANTITY),
              RESERVATION_ID = decode( p_RESERVATION_ID, FND_API.G_MISS_NUM, RESERVATION_ID, p_RESERVATION_ID),
              ORDER_LINE_ID = decode( p_ORDER_LINE_ID, FND_API.G_MISS_NUM, ORDER_LINE_ID, p_ORDER_LINE_ID),
              ATTRIBUTE_CATEGORY = decode( p_ATTRIBUTE_CATEGORY, FND_API.G_MISS_CHAR, ATTRIBUTE_CATEGORY, p_ATTRIBUTE_CATEGORY),
              ATTRIBUTE1 = decode( p_ATTRIBUTE1, FND_API.G_MISS_CHAR, ATTRIBUTE1, p_ATTRIBUTE1),
              ATTRIBUTE2 = decode( p_ATTRIBUTE2, FND_API.G_MISS_CHAR, ATTRIBUTE2, p_ATTRIBUTE2),
              ATTRIBUTE3 = decode( p_ATTRIBUTE3, FND_API.G_MISS_CHAR, ATTRIBUTE3, p_ATTRIBUTE3),
              ATTRIBUTE4 = decode( p_ATTRIBUTE4, FND_API.G_MISS_CHAR, ATTRIBUTE4, p_ATTRIBUTE4),
              ATTRIBUTE5 = decode( p_ATTRIBUTE5, FND_API.G_MISS_CHAR, ATTRIBUTE5, p_ATTRIBUTE5),
              ATTRIBUTE6 = decode( p_ATTRIBUTE6, FND_API.G_MISS_CHAR, ATTRIBUTE6, p_ATTRIBUTE6),
              ATTRIBUTE7 = decode( p_ATTRIBUTE7, FND_API.G_MISS_CHAR, ATTRIBUTE7, p_ATTRIBUTE7),
              ATTRIBUTE8 = decode( p_ATTRIBUTE8, FND_API.G_MISS_CHAR, ATTRIBUTE8, p_ATTRIBUTE8),
              ATTRIBUTE9 = decode( p_ATTRIBUTE9, FND_API.G_MISS_CHAR, ATTRIBUTE9, p_ATTRIBUTE9),
              ATTRIBUTE10 = decode( p_ATTRIBUTE10, FND_API.G_MISS_CHAR, ATTRIBUTE10, p_ATTRIBUTE10),
              ATTRIBUTE11 = decode( p_ATTRIBUTE11, FND_API.G_MISS_CHAR, ATTRIBUTE11, p_ATTRIBUTE11),
              ATTRIBUTE12 = decode( p_ATTRIBUTE12, FND_API.G_MISS_CHAR, ATTRIBUTE12, p_ATTRIBUTE12),
              ATTRIBUTE13 = decode( p_ATTRIBUTE13, FND_API.G_MISS_CHAR, ATTRIBUTE13, p_ATTRIBUTE13),
              ATTRIBUTE14 = decode( p_ATTRIBUTE14, FND_API.G_MISS_CHAR, ATTRIBUTE14, p_ATTRIBUTE14),
              ATTRIBUTE15 = decode( p_ATTRIBUTE15, FND_API.G_MISS_CHAR, ATTRIBUTE15, p_ATTRIBUTE15),
              ATTRIBUTE16 = decode( p_ATTRIBUTE16, FND_API.G_MISS_CHAR, ATTRIBUTE16, p_ATTRIBUTE16),
              ATTRIBUTE17 = decode( p_ATTRIBUTE17, FND_API.G_MISS_CHAR, ATTRIBUTE17, p_ATTRIBUTE17),
              ATTRIBUTE18 = decode( p_ATTRIBUTE18, FND_API.G_MISS_CHAR, ATTRIBUTE18, p_ATTRIBUTE18),
              ATTRIBUTE19 = decode( p_ATTRIBUTE19, FND_API.G_MISS_CHAR, ATTRIBUTE19, p_ATTRIBUTE19),
              ATTRIBUTE20 = decode( p_ATTRIBUTE20, FND_API.G_MISS_CHAR, ATTRIBUTE20, p_ATTRIBUTE20),
              SHIPMENT_PRIORITY_CODE = decode( p_SHIPMENT_PRIORITY_CODE, FND_API.G_MISS_CHAR, SHIPMENT_PRIORITY_CODE, p_SHIPMENT_PRIORITY_CODE),
              SHIP_QUOTE_PRICE = decode( p_SHIP_QUOTE_PRICE, FND_API.G_MISS_NUM, SHIP_QUOTE_PRICE, p_SHIP_QUOTE_PRICE),
		    SHIP_FROM_ORG_ID = decode( p_SHIP_FROM_ORG_ID, FND_API.G_MISS_NUM, SHIP_FROM_ORG_ID, p_SHIP_FROM_ORG_ID),
		    SHIP_TO_CUST_PARTY_ID = decode( p_SHIP_TO_CUST_PARTY_ID, FND_API.G_MISS_NUM, SHIP_TO_CUST_PARTY_ID, p_SHIP_TO_CUST_PARTY_ID),
              SHIP_METHOD_CODE_FROM = decode( p_SHIP_METHOD_CODE_FROM, FND_API.G_MISS_CHAR, SHIP_METHOD_CODE_FROM, p_SHIP_METHOD_CODE_FROM),
              FREIGHT_TERMS_CODE_FROM = decode( p_FREIGHT_TERMS_CODE_FROM, FND_API.G_MISS_CHAR, FREIGHT_TERMS_CODE_FROM, p_FREIGHT_TERMS_CODE_FROM),
		    OBJECT_VERSION_NUMBER = decode( p_OBJECT_VERSION_NUMBER, FND_API.G_MISS_NUM, nvl(OBJECT_VERSION_NUMBER,0)+1, nvl(p_OBJECT_VERSION_NUMBER, nvl(OBJECT_VERSION_NUMBER,0))+1),

          REQUEST_DATE_TYPE =  decode( p_REQUEST_DATE_TYPE, FND_API.G_MISS_CHAR, REQUEST_DATE_TYPE, p_REQUEST_DATE_TYPE),
          DEMAND_CLASS_CODE =  decode( p_DEMAND_CLASS_CODE, FND_API.G_MISS_CHAR, DEMAND_CLASS_CODE, p_DEMAND_CLASS_CODE)

              where SHIPMENT_ID = p_SHIPMENT_ID;

    If (SQL%NOTFOUND) then
        RAISE NO_DATA_FOUND;
    End If;
END Update_Row;

PROCEDURE Delete_Row(
    p_SHIPMENT_ID  NUMBER)
 IS
 BEGIN
   DELETE FROM ASO_SHIPMENTS
    WHERE SHIPMENT_ID = p_SHIPMENT_ID;
   If (SQL%NOTFOUND) then
       RAISE NO_DATA_FOUND;
   End If;
 END Delete_Row;

PROCEDURE Lock_Row(
          --p_OBJECT_VERSION_NUMBER  NUMBER,
          p_SHIPMENT_ID    NUMBER,
          p_CREATION_DATE    DATE,
          p_CREATED_BY    NUMBER,
          p_LAST_UPDATE_DATE    DATE,
          p_LAST_UPDATED_BY    NUMBER,
          p_LAST_UPDATE_LOGIN    NUMBER,
          p_REQUEST_ID    NUMBER,
          p_PROGRAM_APPLICATION_ID    NUMBER,
          p_PROGRAM_ID    NUMBER,
          p_PROGRAM_UPDATE_DATE    DATE,
          p_QUOTE_HEADER_ID    NUMBER,
          p_QUOTE_LINE_ID    NUMBER,
          p_PROMISE_DATE    DATE,
          p_REQUEST_DATE    DATE,
          p_SCHEDULE_SHIP_DATE    DATE,
          p_SHIP_TO_PARTY_SITE_ID    NUMBER,
          p_SHIP_TO_PARTY_ID    NUMBER,
          p_SHIP_PARTIAL_FLAG    VARCHAR2,
          p_SHIP_SET_ID    NUMBER,
          p_SHIP_METHOD_CODE    VARCHAR2,
          p_FREIGHT_TERMS_CODE    VARCHAR2,
          p_FREIGHT_CARRIER_CODE    VARCHAR2,
          p_FOB_CODE    VARCHAR2,
          p_SHIPPING_INSTRUCTIONS    VARCHAR2,
          p_PACKING_INSTRUCTIONS    VARCHAR2,
          p_QUANTITY    NUMBER,
          p_RESERVED_QUANTITY    VARCHAR2,
          p_RESERVATION_ID    NUMBER,
          p_ORDER_LINE_ID    NUMBER,
          p_ATTRIBUTE_CATEGORY    VARCHAR2,
          p_ATTRIBUTE1    VARCHAR2,
          p_ATTRIBUTE2    VARCHAR2,
          p_ATTRIBUTE3    VARCHAR2,
          p_ATTRIBUTE4    VARCHAR2,
          p_ATTRIBUTE5    VARCHAR2,
          p_ATTRIBUTE6    VARCHAR2,
          p_ATTRIBUTE7    VARCHAR2,
          p_ATTRIBUTE8    VARCHAR2,
          p_ATTRIBUTE9    VARCHAR2,
          p_ATTRIBUTE10    VARCHAR2,
          p_ATTRIBUTE11    VARCHAR2,
          p_ATTRIBUTE12    VARCHAR2,
          p_ATTRIBUTE13    VARCHAR2,
          p_ATTRIBUTE14    VARCHAR2,
          p_ATTRIBUTE15    VARCHAR2,
          p_SHIPMENT_PRIORITY_CODE   VARCHAR2,
          p_SHIP_QUOTE_PRICE    NUMBER,
		p_SHIP_FROM_ORG_ID NUMBER
          )

 IS
   CURSOR C IS
        SELECT SHIPMENT_PRIORITY_CODE,
	   --OBJECT_VERSION_NUMBER,
SHIPMENT_ID,
CREATION_DATE,
CREATED_BY,
LAST_UPDATE_DATE,
LAST_UPDATED_BY,
LAST_UPDATE_LOGIN,
REQUEST_ID,
PROGRAM_APPLICATION_ID,
PROGRAM_ID,
PROGRAM_UPDATE_DATE,
QUOTE_HEADER_ID,
QUOTE_LINE_ID,
PROMISE_DATE,
REQUEST_DATE,
SCHEDULE_SHIP_DATE,
SHIP_TO_PARTY_SITE_ID,
SHIP_TO_PARTY_ID,
SHIP_PARTIAL_FLAG,
SHIP_SET_ID,
SHIP_METHOD_CODE,
FREIGHT_TERMS_CODE,
FREIGHT_CARRIER_CODE,
FOB_CODE,
SHIPPING_INSTRUCTIONS,
PACKING_INSTRUCTIONS,
QUANTITY,
RESERVED_QUANTITY,
RESERVATION_ID,
ORDER_LINE_ID,
ATTRIBUTE_CATEGORY,
ATTRIBUTE1,
ATTRIBUTE2,
ATTRIBUTE3,
ATTRIBUTE4,
ATTRIBUTE5,
ATTRIBUTE6,
ATTRIBUTE7,
ATTRIBUTE8,
ATTRIBUTE9,
ATTRIBUTE10,
ATTRIBUTE11,
ATTRIBUTE12,
ATTRIBUTE13,
ATTRIBUTE14,
ATTRIBUTE15,
SHIP_QUOTE_PRICE,
SHIP_FROM_ORG_ID
         FROM ASO_SHIPMENTS
        WHERE SHIPMENT_ID =  p_SHIPMENT_ID
        FOR UPDATE of SHIPMENT_ID NOWAIT;
   Recinfo C%ROWTYPE;
 BEGIN
    OPEN C;
    FETCH C INTO Recinfo;
    If (C%NOTFOUND) then
        CLOSE C;
        FND_MESSAGE.SET_NAME('FND', 'FORM_RECORD_DELETED');
        APP_EXCEPTION.RAISE_EXCEPTION;
    End If;
    CLOSE C;
    if (
/*
           (      Recinfo.SHIPMENT_ID = p_SHIPMENT_ID)
       AND (    ( Recinfo.CREATION_DATE = p_CREATION_DATE)
            OR (    ( Recinfo.CREATION_DATE IS NULL )
                AND (  p_CREATION_DATE IS NULL )))
       AND (    ( Recinfo.CREATED_BY = p_CREATED_BY)
            OR (    ( Recinfo.CREATED_BY IS NULL )
                AND (  p_CREATED_BY IS NULL )))
       AND
*/
	  (    ( Recinfo.LAST_UPDATE_DATE = p_LAST_UPDATE_DATE)
            OR (    ( Recinfo.LAST_UPDATE_DATE IS NULL )
                AND (  p_LAST_UPDATE_DATE IS NULL )))
/*
      AND
	  (    ( Recinfo.OBJECT_VERSION_NUMBER = p_OBJECT_VERSION_NUMBER)
	     OR (    ( Recinfo.OBJECT_VERSION_NUMBER IS NULL )
		        AND (  p_OBJECT_VERSION_NUMBER IS NULL )))
       AND (    ( Recinfo.LAST_UPDATED_BY = p_LAST_UPDATED_BY)
            OR (    ( Recinfo.LAST_UPDATED_BY IS NULL )
                AND (  p_LAST_UPDATED_BY IS NULL )))
       AND (    ( Recinfo.LAST_UPDATE_LOGIN = p_LAST_UPDATE_LOGIN)
            OR (    ( Recinfo.LAST_UPDATE_LOGIN IS NULL )
                AND (  p_LAST_UPDATE_LOGIN IS NULL )))
       AND (    ( Recinfo.REQUEST_ID = p_REQUEST_ID)
            OR (    ( Recinfo.REQUEST_ID IS NULL )
                AND (  p_REQUEST_ID IS NULL )))
       AND (    ( Recinfo.PROGRAM_APPLICATION_ID = p_PROGRAM_APPLICATION_ID)
            OR (    ( Recinfo.PROGRAM_APPLICATION_ID IS NULL )
                AND (  p_PROGRAM_APPLICATION_ID IS NULL )))
       AND (    ( Recinfo.PROGRAM_ID = p_PROGRAM_ID)
            OR (    ( Recinfo.PROGRAM_ID IS NULL )
                AND (  p_PROGRAM_ID IS NULL )))
       AND (    ( Recinfo.PROGRAM_UPDATE_DATE = p_PROGRAM_UPDATE_DATE)
            OR (    ( Recinfo.PROGRAM_UPDATE_DATE IS NULL )
                AND (  p_PROGRAM_UPDATE_DATE IS NULL )))
       AND (    ( Recinfo.QUOTE_HEADER_ID = p_QUOTE_HEADER_ID)
            OR (    ( Recinfo.QUOTE_HEADER_ID IS NULL )
                AND (  p_QUOTE_HEADER_ID IS NULL )))
       AND (    ( Recinfo.QUOTE_LINE_ID = p_QUOTE_LINE_ID)
            OR (    ( Recinfo.QUOTE_LINE_ID IS NULL )
                AND (  p_QUOTE_LINE_ID IS NULL )))
       AND (    ( Recinfo.PROMISE_DATE = p_PROMISE_DATE)
            OR (    ( Recinfo.PROMISE_DATE IS NULL )
                AND (  p_PROMISE_DATE IS NULL )))
       AND (    ( Recinfo.REQUEST_DATE = p_REQUEST_DATE)
            OR (    ( Recinfo.REQUEST_DATE IS NULL )
                AND (  p_REQUEST_DATE IS NULL )))
       AND (    ( Recinfo.SCHEDULE_SHIP_DATE = p_SCHEDULE_SHIP_DATE)
            OR (    ( Recinfo.SCHEDULE_SHIP_DATE IS NULL )
                AND (  p_SCHEDULE_SHIP_DATE IS NULL )))
       AND (    ( Recinfo.SHIP_TO_PARTY_SITE_ID = p_SHIP_TO_PARTY_SITE_ID)
            OR (    ( Recinfo.SHIP_TO_PARTY_SITE_ID IS NULL )
                AND (  p_SHIP_TO_PARTY_SITE_ID IS NULL )))
       AND (    ( Recinfo.SHIP_TO_PARTY_ID = p_SHIP_TO_PARTY_ID)
            OR (    ( Recinfo.SHIP_TO_PARTY_ID IS NULL )
                AND (  p_SHIP_TO_PARTY_ID IS NULL )))
       AND (    ( Recinfo.SHIP_PARTIAL_FLAG = p_SHIP_PARTIAL_FLAG)
            OR (    ( Recinfo.SHIP_PARTIAL_FLAG IS NULL )
                AND (  p_SHIP_PARTIAL_FLAG IS NULL )))
       AND (    ( Recinfo.SHIP_SET_ID = p_SHIP_SET_ID)
            OR (    ( Recinfo.SHIP_SET_ID IS NULL )
                AND (  p_SHIP_SET_ID IS NULL )))
       AND (    ( Recinfo.SHIP_METHOD_CODE = p_SHIP_METHOD_CODE)
            OR (    ( Recinfo.SHIP_METHOD_CODE IS NULL )
                AND (  p_SHIP_METHOD_CODE IS NULL )))
       AND (    ( Recinfo.FREIGHT_TERMS_CODE = p_FREIGHT_TERMS_CODE)
            OR (    ( Recinfo.FREIGHT_TERMS_CODE IS NULL )
                AND (  p_FREIGHT_TERMS_CODE IS NULL )))
       AND (    ( Recinfo.FREIGHT_CARRIER_CODE = p_FREIGHT_CARRIER_CODE)
            OR (    ( Recinfo.FREIGHT_CARRIER_CODE IS NULL )
                AND (  p_FREIGHT_CARRIER_CODE IS NULL )))
       AND (    ( Recinfo.FOB_CODE = p_FOB_CODE)
            OR (    ( Recinfo.FOB_CODE IS NULL )
                AND (  p_FOB_CODE IS NULL )))
       AND (    ( Recinfo.SHIPPING_INSTRUCTIONS = p_SHIPPING_INSTRUCTIONS)
            OR (    ( Recinfo.SHIPPING_INSTRUCTIONS IS NULL )
                AND (  p_SHIPPING_INSTRUCTIONS IS NULL )))
       AND (    ( Recinfo.PACKING_INSTRUCTIONS = p_PACKING_INSTRUCTIONS)
            OR (    ( Recinfo.PACKING_INSTRUCTIONS IS NULL )
                AND (  p_PACKING_INSTRUCTIONS IS NULL )))
       AND (    ( Recinfo.QUANTITY = p_QUANTITY)
            OR (    ( Recinfo.QUANTITY IS NULL )
                AND (  p_QUANTITY IS NULL )))
       AND (    ( Recinfo.RESERVED_QUANTITY = p_RESERVED_QUANTITY)
            OR (    ( Recinfo.RESERVED_QUANTITY IS NULL )
                AND (  p_RESERVED_QUANTITY IS NULL )))
       AND (    ( Recinfo.RESERVATION_ID = p_RESERVATION_ID)
            OR (    ( Recinfo.RESERVATION_ID IS NULL )
                AND (  p_RESERVATION_ID IS NULL )))
       AND (    ( Recinfo.ORDER_LINE_ID = p_ORDER_LINE_ID)
            OR (    ( Recinfo.ORDER_LINE_ID IS NULL )
                AND (  p_ORDER_LINE_ID IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE_CATEGORY = p_ATTRIBUTE_CATEGORY)
            OR (    ( Recinfo.ATTRIBUTE_CATEGORY IS NULL )
                AND (  p_ATTRIBUTE_CATEGORY IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE1 = p_ATTRIBUTE1)
            OR (    ( Recinfo.ATTRIBUTE1 IS NULL )
                AND (  p_ATTRIBUTE1 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE2 = p_ATTRIBUTE2)
            OR (    ( Recinfo.ATTRIBUTE2 IS NULL )
                AND (  p_ATTRIBUTE2 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE3 = p_ATTRIBUTE3)
            OR (    ( Recinfo.ATTRIBUTE3 IS NULL )
                AND (  p_ATTRIBUTE3 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE4 = p_ATTRIBUTE4)
            OR (    ( Recinfo.ATTRIBUTE4 IS NULL )
                AND (  p_ATTRIBUTE4 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE5 = p_ATTRIBUTE5)
            OR (    ( Recinfo.ATTRIBUTE5 IS NULL )
                AND (  p_ATTRIBUTE5 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE6 = p_ATTRIBUTE6)
            OR (    ( Recinfo.ATTRIBUTE6 IS NULL )
                AND (  p_ATTRIBUTE6 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE7 = p_ATTRIBUTE7)
            OR (    ( Recinfo.ATTRIBUTE7 IS NULL )
                AND (  p_ATTRIBUTE7 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE8 = p_ATTRIBUTE8)
            OR (    ( Recinfo.ATTRIBUTE8 IS NULL )
                AND (  p_ATTRIBUTE8 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE9 = p_ATTRIBUTE9)
            OR (    ( Recinfo.ATTRIBUTE9 IS NULL )
                AND (  p_ATTRIBUTE9 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE10 = p_ATTRIBUTE10)
            OR (    ( Recinfo.ATTRIBUTE10 IS NULL )
                AND (  p_ATTRIBUTE10 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE11 = p_ATTRIBUTE11)
            OR (    ( Recinfo.ATTRIBUTE11 IS NULL )
                AND (  p_ATTRIBUTE11 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE12 = p_ATTRIBUTE12)
            OR (    ( Recinfo.ATTRIBUTE12 IS NULL )
                AND (  p_ATTRIBUTE12 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE13 = p_ATTRIBUTE13)
            OR (    ( Recinfo.ATTRIBUTE13 IS NULL )
                AND (  p_ATTRIBUTE13 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE14 = p_ATTRIBUTE14)
            OR (    ( Recinfo.ATTRIBUTE14 IS NULL )
                AND (  p_ATTRIBUTE14 IS NULL )))
       AND (    ( Recinfo.ATTRIBUTE15 = p_ATTRIBUTE15)
            OR (    ( Recinfo.ATTRIBUTE15 IS NULL )
                AND (  p_ATTRIBUTE15 IS NULL )))
       AND (    ( Recinfo.SHIPMENT_PRIORITY_CODE = p_SHIPMENT_PRIORITY_CODE)
            OR (    ( Recinfo.SHIPMENT_PRIORITY_CODE IS NULL )
                AND (  p_SHIPMENT_PRIORITY_CODE IS NULL )))
       AND (    ( Recinfo.SHIP_QUOTE_PRICE = p_SHIP_QUOTE_PRICE)
            OR (    ( Recinfo.SHIP_QUOTE_PRICE IS NULL )
                AND (  p_SHIP_QUOTE_PRICE IS NULL )))
*/
       ) then
       return;
   else
       FND_MESSAGE.SET_NAME('FND', 'FORM_RECORD_CHANGED');
       APP_EXCEPTION.RAISE_EXCEPTION;
   End If;
END Lock_Row;

End ASO_SHIPMENTS_PKG;

/
