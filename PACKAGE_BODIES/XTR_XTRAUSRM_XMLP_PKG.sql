--------------------------------------------------------
--  DDL for Package Body XTR_XTRAUSRM_XMLP_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "APPS"."XTR_XTRAUSRM_XMLP_PKG" AS
/* $Header: XTRAUSRMB.pls 120.1 2007/12/28 12:42:04 npannamp noship $ */
  FUNCTION CF_SET_PARAFORMULA RETURN VARCHAR2 IS
  BEGIN
    SELECT
      SUBSTR(USER
            ,1
            ,10)
    INTO CP_PARA
    FROM
      DUAL;
    RETURN (CP_PARA);
  END CF_SET_PARAFORMULA;

  FUNCTION BEFOREREPORT RETURN BOOLEAN IS
    L_DMMY_NUM NUMBER;
    CURSOR GET_LANGUAGE_DESC IS
      SELECT
        ITEM_NAME,
        TEXT LANG_NAME
      FROM
        XTR_SYS_LANGUAGES_VL
      WHERE MODULE_NAME = nvl(P_REPORT_NOS,'XTRAUSRM');
  BEGIN
    P_CONC_REQUEST_ID := FND_GLOBAL.CONC_REQUEST_ID;
    /*SRW.USER_EXIT('FND SRWINIT')*/NULL;
    FOR c IN GET_LANGUAGE_DESC LOOP
      IF C.ITEM_NAME = 'Z1AUDIT_REQUESTS_FROM' THEN
        Z1AUDIT_REQUESTS_FROM := C.LANG_NAME;
      ELSIF C.ITEM_NAME = 'Z1AUDIT_REQUESTS_TO' THEN
        Z1AUDIT_REQUESTS_TO := C.LANG_NAME;
      ELSIF C.ITEM_NAME = 'Z1COLUMN_CHANGED' THEN
        Z1COLUMN_CHANGED := C.LANG_NAME;
      ELSIF C.ITEM_NAME = 'Z1EVENT_TYPE' THEN
        Z1EVENT_TYPE := C.LANG_NAME;
      ELSIF C.ITEM_NAME = 'Z1PARAMETERS' THEN
        Z1PARAMETERS := C.LANG_NAME;
      ELSIF C.ITEM_NAME = 'Z1REPORT_NOS' THEN
        Z1REPORT_NOS := C.LANG_NAME;
      ELSIF C.ITEM_NAME = 'Z1REFERENCE_CODE' THEN
        Z1REFERENCE_CODE := C.LANG_NAME;
      ELSIF C.ITEM_NAME = 'Z1UPDATED_BY' THEN
        Z1UPDATED_BY := C.LANG_NAME;
      ELSIF C.ITEM_NAME = 'Z2END_OF_REPORT' THEN
        Z2END_OF_REPORT := C.LANG_NAME;
      ELSIF C.ITEM_NAME = 'Z2EVENT_TYPE' THEN
        Z2EVENT_TYPE := C.LANG_NAME;
      ELSIF C.ITEM_NAME = 'Z2NAME_OF_COLUMN_CHANGED' THEN
        Z2NAME_OF_COLUMN_CHANGED := C.LANG_NAME;
      ELSIF C.ITEM_NAME = 'Z2NEW_VALUE' THEN
        Z2NEW_VALUE := C.LANG_NAME;
      ELSIF C.ITEM_NAME = 'Z2ORIGINAL_VALUE' THEN
        Z2ORIGINAL_VALUE := C.LANG_NAME;
      ELSIF C.ITEM_NAME = 'Z2REFERENCE_CODE' THEN
        Z2REFERENCE_CODE := C.LANG_NAME;
      ELSIF C.ITEM_NAME = 'Z2UPDATED_BY' THEN
        Z2UPDATED_BY := C.LANG_NAME;
      ELSIF C.ITEM_NAME = 'Z2UPDATE_DATE_TIME' THEN
        Z2UPDATE_DATE_TIME := C.LANG_NAME;
      ELSIF C.ITEM_NAME = 'Z2PAGE' THEN
        Z2PAGE := C.LANG_NAME;
      ELSIF C.ITEM_NAME = 'Z2REPORT' THEN
        Z2REPORT := C.LANG_NAME;
      ELSIF C.ITEM_NAME = 'Z2REQUESTED_BY' THEN
        Z2REQUESTED_BY := C.LANG_NAME;
      END IF;
    END LOOP;
    RETURN (TRUE);
  END BEFOREREPORT;

  FUNCTION AFTERPFORM RETURN BOOLEAN IS
  BEGIN
    P_A_REQUEST_FROM := TO_CHAR(TO_DATE(P_AUDIT_REQUEST_FROM
                                           ,'YYYY/MM/DD HH24:MI:SS')
                                   ,'DD-MON-YYYY');
    P_A_REQUEST_TO := TO_CHAR(TO_DATE(P_AUDIT_REQUEST_TO
                                         ,'YYYY/MM/DD HH24:MI:SS')
                                 ,'DD-MON-YYYY');
    /* P_A_REQUEST_FROM := P_AUDIT_REQUEST_FROM;
    P_A_REQUEST_TO := P_AUDIT_REQUEST_TO;*/
    RETURN (TRUE);
  END AFTERPFORM;

  FUNCTION AFTERREPORT RETURN BOOLEAN IS
  BEGIN
    /*SRW.USER_EXIT('FND SRWEXIT')*/NULL;
    RETURN (TRUE);
  END AFTERREPORT;

  FUNCTION CP_PARA_P RETURN VARCHAR2 IS
  BEGIN
    RETURN CP_PARA;
  END CP_PARA_P;

END XTR_XTRAUSRM_XMLP_PKG;


/
