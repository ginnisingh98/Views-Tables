--------------------------------------------------------
--  DDL for Package Body PAY_PAYRPFAR_XMLP_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "APPS"."PAY_PAYRPFAR_XMLP_PKG" AS
/* $Header: PAYRPFARB.pls 120.1 2008/01/11 10:11:25 srikrish noship $ */
  FUNCTION BEFOREREPORT RETURN BOOLEAN IS
    L_TRACE_VALUE VARCHAR2(10);
  BEGIN
    --HR_STANDARD.EVENT('BEFORE REPORT');
    INSERT INTO FND_SESSIONS
      (SESSION_ID
      ,EFFECTIVE_DATE)
      SELECT
        USERENV('sessionid'),
        TRUNC(SYSDATE)
      FROM
        SYS.DUAL
      WHERE not exists (
        SELECT
          1
        FROM
          FND_SESSIONS FS
        WHERE FS.SESSION_ID = USERENV('sessionid') );
    BEGIN
      SELECT
        PARAMETER_VALUE
      INTO
        L_TRACE_VALUE
      FROM
        PAY_ACTION_PARAMETERS
      WHERE PARAMETER_NAME = 'TRACE';
      IF L_TRACE_VALUE = 'Y' THEN
        EXECUTE IMMEDIATE
          'ALTER SESSION SET SQL_TRACE TRUE';
      END IF;
    EXCEPTION
      WHEN NO_DATA_FOUND THEN
        NULL;
    END;
    RETURN (TRUE);
  END BEFOREREPORT;

  FUNCTION AFTERREPORT RETURN BOOLEAN IS
  BEGIN
    --HR_STANDARD.EVENT('AFTER REPORT');
    RETURN (TRUE);
  END AFTERREPORT;

  FUNCTION CF_COUNT_SHORT_NAMEFORMULA(CS_COUNT_SHORT_NAME IN NUMBER) RETURN NUMBER IS
  BEGIN
    CP_COUNT_SHORT_NAME := CS_COUNT_SHORT_NAME;
    RETURN 1;
  END CF_COUNT_SHORT_NAMEFORMULA;

  FUNCTION CF_STATUSFORMULA RETURN CHAR IS
  BEGIN
    DECLARE
      V_MEANING VARCHAR2(80);
    BEGIN
      SELECT
        MEANING
      INTO
        V_MEANING
      FROM
        HR_LOOKUPS
      WHERE LOOKUP_TYPE = 'TRIGGER_STATUS'
        AND LOOKUP_CODE = P_STATUS;
      CP_STATUS := V_MEANING;
      RETURN CP_STATUS;
    END;
  END CF_STATUSFORMULA;

  FUNCTION CF_ENABLED_FLAGFORMULA RETURN CHAR IS
  BEGIN
    DECLARE
      V_MEANING VARCHAR2(80);
    BEGIN
      SELECT
        MEANING
      INTO
        V_MEANING
      FROM
        HR_LOOKUPS
      WHERE LOOKUP_TYPE = 'YES_NO'
        AND LOOKUP_CODE = P_ENABLED_FLAG;
      CP_ENABLED_FLAG := V_MEANING;
      RETURN CP_ENABLED_FLAG;
    END;
  END CF_ENABLED_FLAGFORMULA;

  FUNCTION CP_COUNT_SHORT_NAME_P RETURN NUMBER IS
  BEGIN
    RETURN CP_COUNT_SHORT_NAME;
  END CP_COUNT_SHORT_NAME_P;

  FUNCTION CP_ENABLED_FLAG_P RETURN VARCHAR2 IS
  BEGIN
    RETURN CP_ENABLED_FLAG;
  END CP_ENABLED_FLAG_P;

  FUNCTION CP_STATUS_P RETURN VARCHAR2 IS
  BEGIN
    RETURN CP_STATUS;
  END CP_STATUS_P;



END PAY_PAYRPFAR_XMLP_PKG;

/
