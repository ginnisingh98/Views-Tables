--------------------------------------------------------
--  DDL for Package PA_EVENTS_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE "APPS"."PA_EVENTS_PKG" AUTHID CURRENT_USER as
/* $Header: PAXPREVS.pls 120.2 2007/02/07 10:42:51 rgandhi ship $ */

  PROCEDURE Insert_Row(X_Rowid                   IN OUT NOCOPY  VARCHAR2,
                       X_Event_Id                IN OUT NOCOPY  NUMBER,
                       X_Task_Id                        NUMBER,
                       X_Event_Num                      NUMBER,
                       X_Last_Update_Date               DATE,
                       X_Last_Updated_By                NUMBER,
                       X_Creation_Date                  DATE,
                       X_Created_By                     NUMBER,
                       X_Last_Update_Login              NUMBER,
                       X_Event_Type                     VARCHAR2,
                       X_Description                    VARCHAR2,
                       X_Bill_Amount                    NUMBER,
                       X_Revenue_Amount                 NUMBER,
                       X_Revenue_Distributed_Flag       VARCHAR2,
                       X_Zero_Revenue_Amount_Flag       VARCHAR2 DEFAULT 'N',
                       X_Bill_Hold_Flag                 VARCHAR2,
                       X_Completion_Date                DATE,
                       X_Rev_Dist_Rejection_Code        VARCHAR2,
                       X_Attribute_Category             VARCHAR2,
                       X_Attribute1                     VARCHAR2,
                       X_Attribute2                     VARCHAR2,
                       X_Attribute3                     VARCHAR2,
                       X_Attribute4                     VARCHAR2,
                       X_Attribute5                     VARCHAR2,
                       X_Attribute6                     VARCHAR2,
                       X_Attribute7                     VARCHAR2,
                       X_Attribute8                     VARCHAR2,
                       X_Attribute9                     VARCHAR2,
                       X_Attribute10                    VARCHAR2,
                       X_Project_Id                     NUMBER,
                       X_Organization_Id                NUMBER,
                       X_Billing_Assignment_Id          NUMBER,
                       X_Event_Num_Reversed             NUMBER,
                       X_Calling_Place                  VARCHAR2,
                       X_Calling_Process                VARCHAR2,
                       X_Bill_Trans_Currency_Code       VARCHAR2,/* All the 36 columns from here is added for MCB2 */
                       X_Bill_Trans_Bill_Amount         NUMBER,
                       X_Bill_Trans_rev_Amount          NUMBER,
                       X_Project_Currency_Code          VARCHAR2,
                       X_Project_Rate_Type              VARCHAR2,
                       X_Project_Rate_Date              DATE,
                       X_Project_Exchange_Rate          NUMBER,
                       X_Project_Inv_Rate_Date          DATE,
                       X_Project_Inv_Exchange_Rate      NUMBER,
                       X_Project_Bill_Amount            NUMBER,
                       X_Project_Rev_Rate_Date          DATE,
                       X_Project_Rev_Exchange_Rate      NUMBER,
                       X_Project_Revenue_Amount         NUMBER,
                       X_ProjFunc_Currency_Code         VARCHAR2,
                       X_ProjFunc_Rate_Type             VARCHAR2,
                       X_ProjFunc_Rate_Date             DATE,
                       X_ProjFunc_Exchange_Rate         NUMBER,
                       X_ProjFunc_Inv_Rate_Date         DATE,
                       X_ProjFunc_Inv_Exchange_Rate     NUMBER,
                       X_ProjFunc_Bill_Amount           NUMBER,
                       X_ProjFunc_Rev_Rate_Date         DATE,
                       X_Projfunc_Rev_Exchange_Rate     NUMBER,
                       X_ProjFunc_Revenue_Amount        NUMBER,
                       X_Funding_Rate_Type              VARCHAR2,
                       X_Funding_Rate_Date              DATE,
                       X_Funding_Exchange_Rate          NUMBER,
                       X_Invproc_Currency_Code          VARCHAR2,
                       X_Invproc_Rate_Type              VARCHAR2,
                       X_Invproc_Rate_Date              DATE,
                       X_Invproc_Exchange_Rate          NUMBER,
                       X_Revproc_Currency_Code          VARCHAR2,
                       X_Revproc_Rate_Type              VARCHAR2,
                       X_Revproc_Rate_Date              DATE,
                       X_Revproc_Exchange_Rate          NUMBER,
                       X_Inv_Gen_Rejection_Code         VARCHAR2,
                       X_Adjusting_Revenue_Flag         VARCHAR2  DEFAULT 'N',
/* Added default for Bug 2483089 - For Bug 2261314 */
                       X_non_updateable_flag             IN  VARCHAR2  DEFAULT 'N',
                       X_revenue_hold_flag               IN  VARCHAR2  DEFAULT 'N',
                       X_project_funding_id              IN  NUMBER  DEFAULT NULL,
                --Start of changes for events amg
                       X_product_code                   VARCHAR2 DEFAULT NULL,
                       X_event_reference                VARCHAR2 DEFAULT NULL,
                       X_inventory_org_id               NUMBER   DEFAULT NULL,
                       X_inventory_item_id              NUMBER   DEFAULT NULL,
		       X_quantity_billed		NUMBER	   DEFAULT NULL,
                        X_uom_code                      VARCHAR2   DEFAULT NULL,
                        X_unit_price                    NUMBER     DEFAULT NULL,
			X_reference1			VARCHAR2   DEFAULT NULL,
			X_reference2			VARCHAR2   DEFAULT NULL,
			X_reference3			VARCHAR2   DEFAULT NULL,
			X_reference4			VARCHAR2   DEFAULT NULL,
			X_reference5			VARCHAR2   DEFAULT NULL,
			X_reference6			VARCHAR2   DEFAULT NULL,
			X_reference7			VARCHAR2   DEFAULT NULL,
			X_reference8			VARCHAR2   DEFAULT NULL,
			X_reference9			VARCHAR2   DEFAULT NULL,
			X_reference10			VARCHAR2   DEFAULT NULL,
			X_Deliverable_Id		NUMBER   DEFAULT NULL,
			X_Action_Id	                NUMBER   DEFAULT NULL,
			X_Record_Version_Number         NUMBER   DEFAULT NULL,

                --End of changes for events amg
                        X_Agreement_ID                  NUMBER   DEFAULT NULL  -- Federal Uptake
                      );

  PROCEDURE Lock_Row(X_Rowid                            VARCHAR2,
		     X_Event_Id			        NUMBER,
                     X_Task_Id                          NUMBER,
                     X_Event_Num                        NUMBER,
                     X_Event_Type                       VARCHAR2,
                     X_Description                      VARCHAR2,
                     X_Bill_Amount                      NUMBER,
                     X_Revenue_Amount                   NUMBER,
                     X_Revenue_Distributed_Flag         VARCHAR2,
                     --X_Zero_Revenue_Amount_Flag         VARCHAR2,
                     X_Bill_Hold_Flag                   VARCHAR2,
                     X_Completion_Date                  DATE,
                     X_Rev_Dist_Rejection_Code          VARCHAR2,
                     X_Attribute_Category               VARCHAR2,
                     X_Attribute1                       VARCHAR2,
                     X_Attribute2                       VARCHAR2,
                     X_Attribute3                       VARCHAR2,
                     X_Attribute4                       VARCHAR2,
                     X_Attribute5                       VARCHAR2,
                     X_Attribute6                       VARCHAR2,
                     X_Attribute7                       VARCHAR2,
                     X_Attribute8                       VARCHAR2,
                     X_Attribute9                       VARCHAR2,
                     X_Attribute10                      VARCHAR2,
                     X_Project_Id                       NUMBER,
                     X_Organization_Id                  NUMBER,
                     X_Billing_Assignment_Id            NUMBER,
                     X_Event_Num_Reversed               NUMBER,
                     X_Calling_Place                    VARCHAR2,
                     X_Calling_Process                  VARCHAR2,
                     X_Bill_Trans_Currency_Code         VARCHAR2,/* All the 36 columns from here is added for MCB2 */
                     X_Bill_Trans_Bill_Amount           NUMBER,
                     X_Bill_Trans_rev_Amount            NUMBER,
                     X_Project_Currency_Code            VARCHAR2,
                     X_Project_Rate_Type                VARCHAR2,
                     X_Project_Rate_Date                DATE,
                     X_Project_Exchange_Rate            NUMBER,
                     X_Project_Inv_Rate_Date            DATE,
                     X_Project_Inv_Exchange_Rate        NUMBER,
                     X_Project_Bill_Amount              NUMBER,
                     X_Project_Rev_Rate_Date            DATE,
                     X_Project_Rev_Exchange_Rate        NUMBER,
                     X_Project_Revenue_Amount           NUMBER,
                     X_ProjFunc_Currency_Code           VARCHAR2,
                     X_ProjFunc_Rate_Type               VARCHAR2,
                     X_ProjFunc_Rate_Date               DATE,
                     X_ProjFunc_Exchange_Rate           NUMBER,
                     X_ProjFunc_Inv_Rate_Date           DATE,
                     X_ProjFunc_Inv_Exchange_Rate       NUMBER,
                     X_ProjFunc_Bill_Amount             NUMBER,
                     X_ProjFunc_Rev_Rate_Date           DATE,
                     X_Projfunc_Rev_Exchange_Rate       NUMBER,
                     X_ProjFunc_Revenue_Amount          NUMBER,
                     X_Funding_Rate_Type                VARCHAR2,
                     X_Funding_Rate_Date                DATE,
                     X_Funding_Exchange_Rate            NUMBER,
                     X_Invproc_Currency_Code            VARCHAR2,
                     X_Invproc_Rate_Type                VARCHAR2,
                     X_Invproc_Rate_Date                DATE,
                     X_Invproc_Exchange_Rate            NUMBER,
                     X_Revproc_Currency_Code            VARCHAR2,
                     X_Revproc_Rate_Type                VARCHAR2,
                     X_Revproc_Rate_Date                DATE,
                     X_Revproc_Exchange_Rate            NUMBER,
                     X_Inv_Gen_Rejection_Code           VARCHAR2,
                     X_Adjusting_Revenue_Flag           VARCHAR2,  /* For Bug 2261314 */
                     X_Agreement_ID                     NUMBER     DEFAULT NULL  -- Federal Uptake
                    );




  PROCEDURE Update_Row(X_Rowid                          VARCHAR2,
                       X_Event_Id                       NUMBER,
                       X_Task_Id                        NUMBER,
                       X_Event_Num                      NUMBER,
                       X_Last_Update_Date               DATE,
                       X_Last_Updated_By                NUMBER,
                       X_Last_Update_Login              NUMBER,
                       X_Event_Type                     VARCHAR2,
                       X_Description                    VARCHAR2,
                       X_Bill_Amount                    NUMBER,
                       X_Revenue_Amount                 NUMBER,
                       X_Revenue_Distributed_Flag       VARCHAR2,
                       /*  X_Zero_Revenue_Amount_Flag       VARCHAR2,  */
                       X_Bill_Hold_Flag                 VARCHAR2,
                       X_Completion_Date                DATE,
                       X_Rev_Dist_Rejection_Code        VARCHAR2,
                       X_Attribute_Category             VARCHAR2,
                       X_Attribute1                     VARCHAR2,
                       X_Attribute2                     VARCHAR2,
                       X_Attribute3                     VARCHAR2,
                       X_Attribute4                     VARCHAR2,
                       X_Attribute5                     VARCHAR2,
                       X_Attribute6                     VARCHAR2,
                       X_Attribute7                     VARCHAR2,
                       X_Attribute8                     VARCHAR2,
                       X_Attribute9                     VARCHAR2,
                       X_Attribute10                    VARCHAR2,
                       X_Project_Id                     NUMBER,
                       X_Organization_Id                NUMBER,
                       X_Billing_Assignment_Id          NUMBER,
                       X_Event_Num_Reversed             NUMBER,
                       X_Calling_Place                  VARCHAR2,
                       X_Calling_Process                VARCHAR2,
                       X_Bill_Trans_Currency_Code       VARCHAR2,/* All the 36 columns from here is added for MCB2 */
                       X_Bill_Trans_Bill_Amount         NUMBER,
                       X_Bill_Trans_rev_Amount          NUMBER,
                       X_Project_Currency_Code          VARCHAR2,
                       X_Project_Rate_Type              VARCHAR2,
                       X_Project_Rate_Date              DATE,
                       X_Project_Exchange_Rate          NUMBER,
                       X_Project_Inv_Rate_Date          DATE,
                       X_Project_Inv_Exchange_Rate      NUMBER,
                       X_Project_Bill_Amount            NUMBER,
                       X_Project_Rev_Rate_Date          DATE,
                       X_Project_Rev_Exchange_Rate      NUMBER,
                       X_Project_Revenue_Amount         NUMBER,
                       X_ProjFunc_Currency_Code         VARCHAR2,
                       X_ProjFunc_Rate_Type             VARCHAR2,
                       X_ProjFunc_Rate_Date             DATE,
                       X_ProjFunc_Exchange_Rate         NUMBER,
                       X_ProjFunc_Inv_Rate_Date         DATE,
                       X_ProjFunc_Inv_Exchange_Rate     NUMBER,
                       X_ProjFunc_Bill_Amount           NUMBER,
                       X_ProjFunc_Rev_Rate_Date         DATE,
                       X_Projfunc_Rev_Exchange_Rate     NUMBER,
                       X_ProjFunc_Revenue_Amount        NUMBER,
                       X_Funding_Rate_Type              VARCHAR2,
                       X_Funding_Rate_Date              DATE,
                       X_Funding_Exchange_Rate          NUMBER,
                       X_Invproc_Currency_Code          VARCHAR2,
                       X_Invproc_Rate_Type              VARCHAR2,
                       X_Invproc_Rate_Date              DATE,
                       X_Invproc_Exchange_Rate          NUMBER,
                       X_Revproc_Currency_Code          VARCHAR2,
                       X_Revproc_Rate_Type              VARCHAR2,
                       X_Revproc_Rate_Date              DATE,
                       X_Revproc_Exchange_Rate          NUMBER,
                       X_Inv_Gen_Rejection_Code         VARCHAR2,
                       X_Adjusting_Revenue_Flag         VARCHAR2,  /* For Bug 2261314 */
                --Start of changes for events amg
                       X_inventory_org_id               NUMBER   DEFAULT NULL,
                       X_inventory_item_id              NUMBER   DEFAULT NULL,
                       X_quantity_billed                NUMBER     DEFAULT NULL,
                        X_uom_code                      VARCHAR2   DEFAULT NULL,
                        X_unit_price                    NUMBER     DEFAULT NULL,
                        X_reference1                    VARCHAR2   DEFAULT NULL,
                        X_reference2                    VARCHAR2   DEFAULT NULL,
                        X_reference3                    VARCHAR2   DEFAULT NULL,
                        X_reference4                    VARCHAR2   DEFAULT NULL,
                        X_reference5                    VARCHAR2   DEFAULT NULL,
                        X_reference6                    VARCHAR2   DEFAULT NULL,
                        X_reference7                    VARCHAR2   DEFAULT NULL,
                        X_reference8                    VARCHAR2   DEFAULT NULL,
                        X_reference9                    VARCHAR2   DEFAULT NULL,
                        X_reference10                   VARCHAR2   DEFAULT NULL,
                --End of changes for events amg
                        X_Agreement_ID                  NUMBER     DEFAULT NULL   -- Federal Uptake
                      );
  PROCEDURE Delete_Row(X_Rowid VARCHAR2);
  FUNCTION Is_Event_Processed(X_Project_Id		NUMBER,
				X_Task_Id		NUMBER,
				X_Event_Num		NUMBER,
				X_Revenue_Distributed	VARCHAR2,
				X_Bill_Amount		NUMBER)
	RETURN VARCHAR2;
  PRAGMA RESTRICT_REFERENCES(Is_Event_Processed, WNDS, WNPS);

function Is_Event_Billed(
                     x_project_id         in    number,
                     x_task_id            in    number,
                     x_event_num          in    number,
                     x_bill_amount        in    number) return varchar2;

 pragma RESTRICT_REFERENCES( Is_Event_Billed, WNDS, WNPS );

END PA_EVENTS_PKG;

/
