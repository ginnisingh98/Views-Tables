--------------------------------------------------------
--  DDL for Package IEM_CLIENT_PUB
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE "APPS"."IEM_CLIENT_PUB" AUTHID CURRENT_USER as
/* $Header: iempclts.pls 120.1 2006/04/27 11:49:00 txliu noship $*/


PROCEDURE getWork (p_api_version_number    IN   NUMBER,
                   p_init_msg_list         IN   VARCHAR2,
                   p_commit                IN   VARCHAR2,
                   p_resource_id           IN   NUMBER,
                   p_email_account_id      IN   NUMBER,
                   p_classification_id     IN   NUMBER,
                   x_return_status         OUT NOCOPY  VARCHAR2,
                   x_msg_count             OUT NOCOPY  NUMBER,
                   x_msg_data              OUT NOCOPY  VARCHAR2,
                   x_rt_media_item_id      OUT NOCOPY  NUMBER,
                   x_email_account_id      OUT NOCOPY  NUMBER,
                   x_oes_id                OUT NOCOPY  NUMBER,
                   x_folder_name           OUT NOCOPY  VARCHAR2,
                   x_folder_uid            OUT NOCOPY  NUMBER,
                   x_rt_interaction_id     OUT NOCOPY  NUMBER,
                   x_customer_id           OUT NOCOPY  NUMBER,
                   x_rfc822_message_id     OUT NOCOPY  VARCHAR2,
                   x_route_classification  OUT NOCOPY  VARCHAR2,
                   x_mdt_message_id        OUT NOCOPY  NUMBER,
                   x_service_request_id    OUT NOCOPY  NUMBER,
                   x_contact_id            OUT NOCOPY  NUMBER,
                   x_classification_id     OUT NOCOPY  NUMBER,
                   x_lead_id               OUT NOCOPY  NUMBER,
                   x_relationship_id       OUT NOCOPY  NUMBER
                   );



PROCEDURE getIHID  (p_api_version_number    IN   NUMBER,
                   p_init_msg_list         IN   VARCHAR2,
                   p_commit                IN   VARCHAR2,
                   p_action                IN   VARCHAR2,
                   p_action_id             IN   NUMBER,
                   p_rt_media_item_id      IN   NUMBER,
                   p_version               IN   NUMBER,
                   p_customer_id           IN   NUMBER,
                   p_activity_type_id      IN   NUMBER,
                   p_outcome_id            IN   NUMBER,
                   p_result_id             IN   NUMBER,
                   p_reason_id             IN   NUMBER,
                   p_resource_id           IN   NUMBER,
                   x_return_status         OUT NOCOPY  VARCHAR2,
                   x_msg_count             OUT NOCOPY  NUMBER,
                   x_msg_data              OUT NOCOPY  VARCHAR2,
                   x_interaction_id        OUT NOCOPY  NUMBER,
                   x_sr_id                 OUT NOCOPY  NUMBER,
                   x_lead_id                 OUT NOCOPY  NUMBER
                   );

PROCEDURE wrapUp  (p_api_version_number    IN   NUMBER,
                   p_init_msg_list         IN   VARCHAR2,
                   p_commit                IN   VARCHAR2,
                   p_action                IN   VARCHAR2,
                   p_action_id             IN   NUMBER,
                   p_rt_media_item_id      IN   NUMBER,
                   p_version               IN   NUMBER,
                   p_customer_id           IN   NUMBER,
                   p_activity_type_id      IN   NUMBER,
                   p_outcome_id            IN   NUMBER,
                   p_result_id             IN   NUMBER,
                   p_reason_id             IN   NUMBER,
                   p_to_resource_id        IN   NUMBER,
                   p_subject               IN   VARCHAR2,
                   p_to_address            IN   VARCHAR2,
                   p_transfer_msg_flag     IN   VARCHAR2,
                   p_to_account_id         IN   NUMBER,
                   p_to_classi_id          IN   NUMBER,
                   p_reroute_type          IN   NUMBER,
                   x_return_status         OUT NOCOPY  VARCHAR2,
                   x_msg_count             OUT NOCOPY  NUMBER,
                   x_msg_data              OUT NOCOPY  VARCHAR2
                   );


PROCEDURE recoverCompose  (p_api_version_number    IN   NUMBER,
                           p_init_msg_list         IN   VARCHAR2,
                           p_commit                IN   VARCHAR2,
                           p_resource_id           IN   NUMBER,
                           x_return_status         OUT NOCOPY  VARCHAR2,
                           x_msg_count             OUT NOCOPY  NUMBER,
                           x_msg_data              OUT NOCOPY  VARCHAR2,
                           x_rfc822_message_id     OUT NOCOPY  VARCHAR2,
                           x_account_id            OUT NOCOPY  NUMBER,
                           x_account_type          OUT NOCOPY  VARCHAR2,
                           x_email_type            OUT NOCOPY  VARCHAR2,
                           x_status                OUT NOCOPY  VARCHAR2,
                           x_version               OUT NOCOPY  NUMBER,
                           x_rt_media_item_id      OUT NOCOPY  NUMBER,
                           x_rt_interaction_id     OUT NOCOPY  NUMBER,
                           x_oes_id                OUT NOCOPY  NUMBER,
                           x_folder_name           OUT NOCOPY  VARCHAR2,
                           x_folder_uid            OUT NOCOPY  NUMBER,
                           x_customer_id           OUT NOCOPY  NUMBER
                           );

PROCEDURE getMediaDetails (p_api_version_number    IN   NUMBER,
                           p_init_msg_list         IN   VARCHAR2,
                           p_commit                IN   VARCHAR2,
                           p_rt_media_item_id      IN   NUMBER,
                           p_version               IN   NUMBER,
                           p_email_type            IN   VARCHAR2,
                           x_return_status         OUT NOCOPY  VARCHAR2,
                           x_msg_count             OUT NOCOPY  NUMBER,
                           x_msg_data              OUT NOCOPY  VARCHAR2,
                           x_rfc822_message_id     OUT NOCOPY  VARCHAR2,
                           x_account_id            OUT NOCOPY  NUMBER,
                           x_account_type          OUT NOCOPY  VARCHAR2,
                           x_email_type            OUT NOCOPY  VARCHAR2,
                           x_status                OUT NOCOPY  VARCHAR2,
                           x_version               OUT NOCOPY  NUMBER,
                           x_rt_media_item_id      OUT NOCOPY  NUMBER,
                           x_rt_interaction_id     OUT NOCOPY  NUMBER,
                           x_oes_id                OUT NOCOPY  NUMBER,
                           x_folder_name           OUT NOCOPY  VARCHAR2,
                           x_message_id            OUT NOCOPY  NUMBER,  -- change to iem_rt_proc_emails.message_id since 11.5.11
                           x_customer_id           OUT NOCOPY  NUMBER,
                           x_interaction_id        OUT NOCOPY  NUMBER,
                           x_service_request_id    OUT NOCOPY  NUMBER,
                           x_mc_parameter_id       OUT NOCOPY  NUMBER,
                           x_service_request_action   OUT NOCOPY   VARCHAR2,
                           x_contact_id            OUT NOCOPY   NUMBER,
                           x_parent_ih_id          OUT NOCOPY   NUMBER,
                           x_tag_id                OUT NOCOPY   VARCHAR2,
                           x_edit_mode             OUT NOCOPY   VARCHAR2,
                           x_lead_id               OUT NOCOPY   NUMBER,
                           x_resource_id           OUT NOCOPY   NUMBER,
                           x_relationship_id       OUT NOCOPY   NUMBER,
                           x_ih_media_id           OUT NOCOPY   NUMBER
                           );


PROCEDURE getSearchDetails (p_api_version_number    IN   NUMBER,
                           p_init_msg_list         IN   VARCHAR2,
                           p_commit                IN   VARCHAR2,
                           p_agentAccount_id       IN   NUMBER,
                           p_message_id            IN   NUMBER,
                           p_folder_name           IN   VARCHAR2,
                           p_email_type            IN   VARCHAR2,
                           x_return_status         OUT NOCOPY  VARCHAR2,
                           x_msg_count             OUT NOCOPY  NUMBER,
                           x_msg_data              OUT NOCOPY  VARCHAR2,
                           x_rfc822_message_id     OUT NOCOPY  VARCHAR2,
                           x_account_id            OUT NOCOPY  NUMBER,
                           x_account_type          OUT NOCOPY  VARCHAR2,
                           x_email_type            OUT NOCOPY  VARCHAR2,
                           x_status                OUT NOCOPY  VARCHAR2,
                           x_version               OUT NOCOPY  NUMBER,
                           x_rt_media_item_id      OUT NOCOPY  NUMBER,
                           x_rt_interaction_id     OUT NOCOPY  NUMBER,
                           x_oes_id                OUT NOCOPY  NUMBER,
                           x_folder_name           OUT NOCOPY  VARCHAR2,
                           x_folder_uid            OUT NOCOPY  NUMBER,
                           x_customer_id           OUT NOCOPY  NUMBER,
                           x_route_classification  OUT NOCOPY  VARCHAR2,
                           x_route_classification_id  OUT NOCOPY  NUMBER,
                           x_mdt_message_id        OUT NOCOPY  NUMBER,
                           x_interaction_id        OUT NOCOPY   NUMBER,
                           x_service_request_id    OUT NOCOPY  NUMBER,
                           x_mc_parameter_id       OUT NOCOPY   NUMBER,
                           x_service_request_action   OUT NOCOPY   VARCHAR,
                           x_contact_id            OUT NOCOPY   NUMBER,
                           x_parent_interaction_id          OUT NOCOPY   NUMBER,
                           x_tag_id                OUT NOCOPY   VARCHAR,
                           x_lead_id               OUT NOCOPY  NUMBER
                           );


PROCEDURE createMediaDetails (p_api_version_number    IN   NUMBER,
                              p_init_msg_list         IN   VARCHAR2,
                              p_commit                IN   VARCHAR2,
                              p_resource_id           IN   NUMBER,
                              p_rfc822_message_id     IN   VARCHAR2,
                              p_folder_name           IN   VARCHAR2,
                              p_folder_uid            IN   NUMBER,
                              p_account_id            IN   NUMBER,
                              p_account_type          IN   VARCHAR2,
                              p_status                IN   VARCHAR2,
                              p_customer_id           IN   NUMBER,
                              p_rt_media_item_id      IN   NUMBER,
                              p_subject               IN   VARCHAR2,
                              p_interaction_id        IN   NUMBER,
                              p_service_request_id    IN   NUMBER,
                              p_mc_parameter_id       IN   NUMBER,
                              p_service_request_action   IN   VARCHAR,
                              p_contact_id            IN   NUMBER,
                              p_lead_id               IN  NUMBER,
                              p_parent_ih_id          IN  NUMBER,
                              p_action_id             IN  NUMBER,
                              p_relationship_id       IN  NUMBER,
                              x_return_status         OUT NOCOPY  VARCHAR2,
                              x_msg_count             OUT NOCOPY  NUMBER,
                              x_msg_data              OUT NOCOPY  VARCHAR2,
                              x_version               OUT NOCOPY  NUMBER,
                              x_rt_media_item_id      OUT NOCOPY  NUMBER,
                              x_rt_interaction_id     OUT NOCOPY  NUMBER
                              );

PROCEDURE updateMediaDetails (p_api_version_number    IN   NUMBER,
                              p_init_msg_list         IN   VARCHAR2,
                              p_commit                IN   VARCHAR2,
                              p_rfc822_message_id     IN   VARCHAR2,
                              p_folder_name           IN   VARCHAR2,
                              p_folder_uid            IN   NUMBER,
                              p_account_id            IN   NUMBER,
                              p_account_type          IN   VARCHAR2,
                              p_status                IN   VARCHAR2,
                              p_customer_id           IN   NUMBER,
                              p_rt_media_item_id      IN   NUMBER,
                              p_version               IN   NUMBER,
                              p_interaction_id        IN   NUMBER,
                              p_service_request_id    IN   NUMBER,
                              p_mc_parameter_id       IN   NUMBER,
                              p_service_request_action   IN   VARCHAR2,
                              p_contact_id            IN   NUMBER,
                              p_parent_interaction_id IN   NUMBER,
                              p_tag_id                IN   VARCHAR2,
                              p_edit_mode             IN   VARCHAR2,
                              p_lead_id               IN   NUMBER,
                              p_relationship_id       IN   NUMBER,
                              x_return_status         OUT NOCOPY  VARCHAR2,
                              x_msg_count             OUT NOCOPY  NUMBER,
                              x_msg_data              OUT NOCOPY  VARCHAR2,
                              x_version               OUT NOCOPY  NUMBER
                              );

PROCEDURE purgeOutbound (p_api_version_number    IN   NUMBER,
                         p_init_msg_list         IN   VARCHAR2,
                         p_commit                IN   VARCHAR2,
                         x_return_status         OUT NOCOPY  VARCHAR2,
                         x_msg_count             OUT NOCOPY  NUMBER,
                         x_msg_data              OUT NOCOPY  VARCHAR2
                        );


PROCEDURE assignMsg (p_api_version_number    IN   NUMBER,
                   p_init_msg_list         IN   VARCHAR2,
                   p_commit                IN   VARCHAR2,
                   p_message_id            IN   NUMBER,
                   p_to_resource_id        IN   NUMBER,
                   p_from_resource_id      IN   NUMBER,
                   x_return_status         OUT NOCOPY  VARCHAR2,
                   x_msg_count             OUT NOCOPY  NUMBER,
                   x_msg_data              OUT NOCOPY  VARCHAR2,
                   x_rt_media_item_id      OUT NOCOPY  NUMBER,
                   x_email_account_id      OUT NOCOPY  NUMBER,
                   x_oes_id                OUT NOCOPY  NUMBER,
                   x_folder_name           OUT NOCOPY  VARCHAR2,
                   x_folder_uid            OUT NOCOPY  NUMBER,
                   x_rt_interaction_id     OUT NOCOPY  NUMBER,
                   x_customer_id           OUT NOCOPY  NUMBER,
                   x_rfc822_message_id     OUT NOCOPY  VARCHAR2,
                   x_route_classification  OUT NOCOPY  VARCHAR2,
                   x_mdt_message_id        OUT NOCOPY  NUMBER,
                   x_service_request_id    OUT NOCOPY  NUMBER,
                   x_contact_id            OUT NOCOPY  NUMBER,
                   x_lead_id               OUT NOCOPY  NUMBER,
                   x_relationship_id       OUT NOCOPY  NUMBER
                  );

PROCEDURE queueToOutbox  (p_api_version_number    IN   NUMBER,
                   p_init_msg_list         IN   VARCHAR2,
                   p_commit                IN   VARCHAR2,
                   p_action                IN   VARCHAR2,
                   p_action_id             IN   NUMBER,
                   p_rt_media_item_id      IN   NUMBER,
                   p_version               IN   NUMBER,
                   p_customer_id           IN   NUMBER,
                   p_activity_type_id      IN   NUMBER,
                   p_outcome_id            IN   NUMBER,
                   p_result_id             IN   NUMBER,
                   p_reason_id             IN   NUMBER,
                   p_to_resource_id        IN   NUMBER,
                   p_status                IN   VARCHAR2,
                   x_return_status         OUT NOCOPY  VARCHAR2,
                   x_msg_count             OUT NOCOPY  NUMBER,
                   x_msg_data              OUT NOCOPY  VARCHAR2
                   );

PROCEDURE getNextOutboxItem (p_api_version_number    IN   NUMBER,
                           p_init_msg_list         IN   VARCHAR2,
                           p_commit                IN   VARCHAR2,
                           p_failed                IN   VARCHAR2,  -- 'T' or 'F'
                           x_return_status         OUT NOCOPY  VARCHAR2,
                           x_msg_count             OUT NOCOPY  NUMBER,
                           x_msg_data              OUT NOCOPY  VARCHAR2,
                           x_rfc822_message_id     OUT NOCOPY  VARCHAR2,
                           x_account_id            OUT NOCOPY  NUMBER,
                           x_account_type          OUT NOCOPY  VARCHAR2,
                           x_email_type            OUT NOCOPY  VARCHAR2,
                           x_status                OUT NOCOPY  VARCHAR2,
                           x_version               OUT NOCOPY  NUMBER,
                           x_rt_media_item_id      OUT NOCOPY  NUMBER,
                           x_rt_interaction_id     OUT NOCOPY  NUMBER,
                           x_oes_id                OUT NOCOPY  NUMBER,
                           x_folder_name           OUT NOCOPY  VARCHAR2,
                           x_folder_uid            OUT NOCOPY  NUMBER,
                           x_customer_id           OUT NOCOPY  NUMBER,
                           x_interaction_id        OUT NOCOPY   NUMBER,
                           x_service_request_id    OUT NOCOPY  NUMBER,
                           x_mc_parameter_id       OUT NOCOPY   NUMBER,
                           x_service_request_action   OUT NOCOPY   VARCHAR,
                           x_contact_id            OUT NOCOPY   NUMBER,
                           x_parent_ih_id          OUT NOCOPY   NUMBER,
                           x_tag_id                OUT NOCOPY   VARCHAR,
                           x_rt_ih_status          OUT NOCOPY   VARCHAR,
                           x_action_id             OUT NOCOPY   NUMBER,
                           x_action_item_id        OUT NOCOPY   NUMBER,
                           x_result_id             OUT NOCOPY   NUMBER,
                           x_reason_id             OUT NOCOPY   NUMBER,
                           x_outcome_id            OUT NOCOPY   NUMBER,
                           x_to_resource_id        OUT NOCOPY   NUMBER,
                           x_resource_id           OUT NOCOPY   NUMBER,
                           x_lead_id               OUT NOCOPY  NUMBER
                          );

PROCEDURE createRTItem (p_api_version_number    IN   NUMBER,
  p_init_msg_list         IN   VARCHAR2,
  p_commit                IN   VARCHAR2,
  p_message_id            IN   NUMBER, -- iem_post_mdts.message_id
  p_to_resource_id        IN   NUMBER, -- agent id you want to stamp to iem_post_mdts.agent_id
  p_from_resource_id      IN   NUMBER, -- agent id you want to stamp to iem_post_mdts.from_agent_id
  p_status                IN   VARCHAR2, -- this will be stamp to iem_post_mdts.mail_item_status
  p_reason                IN   VARCHAR2, -- 'O' for auto-route
  p_interaction_id        IN   NUMBER,
  x_return_status         OUT NOCOPY  VARCHAR2,
  x_msg_count             OUT NOCOPY  NUMBER,
  x_msg_data              OUT NOCOPY  VARCHAR2,
  x_rt_media_item_id      OUT NOCOPY  NUMBER,
  x_rt_interaction_id     OUT NOCOPY  NUMBER
  );

PROCEDURE isAgentInboxClean(p_api_version_number    IN   NUMBER,
                           p_init_msg_list         IN   VARCHAR2,
                           p_commit                IN   VARCHAR2,
                           p_resource_id           IN   NUMBER,
                           p_email_account_id      IN   NUMBER,
                           x_is_clean              OUT NOCOPY  BOOLEAN,
                           x_return_status         OUT NOCOPY  VARCHAR2,
                           x_msg_count             OUT NOCOPY  NUMBER,
                           x_msg_data              OUT NOCOPY  VARCHAR2
);

PROCEDURE updateOutboundMessageID(p_api_version_number    IN   NUMBER,
                                  p_init_msg_list         IN   VARCHAR2,
                                  p_commit                IN   VARCHAR2,
                                  p_rt_media_item_id      IN   NUMBER,
                                  p_message_id            IN   NUMBER,
                                  x_return_status         OUT NOCOPY  VARCHAR2,
                                  x_msg_count             OUT NOCOPY  NUMBER,
                                  x_msg_data              OUT NOCOPY  VARCHAR2
);

END IEM_CLIENT_PUB;

 

/
