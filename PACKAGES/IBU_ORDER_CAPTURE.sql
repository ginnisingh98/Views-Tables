--------------------------------------------------------
--  DDL for Package IBU_ORDER_CAPTURE
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE "APPS"."IBU_ORDER_CAPTURE" 
/* $Header: ibuordrs.pls 115.19.1159.1 2003/05/23 22:21:52 appldev ship $ */
AUTHID CURRENT_USER as

TYPE HEADER_REC_TYPE IS RECORD (
       QUOTE_HEADER_ID                 NUMBER := FND_API.G_MISS_NUM,
       ORG_ID                          NUMBER := FND_API.G_MISS_NUM,
       QUOTE_SOURCE_CODE               VARCHAR2(240) := FND_API.G_MISS_CHAR,
       PARTY_ID                        NUMBER := FND_API.G_MISS_NUM,  --pass in
       CUST_ACCOUNT_ID                 NUMBER := FND_API.G_MISS_NUM,  --pass in
       ORG_CONTACT_ID                  NUMBER := FND_API.G_MISS_NUM,  --pass in
       INVOICE_TO_PARTY_SITE_ID        NUMBER := FND_API.G_MISS_NUM,  --pass in
       ORDER_TYPE_ID                   NUMBER := FND_API.G_MISS_NUM,
       QUOTE_CATEGORY_CODE             VARCHAR2(240) := FND_API.G_MISS_CHAR,
       ORDERED_DATE                    DATE := FND_API.G_MISS_DATE,
       EMPLOYEE_PERSON_ID              NUMBER := FND_API.G_MISS_NUM,
       PRICE_LIST_ID                   NUMBER := FND_API.G_MISS_NUM,
       CURRENCY_CODE                   VARCHAR2(15) := FND_API.G_MISS_CHAR
);

TYPE HEADER_TBL_TYPE	IS TABLE OF HEADER_REC_TYPE
                                    INDEX BY BINARY_INTEGER;

TYPE HEADER_SHIPMENT_REC_TYPE IS RECORD (
	SCHEDULE_SHIP_DATE              DATE := FND_API.G_MISS_DATE,   --pass in
        REQUEST_DATE                    DATE := FND_API.G_MISS_DATE,
	SHIP_TO_PARTY_SITE_ID           NUMBER := FND_API.G_MISS_NUM,  --pass in
	SHIP_TO_PARTY_ID                NUMBER := FND_API.G_MISS_NUM,
	FREIGHT_CARRIER_CODE            VARCHAR2(30) := FND_API.G_MISS_CHAR,  --pass in
	QUANTITY                        NUMBER := FND_API.G_MISS_NUM
);

TYPE LINE_REC_TYPE IS RECORD (
	LINE_ID				NUMBER, 		--pass in
	OPERATION_CODE                VARCHAR2(30) := FND_API.G_MISS_CHAR,
	ORG_ID                          NUMBER := FND_API.G_MISS_NUM,
	LINE_CATEGORY_CODE              VARCHAR2(30) := FND_API.G_MISS_CHAR,
	ORDER_LINE_TYPE_ID              NUMBER := FND_API.G_MISS_NUM,
	INVOICE_TO_PARTY_SITE_ID        NUMBER := FND_API.G_MISS_NUM,	--pass in
	INVOICE_TO_PARTY_ID             NUMBER := FND_API.G_MISS_NUM,
	ORGANIZATION_ID                 NUMBER := FND_API.G_MISS_NUM,
	INVENTORY_ITEM_ID               NUMBER := FND_API.G_MISS_NUM,
	QUANTITY                        NUMBER := FND_API.G_MISS_NUM,	--pass in
	UOM_CODE                        VARCHAR2(3) := FND_API.G_MISS_CHAR,
	PRICE_LIST_ID                   NUMBER := FND_API.G_MISS_NUM,
	CURRENCY_CODE                   VARCHAR2(15) := FND_API.G_MISS_CHAR,
	LINE_LIST_PRICE                 NUMBER := FND_API.G_MISS_NUM,
	LINE_QUOTE_PRICE                NUMBER := FND_API.G_MISS_NUM
);

TYPE LINE_TBL_TYPE	IS TABLE OF LINE_REC_TYPE
                                    INDEX BY BINARY_INTEGER;


TYPE LINE_DTL_REC_TYPE  is RECORD (
	OPERATION_CODE                VARCHAR2(30) := FND_API.G_MISS_CHAR,
	QTE_LINE_INDEX                NUMBER := FND_API.G_MISS_NUM,

	RETURN_REF_TYPE                 VARCHAR2(30) := FND_API.G_MISS_CHAR,
	RETURN_REF_HEADER_ID            NUMBER := FND_API.G_MISS_NUM,	--not used by om currently
	RETURN_REF_LINE_ID              NUMBER := FND_API.G_MISS_NUM,	--not used by om currently


	RETURN_ATTRIBUTE1               VARCHAR2(240) := FND_API.G_MISS_CHAR,
	RETURN_ATTRIBUTE2               VARCHAR2(240) := FND_API.G_MISS_CHAR,
	RETURN_ATTRIBUTE3               VARCHAR2(240) := FND_API.G_MISS_CHAR,
	RETURN_ATTRIBUTE4               VARCHAR2(240) := FND_API.G_MISS_CHAR,
	RETURN_REASON_CODE              VARCHAR2(30) := FND_API.G_MISS_CHAR  --pass in
);

TYPE LINE_DTL_TBL_TYPE	IS TABLE OF LINE_DTL_REC_TYPE
                                    INDEX BY BINARY_INTEGER;

TYPE LINE_SHIPMENT_REC_TYPE  is RECORD (
	OPERATION_CODE                VARCHAR2(30) := FND_API.G_MISS_CHAR,
	QTE_LINE_INDEX                NUMBER := FND_API.G_MISS_NUM,
	SCHEDULE_SHIP_DATE              DATE := FND_API.G_MISS_DATE,	--pass in
        REQUEST_DATE                    DATE := FND_API.G_MISS_DATE,
	SHIP_TO_PARTY_SITE_ID           NUMBER := FND_API.G_MISS_NUM,	--pass in
	SHIP_TO_PARTY_ID                NUMBER := FND_API.G_MISS_NUM,
	FREIGHT_CARRIER_CODE            VARCHAR2(30) := FND_API.G_MISS_CHAR,	--pass in
	QUANTITY                        NUMBER := FND_API.G_MISS_NUM	--pass in

);


TYPE LINE_SHIPMENT_TBL_TYPE	IS TABLE OF LINE_SHIPMENT_REC_TYPE
                                    INDEX BY BINARY_INTEGER;
TYPE RETURN_HEADER_REC_TYPE IS RECORD (
       ORDER_NUMBER          NUMBER := FND_API.G_MISS_NUM,
       ORDER_HEADER_ID       NUMBER := FND_API.G_MISS_NUM,
       STATUS                VARCHAR2(150) := FND_API.G_MISS_CHAR
);

TYPE RETURN_LINE_REC_TYPE IS RECORD (
       ORDER_LINE_ID         NUMBER := FND_API.G_MISS_NUM,
       ORDER_HEADER_ID       NUMBER := FND_API.G_MISS_NUM,
       STATUS                VARCHAR2(150) := FND_API.G_MISS_CHAR
);

TYPE RETURN_LINE_TBL_TYPE IS TABLE OF RETURN_LINE_REC_TYPE
                          INDEX BY BINARY_INTEGER;

PROCEDURE CREATE_RETURN (
	p_api_version_number     IN   NUMBER,
	p_init_msg_list          IN   VARCHAR2  := FND_API.G_FALSE,
        p_commit       IN VARCHAR          := FND_API.G_FALSE,
	p_header_id    IN	NUMBER,
	HEADER_REC IN HEADER_REC_TYPE,
	HEADER_SHIPMENT_REC IN HEADER_SHIPMENT_REC_TYPE,
	LINE_TBL	IN LINE_TBL_TYPE,
	LINE_DTL_TBL	IN LINE_DTL_TBL_TYPE,
	LINE_SHIPMENT_TBL	IN LINE_SHIPMENT_TBL_TYPE,
	X_MSG_COUNT	OUT     NOCOPY NUMBER,
     X_MSG_DATA	OUT     NOCOPY VARCHAR2,
  	X_RETURN_STATUS	OUT  NOCOPY VARCHAR2,
	X_RETURN_HEADER_REC	OUT	NOCOPY RETURN_HEADER_REC_TYPE,
	X_RETURN_LINE_TBL	OUT 	NOCOPY RETURN_LINE_TBL_TYPE
);

PROCEDURE Get_Messages (p_message_count IN  NUMBER,
			x_msgs		OUT NOCOPY VARCHAR2);

FUNCTION GET_RETURN_LINES_TOTAL(
	P_HEADER_ID    IN	NUMBER)
	RETURN NUMBER;

end ibu_order_capture;

 

/
