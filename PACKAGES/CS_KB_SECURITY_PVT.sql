--------------------------------------------------------
--  DDL for Package CS_KB_SECURITY_PVT
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE "APPS"."CS_KB_SECURITY_PVT" AUTHID CURRENT_USER AS
/* $Header: cskvkss.pls 120.1 2006/03/27 15:26:40 allau noship $ */

 INVALID_IN_PARAMETERS EXCEPTION;
 INSERT_FAILED         EXCEPTION;
 UPDATE_FAILED         EXCEPTION;
 DUPLICATE_VISIBILITY  EXCEPTION;
 DUPLICATE_CATEGORY_GROUP EXCEPTION;
 DUP_CATEGORY_GROUP_MEMBER EXCEPTION;
 UNABLE_TO_DELETE_VIS EXCEPTION;
 DELETE_FAILED EXCEPTION;
 CG_MEMBERS_EXIST EXCEPTION;
 CG_FLOWS_EXIST EXCEPTION;
 INV_SEC_CAT_GRP EXCEPTION;
 INV_SEC_SOLN_VIS EXCEPTION;
 INV_SEC_STMT_VIS EXCEPTION;
 INDEX_SYNC_FAILED EXCEPTION;
 CG_NOT_FOUND EXCEPTION;

procedure CREATE_VISIBILITY (
  P_VISIBILITY_ID       IN          NUMBER,
  P_ADD_BEFORE_VISIBILITY IN          NUMBER,
  P_ADD_AFTER_VISIBILITY  IN          NUMBER,
  P_START_DATE_ACTIVE   IN          DATE,
  P_END_DATE_ACTIVE     IN          DATE,
  P_NAME                IN          VARCHAR2,
  P_DESCRIPTION         IN          VARCHAR2,
  P_ATTRIBUTE_CATEGORY IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE1 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE2 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE3 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE4 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE5 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE6 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE7 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE8 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE9 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE10 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE11 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE12 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE13 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE14 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE15 IN VARCHAR2 DEFAULT NULL,
  X_RETURN_STATUS       OUT NOCOPY  VARCHAR2,
  X_MSG_DATA            OUT NOCOPY  VARCHAR2,
  X_MSG_COUNT           OUT NOCOPY  NUMBER
);

PROCEDURE UPDATE_VISIBILITY (
  P_VISIBILITY_ID         IN          NUMBER,
  P_POSITION              IN          NUMBER,
  P_START_DATE_ACTIVE     IN          DATE,
  P_END_DATE_ACTIVE       IN          DATE,
  P_NAME                  IN          VARCHAR2,
  P_DESCRIPTION           IN          VARCHAR2,
  P_ATTRIBUTE_CATEGORY IN VARCHAR2,
  P_ATTRIBUTE1 IN VARCHAR2,
  P_ATTRIBUTE2 IN VARCHAR2,
  P_ATTRIBUTE3 IN VARCHAR2,
  P_ATTRIBUTE4 IN VARCHAR2,
  P_ATTRIBUTE5 IN VARCHAR2,
  P_ATTRIBUTE6 IN VARCHAR2,
  P_ATTRIBUTE7 IN VARCHAR2,
  P_ATTRIBUTE8 IN VARCHAR2,
  P_ATTRIBUTE9 IN VARCHAR2,
  P_ATTRIBUTE10 IN VARCHAR2,
  P_ATTRIBUTE11 IN VARCHAR2,
  P_ATTRIBUTE12 IN VARCHAR2,
  P_ATTRIBUTE13 IN VARCHAR2,
  P_ATTRIBUTE14 IN VARCHAR2,
  P_ATTRIBUTE15 IN VARCHAR2,
  X_RETURN_STATUS         OUT NOCOPY  VARCHAR2,
  X_MSG_DATA              OUT NOCOPY  VARCHAR2,
  X_MSG_COUNT             OUT NOCOPY  NUMBER
);

procedure DELETE_VISIBILITY (
  P_VISIBILITY_ID       IN          NUMBER,
  X_RETURN_STATUS       OUT NOCOPY  VARCHAR2,
  X_MSG_DATA            OUT NOCOPY  VARCHAR2,
  X_MSG_COUNT           OUT NOCOPY  NUMBER
);

PROCEDURE CREATE_CATEGORY_GROUP (
  P_CATEGORY_GROUP_ID     IN          NUMBER,
  P_START_DATE_ACTIVE     IN          DATE,
  P_END_DATE_ACTIVE       IN          DATE,
  P_NAME                  IN          VARCHAR,
  P_DESCRIPTION           IN          VARCHAR,
  P_ATTRIBUTE_CATEGORY IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE1 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE2 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE3 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE4 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE5 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE6 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE7 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE8 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE9 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE10 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE11 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE12 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE13 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE14 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE15 IN VARCHAR2 DEFAULT NULL,
  X_RETURN_STATUS         OUT NOCOPY  VARCHAR2,
  X_MSG_DATA              OUT NOCOPY  VARCHAR2,
  X_MSG_COUNT             OUT NOCOPY  NUMBER
);

PROCEDURE UPDATE_CATEGORY_GROUP (
  P_CATEGORY_GROUP_ID     IN          NUMBER,
  P_START_DATE_ACTIVE     IN          DATE,
  P_END_DATE_ACTIVE       IN          DATE,
  P_NAME                  IN          VARCHAR,
  P_DESCRIPTION           IN          VARCHAR,
  P_ATTRIBUTE_CATEGORY IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE1 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE2 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE3 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE4 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE5 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE6 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE7 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE8 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE9 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE10 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE11 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE12 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE13 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE14 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE15 IN VARCHAR2 DEFAULT NULL,
  X_RETURN_STATUS         OUT NOCOPY  VARCHAR2,
  X_MSG_DATA              OUT NOCOPY  VARCHAR2,
  X_MSG_COUNT             OUT NOCOPY  NUMBER
);

PROCEDURE DELETE_CATEGORY_GROUP (
  P_CATEGORY_GROUP_ID     IN          NUMBER,
  X_RETURN_STATUS         OUT NOCOPY  VARCHAR2,
  X_MSG_DATA              OUT NOCOPY  VARCHAR2,
  X_MSG_COUNT             OUT NOCOPY  NUMBER
);

FUNCTION POPULATE_CAT_GRP_DENORM (
  P_CATEGORY_GROUP_ID NUMBER
)RETURN VARCHAR2;

FUNCTION REPOPULATE_CAT_GRP_DENORM
 RETURN VARCHAR2;

/*
PROCEDURE UPDATE_DENORM_VIS_POSITION (
  P_VISIBILITY_ID NUMBER,
  P_NEW_POSITION  NUMBER );
*/

PROCEDURE CREATE_CATEGORY_GROUP_MEMBER (
  P_CATEGORY_GROUP_ID     IN          NUMBER,
  P_CATEGORY_ID           IN          NUMBER,
  P_ATTRIBUTE_CATEGORY IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE1 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE2 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE3 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE4 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE5 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE6 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE7 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE8 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE9 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE10 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE11 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE12 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE13 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE14 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE15 IN VARCHAR2 DEFAULT NULL,
  X_RETURN_STATUS         OUT NOCOPY  VARCHAR2,
  X_MSG_DATA              OUT NOCOPY  VARCHAR2,
  X_MSG_COUNT             OUT NOCOPY  NUMBER
);

PROCEDURE DELETE_CATEGORY_GROUP_MEMBER (
  P_CATEGORY_GROUP_ID     IN          NUMBER,
  P_CATEGORY_ID           IN          NUMBER,
  X_RETURN_STATUS         OUT NOCOPY  VARCHAR2,
  X_MSG_DATA              OUT NOCOPY  VARCHAR2,
  X_MSG_COUNT             OUT NOCOPY  NUMBER
);
/*
PROCEDURE CREATE_CATEGORY_GROUP_FLOW (
  P_FLOW_ID               IN          NUMBER,
  P_CATEGORY_GROUP_ID     IN          NUMBER,
  P_ATTRIBUTE_CATEGORY IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE1 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE2 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE3 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE4 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE5 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE6 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE7 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE8 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE9 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE10 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE11 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE12 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE13 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE14 IN VARCHAR2 DEFAULT NULL,
  P_ATTRIBUTE15 IN VARCHAR2 DEFAULT NULL,
  X_RETURN_STATUS         OUT NOCOPY  VARCHAR2,
  X_MSG_DATA              OUT NOCOPY  VARCHAR2,
  X_MSG_COUNT             OUT NOCOPY  NUMBER
);
*/
FUNCTION Get_Category_Group_Id    return number;
FUNCTION Get_Soln_Visibility_Position  return number;
FUNCTION Get_Stmt_Visibility_Position  return number;

PROCEDURE ADD_CAT_GRP_MEMBER_TO_DENORM ( P_CATEGORY_GROUP_ID NUMBER,
                                         P_CATEGORY_ID NUMBER);

PROCEDURE ADD_CATEGORY_TO_DENORM (
  P_CATEGORY_ID        IN NUMBER,
  P_PARENT_CATEGORY_ID IN NUMBER,
  P_VISIBILITY_ID      IN NUMBER,
  X_RETURN_STATUS      OUT NOCOPY  VARCHAR2,
  X_MSG_DATA           OUT NOCOPY  VARCHAR2,
  X_MSG_COUNT          OUT NOCOPY  NUMBER
);

PROCEDURE REMOVE_CG_MEMBER_FROM_DENORM ( P_CATEGORY_GROUP_ID NUMBER,
                                            P_CATEGORY_ID NUMBER);

PROCEDURE UPDATE_CATEGORY_TO_DENORM (
  P_CATEGORY_ID        IN NUMBER,
  P_VISIBILITY_ID      IN NUMBER,
  X_RETURN_STATUS      OUT NOCOPY  VARCHAR2,
  X_MSG_DATA           OUT NOCOPY  VARCHAR2,
  X_MSG_COUNT          OUT NOCOPY  NUMBER
);

PROCEDURE REMOVE_CATEGORY_FROM_CAT_GROUP (
  P_CATEGORY_ID        IN NUMBER,
  X_RETURN_STATUS      OUT NOCOPY  VARCHAR2,
  X_MSG_DATA           OUT NOCOPY  VARCHAR2,
  X_MSG_COUNT          OUT NOCOPY  NUMBER
);

PROCEDURE GET_SECURITY_PROFILES (
  X_CATEGORY_GROUP_ID        OUT NOCOPY NUMBER,
  X_SOLN_VISIBILITY_POSITION OUT NOCOPY NUMBER,
  X_STMT_VISIBILITY_POSITION OUT NOCOPY NUMBER,
  X_RETURN_STATUS            OUT NOCOPY  VARCHAR2,
  X_MSG_DATA                 OUT NOCOPY  VARCHAR2,
  X_MSG_COUNT                OUT NOCOPY  NUMBER
);

PROCEDURE MOVE_CATEGORY_IN_DENORM (
  P_CATEGORY_ID        IN NUMBER,
  X_RETURN_STATUS      OUT NOCOPY  VARCHAR2,
  X_MSG_DATA           OUT NOCOPY  VARCHAR2,
  X_MSG_COUNT          OUT NOCOPY  NUMBER
);

FUNCTION IS_COMPLETE_SOLUTION_VISIBLE ( P_USER_ID  NUMBER,
                                        P_SET_ID   NUMBER) RETURN VARCHAR2;

END CS_KB_SECURITY_PVT;

 

/
