--------------------------------------------------------
--  DDL for Package IEX_PROMISES_BATCH_PUB
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE "APPS"."IEX_PROMISES_BATCH_PUB" AUTHID CURRENT_USER as
/* $Header: iexpyrbs.pls 120.1.12000000.2 2007/07/11 06:50:43 gnramasa ship $ */

TYPE REVERSE_APPL_REC IS RECORD(
    PROMISE_DETAIL_ID       	NUMBER,
    PROMISE_DATE            	DATE,
    STATUS                  	VARCHAR2(30),
    PROMISE_AMOUNT          	NUMBER,
    AMOUNT_DUE_REMAINING    	NUMBER,
    AMOUNT_APPLIED	    	NUMBER,
    receivable_application_id   NUMBER);

TYPE REVERSE_APPLS_TBL IS TABLE OF REVERSE_APPL_REC INDEX BY BINARY_INTEGER;

TYPE PROMISE_REC IS RECORD(
    PROMISE_DETAIL_ID       NUMBER,
    CREATION_DATE           DATE,
    PROMISE_DATE            DATE,
    STATUS                  VARCHAR2(30),
    STATE                   VARCHAR2(30),
    PROMISE_AMOUNT          NUMBER,
    AMOUNT_DUE_REMAINING    NUMBER,
    DELINQUENCY_ID          NUMBER,
    CONTRACT_ID		    NUMBER,
    PAYMENT_SCHEDULE_ID     NUMBER,
    CUST_ACCOUNT_ID         NUMBER);

TYPE PROMISES_TBL IS TABLE OF PROMISE_REC INDEX BY BINARY_INTEGER;

TYPE APPL_REC IS RECORD(
    receivable_application_id       NUMBER,
    ar_applied_amount               NUMBER,
    ar_remaining_amount             NUMBER,
    ar_apply_date                   DATE,
    -- start bug 3635087 gnramasa 10/07/07
    adjustment_id                   NUMBER,
    ar_adjusted_amount              NUMBER,
    ar_adj_remaining_amount         NUMBER,
    ar_adjusted_date                DATE,
    -- End bug 3635087 gnramasa 10/07/07
    pro_applied_amount              NUMBER);

TYPE APPLS_TBL IS TABLE OF APPL_REC INDEX BY BINARY_INTEGER;

PROCEDURE IEX_PROMISES_CONCUR(
    ERRBUF      OUT NOCOPY     VARCHAR2,
    RETCODE     OUT NOCOPY     VARCHAR2,
    P_ORG_ID IN NUMBER DEFAULT NULL);   --Added for MOAC

PROCEDURE CLOSE_PROMISES(
    P_API_VERSION		        IN      NUMBER,
    P_INIT_MSG_LIST		        IN      VARCHAR2 DEFAULT FND_API.G_FALSE,
    P_COMMIT			        IN      VARCHAR2 DEFAULT FND_API.G_FALSE,
    P_VALIDATION_LEVEL	        	IN      NUMBER DEFAULT FND_API.G_VALID_LEVEL_FULL,
    X_RETURN_STATUS		        OUT NOCOPY     VARCHAR2,
    X_MSG_COUNT			        OUT NOCOPY     NUMBER,
    X_MSG_DATA	    	       	 	OUT NOCOPY     VARCHAR2,
    p_payments_tbl		        IN	IEX_PAYMENTS_BATCH_PUB.CL_INV_TBL_TYPE);

PROCEDURE CLOSE_PROMISES(
    P_API_VERSION		    	IN      NUMBER,
    P_INIT_MSG_LIST		    	IN      VARCHAR2 DEFAULT FND_API.G_FALSE,
    P_COMMIT				IN      VARCHAR2 DEFAULT FND_API.G_FALSE,
    P_VALIDATION_LEVEL	    		IN      NUMBER DEFAULT FND_API.G_VALID_LEVEL_FULL,
    X_RETURN_STATUS		    	OUT NOCOPY     VARCHAR2,
    X_MSG_COUNT				OUT NOCOPY     NUMBER,
    X_MSG_DATA	    	    		OUT NOCOPY     VARCHAR2,
    P_DELINQ_TBL			IN	IEX_UTILITIES.t_del_id);

PROCEDURE PROCESS_ALL_PROMISES(
    P_API_VERSION		        IN      NUMBER,
    P_INIT_MSG_LIST		        IN      VARCHAR2 DEFAULT FND_API.G_FALSE,
    P_COMMIT			        IN      VARCHAR2 DEFAULT FND_API.G_FALSE,
    P_VALIDATION_LEVEL	        	IN      NUMBER DEFAULT FND_API.G_VALID_LEVEL_FULL,
    X_RETURN_STATUS		        OUT NOCOPY     VARCHAR2,
    X_MSG_COUNT			        OUT NOCOPY     NUMBER,
    X_MSG_DATA	    	        	OUT NOCOPY     VARCHAR2);

PROCEDURE PROCESS_REVERSALS(
    P_API_VERSION		    	IN      NUMBER,
    P_INIT_MSG_LIST		    	IN      VARCHAR2 DEFAULT FND_API.G_FALSE,
    P_COMMIT				IN      VARCHAR2 DEFAULT FND_API.G_FALSE,
    P_VALIDATION_LEVEL	    		IN      NUMBER DEFAULT FND_API.G_VALID_LEVEL_FULL,
    X_RETURN_STATUS		    	OUT NOCOPY     VARCHAR2,
    X_MSG_COUNT				OUT NOCOPY     NUMBER,
    X_MSG_DATA	    	    		OUT NOCOPY     VARCHAR2,
    P_TYPE                      	IN      VARCHAR2);

PROCEDURE PROCESS_PROMISES(
    P_API_VERSION		    	IN      NUMBER,
    P_INIT_MSG_LIST		    	IN      VARCHAR2 DEFAULT FND_API.G_FALSE,
    P_COMMIT				IN      VARCHAR2 DEFAULT FND_API.G_FALSE,
    P_VALIDATION_LEVEL	    		IN      NUMBER DEFAULT FND_API.G_VALID_LEVEL_FULL,
    X_RETURN_STATUS		    	OUT NOCOPY     VARCHAR2,
    X_MSG_COUNT				OUT NOCOPY     NUMBER,
    X_MSG_DATA	    	    		OUT NOCOPY     VARCHAR2,
    P_TYPE                      	IN      VARCHAR2);

PROCEDURE APPLY_PROMISES_FIFO(
    P_API_VERSION		    	IN      NUMBER,
    P_INIT_MSG_LIST		    	IN      VARCHAR2 DEFAULT FND_API.G_FALSE,
    P_COMMIT				IN      VARCHAR2 DEFAULT FND_API.G_FALSE,
    P_VALIDATION_LEVEL	    		IN      NUMBER DEFAULT FND_API.G_VALID_LEVEL_FULL,
    X_RETURN_STATUS		    	OUT NOCOPY     VARCHAR2,
    X_MSG_COUNT				OUT NOCOPY     NUMBER,
    X_MSG_DATA	    	    		OUT NOCOPY     VARCHAR2,
    P_PROMISES_TBL              	IN OUT NOCOPY  IEX_PROMISES_BATCH_PUB.PROMISES_TBL,
    P_TYPE                      	IN      VARCHAR2);

PROCEDURE PROCESS_PROMISE_CALLBACKS(
    p_api_version             		IN 	NUMBER,
    p_init_msg_list           		IN 	VARCHAR2 DEFAULT FND_API.G_FALSE,
    p_commit                  		IN 	VARCHAR2 DEFAULT FND_API.G_FALSE,
    P_VALIDATION_LEVEL	  		IN    	NUMBER DEFAULT FND_API.G_VALID_LEVEL_FULL,
    x_return_status           		OUT NOCOPY 	VARCHAR2,
    x_msg_count               		OUT NOCOPY 	NUMBER,
    x_msg_data                		OUT NOCOPY 	VARCHAR2);

PROCEDURE REOPEN_PROMISES(
    P_API_VERSION		IN      NUMBER,
    P_INIT_MSG_LIST		IN      VARCHAR2 DEFAULT FND_API.G_FALSE,
    P_COMMIT			IN      VARCHAR2 DEFAULT FND_API.G_FALSE,
    P_VALIDATION_LEVEL	IN      NUMBER DEFAULT FND_API.G_VALID_LEVEL_FULL,
    X_RETURN_STATUS		OUT NOCOPY     VARCHAR2,
    X_MSG_COUNT			OUT NOCOPY     NUMBER,
    X_MSG_DATA	    	OUT NOCOPY     VARCHAR2,
    p_dels_tbl			IN	DBMS_SQL.NUMBER_TABLE /*table of delinquency ids*/);

END;

 

/
