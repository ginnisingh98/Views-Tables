--------------------------------------------------------
--  DDL for Package HR_DISC_CALCULATIONS
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE "APPS"."HR_DISC_CALCULATIONS" AUTHID CURRENT_USER as
/* $Header: hrdicalc.pkh 115.14 2002/08/22 09:21:45 jtitmas ship $ */

-----------------------------------
-- Package functions and procedures
-----------------------------------

  FUNCTION vacancy_hires(p_vacancy          IN VARCHAR2,
                         p_business_group   IN VARCHAR2,
                         p_requisition      IN VARCHAR2,
                         p_applicant_number IN VARCHAR2)
	                 RETURN NUMBER;

  FUNCTION vacancy_offers(p_vacancy         IN VARCHAR2,
                          p_business_group  IN VARCHAR2,
                          p_requisition     IN VARCHAR2)
	                  RETURN NUMBER;

  FUNCTION rec_activity_hires(p_rec_activity     IN VARCHAR2,
                              p_business_group   IN VARCHAR2,
                              p_applicant_number IN VARCHAR2)
	                      RETURN NUMBER;

  FUNCTION rec_activity_offers(p_rec_activity   IN VARCHAR2,
                               p_business_group IN VARCHAR2)
	                       RETURN NUMBER;

  FUNCTION rec_activity_vacancy_hires(p_rec_activity     IN VARCHAR2,
                                      p_vacancy          IN VARCHAR2,
                                      p_business_group   IN VARCHAR2,
                                      p_applicant_number IN VARCHAR2)
                                      RETURN NUMBER;

  FUNCTION rec_activity_vacancy_offers(p_rec_activity     IN VARCHAR2,
                                       p_vacancy          IN VARCHAR2,
                                       p_business_group   IN VARCHAR2)
                                       RETURN NUMBER;

  FUNCTION hiring_cost_current_emp(p_rec_act_id  IN NUMBER,
                                   p_actual_cost IN NUMBER)
                                   RETURN NUMBER;

  FUNCTION active_vacancy(p_date_from IN DATE,
                          p_date_to   IN DATE)
                          RETURN VARCHAR2;

-- Function to determine the appropriate FastFormula Id to be used
-- for calculating manpower actuals

FUNCTION get_manpower_formula_id
(p_business_group_id		IN NUMBER
,p_budget_measurement_code	IN VARCHAR2
)
RETURN NUMBER;
-- Function to calculate manpower actuals for a single assignment

FUNCTION get_ff_actual_value
(p_budget_id		IN NUMBER
,p_formula_id		IN NUMBER
,p_grade_id		IN NUMBER DEFAULT NULL
,p_job_id		IN NUMBER DEFAULT NULL
,p_organization_id	IN NUMBER DEFAULT NULL
,p_position_id		IN NUMBER DEFAULT NULL
,p_time_period_id	IN NUMBER
)
RETURN NUMBER;

-- Function to calculate the Budget Cost of a training event

FUNCTION get_event_budget_cost
(p_event_id		IN NUMBER
)
RETURN NUMBER;

-- Function to calculate the Actual Cost of a training event

FUNCTION get_event_actual_cost
(p_event_id		IN NUMBER
)
RETURN NUMBER;

-- Function to calculate the Total Revenue generated by a training event

FUNCTION get_event_revenue
(p_event_id		IN NUMBER
)
RETURN NUMBER;

-- Function to convert Training Duration from one set of units to another

FUNCTION training_convert_duration
(p_formula_id			IN NUMBER
,p_from_duration		IN NUMBER
,p_from_duration_units		IN VARCHAR2
,p_to_duration_units		IN VARCHAR2
,p_activity_version_name	IN VARCHAR2
,p_event_name			IN VARCHAR2
,p_session_date			IN DATE
)
RETURN NUMBER;

-- Function to determine the Id of a FastFormula

FUNCTION get_formula_id
(p_business_group_id	IN NUMBER
,p_formula_name		IN VARCHAR2
)
RETURN NUMBER;

-- Function to get an assignment budget value for an assignment

FUNCTION get_asg_budget_value
  ( p_budget_metric_formula_id  IN NUMBER
  , p_budget_metric             IN VARCHAR2
  , p_assignment_id             IN NUMBER
  , p_effective_date            IN DATE
  , p_session_date              IN DATE )
RETURN NUMBER;

--cbridge, 13/09/2000, functions to support course ranking workbook OTA
FUNCTION get_att_int_rev_booking
(p_event_id             IN NUMBER,
 p_booking_id       IN NUMBER )
RETURN NUMBER;

FUNCTION get_att_ext_rev_booking
(p_event_id             IN NUMBER,
 p_booking_id       IN NUMBER )
RETURN NUMBER;

FUNCTION get_non_att_int_rev_booking
(p_event_id             IN NUMBER,
 p_booking_id       IN NUMBER )
RETURN NUMBER;

FUNCTION get_non_att_ext_rev_booking
(p_event_id             IN NUMBER,
 p_booking_id       IN NUMBER )
RETURN NUMBER;


-- cbridge, 28/06/2001 , bug enhancement 1317484
FUNCTION get_ff_actual_value_pqh
(p_budget_id            IN NUMBER
,p_business_group_id    IN NUMBER
,p_grade_id             IN NUMBER       DEFAULT NULL
,p_job_id               IN NUMBER       DEFAULT NULL
,p_organization_id      IN NUMBER       DEFAULT NULL
,p_position_id          IN NUMBER       DEFAULT NULL
,p_time_period_id       IN NUMBER
,p_budget_metric        IN VARCHAR2
)
RETURN NUMBER;

--dsheth, 01-FEB-2001, added new function to support direct reports.

FUNCTION direct_reports
(p_person_id		IN NUMBER
,p_effective_start_date IN DATE
,p_effective_end_date   IN DATE)
RETURN NUMBER;

FUNCTION get_prev_salary_pro_amount(p_pay_proposal_id IN NUMBER)
RETURN NUMBER;

FUNCTION GET_ANNUAL_SALARY_AS_OF_DATE(p_effective_date date
                                    , p_assignment_id number)
RETURN NUMBER;


END hr_disc_calculations;

 

/
