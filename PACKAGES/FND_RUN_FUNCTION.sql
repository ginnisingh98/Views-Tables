--------------------------------------------------------
--  DDL for Package FND_RUN_FUNCTION
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE "APPS"."FND_RUN_FUNCTION" AUTHID CURRENT_USER as
/* $Header: AFRFS.pls 120.3.12010000.3 2009/10/22 18:59:46 fskinner ship $ */
/*#
 * This is the public interface for generating URL's for executing functions
 * It is used primarily by the workflow engine.
 * @rep:scope public
 * @rep:product FND
 * @rep:displayname Function Security Navigation
 * @rep:category BUSINESS_ENTITY FND_NAVIGATION
 */


--
-- Returns iframe and JavaScript initialization code needed by the
-- Forms Launcher.
--
/*#
 *  Returns HTML (iframe tag and javascript code) that should be output
 * to any page which contains links generated by 'get_run_function_link'
 * to execute FORM functions.
 *
 * @return HTML iframe tag and javascript code.
 * @rep:displayname Get Forms Launcher Setup
 */
function get_forms_launcher_setup return varchar2;


--
-- Returns the URL to run the specified function in the given responsibility.
--
/*#
 *  Returns a URL to execute the specified function, using the security
 * context specified by the responsibility and security group parameters.
 * If the responsibility is not known in advance, nulls can be passed
 * and the user will be presented with a list of responsibilities that
 * the function is available in, after navigating to the URL.
 *
 * @param p_function_id  the function to execute
 * @param p_resp_appl_id  the application to execute the function in
 * @param p_resp_id  the responsibility to execute the function in
 * @param p_security_group_id  the security group to execute the function in
 * @param p_parameters  if the specified function takes any parameters,
 *                      these can be passed here
 * @param p_override_agent  overrides the default jsp agent for the
 *                          resulting link - intended for internal use
 * @param p_org_id  if no responsibility is passed, this can be used
 *                  to limit the responsibility list that guest displayed.
 *                  This should be left as null if a responsibility
 *                  is explicitly specified.
 * @param p_lang_code  if the url requires the user to authenticate,
 *                     the login page will be displayed in this language.
 *                     If the user is already authenticated, this will not
 *                     override the user's language preferences.
 * @param p_encryptParameters boolean that is defaulted to true to always
 *                            encrypt.
 * @return run function URL.
 * @rep:displayname Get Run Function URL
 * @rep:scope public
 */
function get_run_function_url ( p_function_id in number,
                                p_resp_appl_id in number,
                                p_resp_id in number,
                                p_security_group_id in number,
                                p_parameters in varchar2  default null,
                                p_override_agent in varchar2 default null,
                                p_org_id in number default null,
                                p_lang_code in varchar2 default null,
                                p_encryptParameters in boolean default true )
 return varchar2;


--
-- Version of get_run_function_url that takes names instead of ID's.
--
/*#
 *  Returns a URL to execute the specified function, using the security
 * context specified by the responsibility and security group parameters.
 * If the responsibility is not known in advance, nulls can be passed
 * and the user will be presented with a list of responsibilities that
 * the function is available in, after navigating to the URL.
 *
 * @param p_function_name  the function to execute
 * @param p_resp_appl  the application to execute the function in
 * @param p_resp_key  the responsibility to execute the function in
 * @param p_security_group_key  the security group to execute the function in
 * @param p_parameters  if the specified function takes any parameters,
 *                      these can be passed here
 * @param p_override_agent  overrides the default jsp agent for the
 *                          resulting link - intended for internal use
 * @param p_org_id  if no responsibility is passed, this can be used
 *                  to limit the responsibility list that guest displayed
 *                  This should be left as null if a responsibility
 *                  is explicitly specified.
 * @param p_lang_code  if the url requires the user to authenticate,
 *                     the login page will be displayed in this language
 *                     If the user is already authenticated, this will not
 *                     override the user's language preferences.
 *
 * @param p_encryptParameters boolean that is defaulted to true to always
 *                            encrypt.
 * @return run function URL.
 * @rep:displayname Get Run Function URL
 * @rep:scope public
 */
function get_run_function_url ( p_function_name in varchar2,
                                p_resp_appl in varchar2,
                                p_resp_key in varchar2,
                                p_security_group_key in varchar2,
                                p_parameters in varchar2  default null,
                                p_override_agent in varchar2 default null,
                                p_org_id in number default null,
                                p_lang_code in varchar2 default null,
                                p_encryptParameters in boolean default true )
 return varchar2;


--
-- Generates a link automatically - returns HTML of the form
--  <a href=...> .. </a>
-- which will run the specified function in the given responsibility.
--
-- If called on a function of type 'FORM', make sure the output from
-- 'get_forms_launcher_setup' is run first.
--
/*#
 *  Returns the same url as get_run_function_url, but embedded in a
 * full HTML link (ie, "<a href="..url..">..</a>").
 *
 * @param p_text  the text to display in the HTML link
 * @param p_target  the HTML target for the link
 * @param p_function_id  the function to execute
 * @param p_resp_appl_id  the application to execute the function in
 * @param p_resp_id  the responsibility to execute the function in
 * @param p_security_group_id  the security group to execute the function in
 * @param p_parameters  if the specified function takes any parameters,
 *                      these can be passed here
 * @param p_override_agent  overrides the default jsp agent for the
 *                          resulting link - intended for internal use
 * @param p_org_id  if no responsibility is passed, this can be used
 *                  to limit the responsibility list that guest displayed
 *                  This should be left as null if a responsibility
 *                  is explicitly specified.
 * @param p_lang_code  if the url requires the user to authenticate,
 *                     the login page will be displayed in this language
 *                     If the user is already authenticated, this will not
 *                     override the user's language prefences.
 *                     preferences.
 * @param p_encryptParameters boolean that is defaulted to true to always
 *                            encrypt.
 * @return run function link.
 * @rep:displayname Get Run Function Link
 */
function get_run_function_link ( p_text  in varchar2,
                                 p_target in varchar2,
                                 p_function_id in number,
                                 p_resp_appl_id in number,
                                 p_resp_id in number,
                                 p_security_group_id in number,
                                 p_parameters in varchar2  default null,
                                 p_override_agent in varchar2 default null,
                                 p_org_id in number default null,
                                 p_lang_code in varchar2 default null,
                                 p_encryptParameters in boolean default true )
 return varchar2;


--
-- Version of get_run_function_link that takes names instead of ID's.
--
/*#
 *  Returns the same url as get_run_function_url, but embedded in a
 * full HTML link (ie, "<a href="..url..">..</a>").
 *
 * @param p_text  the text to display in the HTML link
 * @param p_target  the HTML target for the link
 *
 * @param p_function_name  the function to execute
 * @param p_resp_appl  the application to execute the function in
 * @param p_resp_key  the responsibility to execute the function in
 * @param p_security_group_key  the security group to execute the function in
 * @param p_parameters  if the specified function takes any parameters,
 *                      these can be passed here
 * @param p_override_agent  overrides the default jsp agent for the
 *                          resulting link - intended for internal use
 * @param p_org_id  if no responsibility is passed, this can be used
 *                  to limit the responsibility list that guest displayed
 *                  This should be left as null if a responsibility
 *                  is explicitly specified.
 * @param p_lang_code  if the url requires the user to authenticate,
 *                     the login page will be displayed in this language
 *                     If the user is already authenticated, this will not
 *                     override the user's language preferences.
 * @param p_encryptParameters boolean that is defaulted tp true to always
 *                            encrypt.
 *
 * @return Run function link.
 * @rep:displayname Get Run Function Link
 */
function get_run_function_link ( p_text  in varchar2,
                                 p_target in varchar2,
                                 p_function_name in varchar2,
                                 p_resp_appl in varchar2,
                                 p_resp_key in varchar2,
                                 p_security_group_key in varchar2,
                                 p_parameters in varchar2 default null,
                                 p_override_agent in varchar2 default null,
                                 p_org_id in number default null,
                                 p_lang_code in varchar2 default null,
                                 p_encryptParameters in boolean default true )
 return varchar2;

end FND_RUN_FUNCTION;

/
