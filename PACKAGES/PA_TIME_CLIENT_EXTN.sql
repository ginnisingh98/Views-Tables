--------------------------------------------------------
--  DDL for Package PA_TIME_CLIENT_EXTN
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE "APPS"."PA_TIME_CLIENT_EXTN" AUTHID CURRENT_USER AS
/*  $Header: PAPSSTCS.pls 120.6 2006/07/29 11:40:08 skannoji noship $ */
/*#
 * This extension enables you to provide a customized business message for expenditures during validation and approval.
 * @rep:scope public
 * @rep:product PA
 * @rep:lifecycle active
 * @rep:displayname Display Business Message
 * @rep:compatibility S
 * @rep:category BUSINESS_ENTITY PA_PROJECT
 * @rep:category BUSINESS_ENTITY PA_LABOR_COST
 * @rep:doccd 120pjapi.pdf See the Oracle Projects API's, Client Extensions, and Open Interfaces Reference
 */

/*#
 * This procedure enables you to provide a customized business message for expenditures during validation and approval.
 * @param P_Timecard_Table The entire timecard in PL/SQL table format (used when the extension is called from Oracle Time and Labor)
 * @rep:paraminfo {@rep:required}
 * @param P_Module  Application calling this extension (for example, OTL for Oracle Time and Labor)
 * @rep:paraminfo {@rep:required}
 * @param P_Expenditure_Id  Identifier of the expenditure
 * @rep:paraminfo {@rep:required}
 * @param P_Person_id Identifier of employee who submitted the expenditure
 * @rep:paraminfo {@rep:required}
 * @param P_Week_Ending_Date  Ending Date of the expenditure period
 * @rep:paraminfo {@rep:required}
 * @param X_Msg_Application_Name  Short name of application defined in AOL (PA for Oracle Projects)
 * @rep:paraminfo {@rep:required}
 * @param X_Message_data Message Code
 * @rep:paraminfo {@rep:required}
 * @param X_Msg_Token1_Name  Message token name to be used in message
 * @rep:paraminfo {@rep:required}
 * @param X_Msg_Token1_Value Message token value to be used in message
 * @rep:paraminfo {@rep:required}
 * @param X_Msg_Token2_Name Message token name to be used in message
 * @rep:paraminfo {@rep:required}
 * @param X_Msg_Token2_Value Message token value to be used in message
 * @rep:paraminfo {@rep:required}
 * @param X_Msg_Token3_Name Message token name to be used in message
 * @rep:paraminfo {@rep:required}
 * @param X_Msg_Token3_Value Message token value to be used in message
 * @rep:paraminfo {@rep:required}
 * @rep:scope public
 * @rep:lifecycle active
 * @rep:displayname Display Business Message
 * @rep:compatibility S
 */

-- =======================================================================
-- Start of Comments
-- API Name      : Display_Business_Message
-- Type          : Public
-- Pre-Reqs      : None
-- Type          : Procedure
--
--
-- This API will be used to generate a customized message which will
-- be displayed in the final review screen and supervisor approval screens.
--
-- The message generated by this API could be used to ensure that the
-- employees are billable to a specified percentage determined as follows.
--
-- (billable hours in timecard )/(total hours on timecard) *100
--
-- The messages are customizable by customers, hence the customer could
-- generate message that would display total number of hours, % utilization
-- etc.
--
--
-- Parameters:
-- IN
--
-- P_Timecard_Table             Pa_Otc_Api.Timecard_Table  -- Only populated when
--                              P_Module is 'OTL'
-- P_Module                     VARCHAR2 - Possible values: SST or OTL
-- P_Expenditure_Id             pa_expenditures_all.expenditure_id%TYPE DEFAULT NULL,
-- P_Person_id                  per_all_people_f.person_id%TYPE,
-- P_Week_Ending_Date           Date,
--
-- OUT
--
-- X_Application_Name            Fnd_Application.Application_short_name%TYPE,
-- X_Msg_Token1_Name             Varchar2,
-- X_Msg_Token1_Value            Varchar2,
-- X_Msg_Token2_Name             Varchar2,
-- X_Msg_Token2_Value            Varchar2,
-- X_Msg_Token3_Name             Varchar2,
-- X_Msg_Token3_Value            Varchar2

PROCEDURE Display_Business_Message(
     P_Timecard_Table       IN  Pa_Otc_Api.Timecard_Table,
     P_Module               IN  VARCHAR2,
     P_Expenditure_Id       IN  pa_expenditures_all.expenditure_id%TYPE DEFAULT NULL,
     P_Person_id            IN  per_all_people_f.person_id%TYPE,
     P_Week_Ending_Date     IN  Date,
     X_Msg_Application_Name OUT NOCOPY Fnd_Application.Application_short_name%TYPE,
     X_Message_data         OUT NOCOPY Varchar2,
     X_Msg_Token1_Name      OUT NOCOPY Varchar2,
     X_Msg_Token1_Value     OUT NOCOPY Varchar2,
     X_Msg_Token2_Name      OUT NOCOPY Varchar2,
     X_Msg_Token2_Value     OUT NOCOPY Varchar2,
     X_Msg_Token3_Name      OUT NOCOPY Varchar2,
     X_Msg_Token3_Value     OUT NOCOPY Varchar2);

PROCEDURE Set_Batch_Name (
			p_expenditure_id		      IN  NUMBER,
			p_person_id			          IN  NUMBER,
			p_expenditure_ending_date 	  IN  DATE,
			p_expenditure_organization_id IN  NUMBER,
			x_user_batch_name		      OUT NOCOPY VARCHAR2,
			x_return_status			      OUT NOCOPY VARCHAR2,
			x_msg_application_name		  OUT NOCOPY VARCHAR2,
			x_message_data			      OUT NOCOPY VARCHAR2,
			x_token_name1			      OUT NOCOPY VARCHAR2,
			x_token_val1			      OUT NOCOPY VARCHAR2,
			x_token_name2			      OUT NOCOPY VARCHAR2,
			x_token_val2			      OUT NOCOPY VARCHAR2,
			x_token_name3			      OUT NOCOPY VARCHAR2,
			x_token_val3			      OUT NOCOPY VARCHAR2,
			x_token_name4			      OUT NOCOPY VARCHAR2,
			x_token_val4			      OUT NOCOPY VARCHAR2,
			x_token_name5			      OUT NOCOPY VARCHAR2,
			x_token_val5			      OUT NOCOPY VARCHAR2
			);

-- =======================================================================
-- Start of Comments
-- API Name      : Override_match_status
-- Type          : Public
-- Pre-Reqs      : None
-- Type          : Procedure
-- Function      : This procedure will be called for negative items
--                 ( i.e quantity < 0 ) when the user submits a timecard
--                 This extension allows the customers to convert an unmatched
--                 negative item into a matched item( which will be matched by
--                 Oracle Projects during transaction import).  Conversely
--                 customers can convert a matched reversal into an unmatched
--                 negative.
--
-- Parameters    :
-- IN
--         p_person_id            Identifier of the employee
--         p_project_id           Project Identifier of the item
--         p_task_id              Task Identifier of the item,
--         p_expenditure_type     Expenditure Type of the item
--         p_expenditure_type_class System Linkage Function of the item
--         p_expenditure_item_date Date of the item
--         p_quantity             number of units for the transaction,
--         p_expenditure_comment  Item Level comment
--         p_attribute_category   Descriptive Flexfield context field
--         p_attribute1           Descriptive flexfield segment
--         p_attribute2           Descriptive flexfield segment
--         p_attribute3           Descriptive flexfield segment
--         p_attribute4           Descriptive flexfield segment
--         p_attribute5           Descriptive flexfield segment
--         p_attribute6           Descriptive flexfield segment
--         p_attribute7           Descriptive flexfield segment
--         p_attribute8           Descriptive flexfield segment
--         p_attribute9           Descriptive flexfield segment
--         p_attribute10          Descriptive flexfield segment
--         p_match_status         Value of 'M'for Matched Item and 'U' for
--                                Unmatched
--         x_match_status         Return match status, return 'M' if you
--                                want Oracle Projects to match this item
--                                Return 'U' if you want to unmatch an item.
--
/*-------------------------------------------------------------------------*/

PROCEDURE Override_Match_Status(
         p_person_id              IN per_people_f.person_id%TYPE,
         p_project_id             IN pa_projects_all.project_id%TYPE,
         p_task_id                IN pa_tasks.task_id%TYPE,
         p_expenditure_type       IN pa_expenditure_types.expenditure_type%TYPE,
         p_expenditure_type_class IN pa_system_linkages.function%TYPE,
         p_expenditure_item_date  IN pa_expenditure_items_all.expenditure_item_date%TYPE,
         p_quantity               IN pa_expenditure_items_all.quantity%TYPE,
         p_expenditure_comment    IN Varchar2,
         p_attribute_category     IN pa_expenditure_items_all.attribute_category%TYPE,
         p_attribute1             IN pa_expenditure_items_all.attribute1%TYPE,
         p_attribute2             IN pa_expenditure_items_all.attribute2%TYPE,
         p_attribute3             IN pa_expenditure_items_all.attribute3%TYPE,
         p_attribute4             IN pa_expenditure_items_all.attribute4%TYPE,
         p_attribute5             IN pa_expenditure_items_all.attribute5%TYPE,
         p_attribute6             IN pa_expenditure_items_all.attribute6%TYPE,
         p_attribute7             IN pa_expenditure_items_all.attribute7%TYPE,
         p_attribute8             IN pa_expenditure_items_all.attribute8%TYPE,
         p_attribute9             IN pa_expenditure_items_all.attribute9%TYPE,
         p_attribute10            IN pa_expenditure_items_all.attribute10%TYPE,
         p_match_status           IN Varchar2,
         x_match_status           OUT NOCOPY varchar2);


END PA_TIME_CLIENT_EXTN;
 

/
