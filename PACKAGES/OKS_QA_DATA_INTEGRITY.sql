--------------------------------------------------------
--  DDL for Package OKS_QA_DATA_INTEGRITY
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE "APPS"."OKS_QA_DATA_INTEGRITY" AUTHID CURRENT_USER AS
/* $Header: OKSRQADS.pls 120.5.12010000.2 2009/05/13 18:51:21 cgopinee ship $ */

  ---------------------------------------------------------------------------
  -- GLOBAL MESSAGE CONSTANTS
  ---------------------------------------------------------------------------
  G_FND_APP			CONSTANT VARCHAR2(200) := OKC_API.G_FND_APP;
  G_NO_PARENT_RECORD            CONSTANT VARCHAR2(200) := 'OKC_NO_PARENT_RECORD';
  G_FORM_UNABLE_TO_RESERVE_REC	CONSTANT VARCHAR2(200) := OKC_API.G_FORM_UNABLE_TO_RESERVE_REC;
  G_FORM_RECORD_DELETED		CONSTANT VARCHAR2(200) := OKC_API.G_FORM_RECORD_DELETED;
  G_FORM_RECORD_CHANGED		CONSTANT VARCHAR2(200) := OKC_API.G_FORM_RECORD_CHANGED;
  G_RECORD_LOGICALLY_DELETED	CONSTANT VARCHAR2(200) := OKC_API.G_RECORD_LOGICALLY_DELETED;
  G_REQUIRED_VALUE		CONSTANT VARCHAR2(200) := OKC_API.G_REQUIRED_VALUE;
  G_INVALID_VALUE		CONSTANT VARCHAR2(200) := OKC_API.G_INVALID_VALUE;
  G_COL_NAME_TOKEN		CONSTANT VARCHAR2(200) := OKC_API.G_COL_NAME_TOKEN;
  G_PARENT_TABLE_TOKEN		CONSTANT VARCHAR2(200) := OKC_API.G_PARENT_TABLE_TOKEN;
  G_CHILD_TABLE_TOKEN		CONSTANT VARCHAR2(200) := OKC_API.G_CHILD_TABLE_TOKEN;
  G_UNEXPECTED_ERROR            CONSTANT VARCHAR2(200) := 'OKC_CONTRACTS_UNEXP_ERROR';
  G_SQLERRM_TOKEN               CONSTANT VARCHAR2(200) := 'SQLerrm';
  G_SQLCODE_TOKEN               CONSTANT VARCHAR2(200) := 'SQLcode';
  G_UPPERCASE_REQUIRED		CONSTANT VARCHAR2(200) := 'OKC_CONTRACTS_UPPERCASE_REQUIRED';
  G_INVALID_END_DATE            CONSTANT VARCHAR2(200) := 'OKC_INVALID_END_DATE';
--
  G_QA_SUCCESS   		CONSTANT VARCHAR2(200) := 'OKS__QA_SUCCESS';
  G_PARTY_COUNT   		CONSTANT VARCHAR2(200) := 'OKC_CONTRACTS_PARTY_COUNT';
  G_REQUIRED_RULE   		CONSTANT VARCHAR2(200) := 'OKC_REQUIRED_RULE';
  G_REQUIRED_RULE_VALUES        CONSTANT VARCHAR2(200) := 'OKC_REQUIRED_RULE_VALUES';
  G_REQUIRED_RULE_PARTY_ROLE    CONSTANT VARCHAR2(200) := 'OKC_REQUIRED_RULE_PARTY_ROLE';
  G_RULE_DEPENDENT_VALUE        CONSTANT VARCHAR2(200) := 'OKC_RULE_DEPENDENT_VALUE';
  G_INVALID_LINE_DATES          CONSTANT VARCHAR2(200) := 'OKC_INVALID_LINE_DATES';
  G_REQUIRED_LINE_VALUE		CONSTANT VARCHAR2(200) := 'OKC_REQUIRED_LINE_FIELD';
  G_INVALID_LINE_CURRENCY       CONSTANT VARCHAR2(200) := 'OKC_INVALID_LINE_CURRENCY';
  G_INVALID_LINE_ITEM		CONSTANT VARCHAR2(200) := 'OKS_INVALID_LINE_ITEM';
  G_REQUIRED_COVERED_LINE       CONSTANT VARCHAR2(200) := 'OKS_REQUIRED_COVERED_LINE';
  G_INVALID_COVERAGE_LINE       CONSTANT VARCHAR2(200) := 'OKS_INVALID_COVERAGE_LINE';
  --G_COVERAGE_OVERLAP            CONSTANT VARCHAR2(200) := 'OKS_COVERAGE_OVERLAP';
  G_PARTY_ROLE                  CONSTANT VARCHAR2(200) := 'OKS_PARTY_ROLE';
  G_PARTY_MISSING_ROLE           CONSTANT VARCHAR2(200) := 'OKS_PARTY_MISSING_ROLE';
  G_BASE_READING                CONSTANT VARCHAR2(200) := 'OKS_COUNTER_BASE_READING';
  G_BILL_ATTR                   CONSTANT VARCHAR2(200) := 'OKS_BILLING_ATTRIBUTES';
  G_SHORT_DESC                  CONSTANT VARCHAR2(200) := 'OKS_HDR_SHORT_DESC';
  G_QA_CHECK                    CONSTANT VARCHAR2(200) := 'OKS_QA_CHECK_LIST';
  G_K_GROUP                     CONSTANT VARCHAR2(200) := 'OKS_CONTRACT_GROUP';
  G_WORKFLOW                    CONSTANT VARCHAR2(200) := 'OKS_WORK_FLOW';
  G_DEFAULT_READING             CONSTANT VARCHAR2(200) := 'OKS_COUNTER_DEFAULT_READING';
  G_PRICE_LIST                  CONSTANT VARCHAR2(200) := 'OKS_PRICE_LIST';

  G_ONE_CUST_CONTACT            CONSTANT VARCHAR2(200) := 'OKS_ONE_CUST_CONTACT';
  G_INVALID_TAX_EXEMPT		  CONSTANT VARCHAR2(200) := 'OKS_INVALID_TAX_EXEMPT';
  G_CUSTOMER_ON_CREDIT_HOLD	  CONSTANT VARCHAR2(200) := 'OKS_CUST_ON_CREDIT_HOLD';
  G_CUST_REQUIRED               CONSTANT VARCHAR2(200) := 'OKS_CUST_REQUIRED';
  G_PO_NUM_REQUIRED          CONSTANT VARCHAR2(200) := 'OKS_PO_NUM_REQUIRED';
  G_PO_NUM_FOR_RENEWAL      CONSTANT VARCHAR2(200) := 'OKS_PO_NUM_FOR_RENEWAL';
  G_SERVICE_PO_NUM          CONSTANT VARCHAR2(200) := 'OKS_SERVICE_PO_NUM';
  G_AUTHORIZE_PAYMENT           CONSTANT VARCHAR2(200) := 'AUTHORIZE_PAYMENT';
  G_ITEM_INST_INVALID       CONSTANT VARCHAR2(200) := 'OKS_ITEM_INSTANCE_INVALID';
  G_CP_DATE_INVALID         CONSTANT VARCHAR2(200) := 'OKS_CP_DATE_INVALID';
  G_SUBSCR_ELEM_MISS        CONSTANT VARCHAR2(200) := 'OKS_SUBSCR_ELEM_MISS';
  G_SHIP_RULE_MISS          CONSTANT VARCHAR2(200) := 'OKS_SHIP_RULE_MISS';
  G_SHIP_ADDR_MISS          CONSTANT VARCHAR2(200) := 'OKS_SHIP_ADDR_MISS';
  G_PRECESION                   CONSTANT NUMBER        := .01;
  G_CUST_MISSING                CONSTANT VARCHAR2(200) :='OKC_K2O_CUSTOMER3';
  G_CURR_CONV_REQUIRED      CONSTANT VARCHAR2(200) := 'OKS_CURR_CONV_REQUIRED';
  G_NUM_ONE           CONSTANT NUMBER := 1;
  G_COVERAGE_OVERLAP_LIST    CONSTANT VARCHAR2(200) := 'OKS_COVERAGE_OVERLAP_LIST';
  G_ITEM_INST_MISS  CONSTANT VARCHAR2(200) := 'OKS_ITEM_INST_MISS';
  G_QUANT_UOM_INVALID  CONSTANT VARCHAR2(200) := 'OKS_QUANT_UOM_INVALID';
  G_QUANT_INVALID  CONSTANT VARCHAR2(200) := 'OKS_QUANT_INVALID';
  G_UOM_INVALID  CONSTANT VARCHAR2(200) := 'OKS_UOM_INVALID';
  G_CUST_NOT_ACTIVE       CONSTANT VARCHAR2(200) := 'OKS_CUST_NOT_ACTIVE';
  G_SHIP_CUST_NOT_ACTIVE  CONSTANT VARCHAR2(200) := 'OKS_SHIP_CUST_NOT_ACTIVE'; -- added for bug # 3630149
  -- BUG 4138244 --
  -- GCHADHA --
  G_BILL_CUST_INACTIVE       CONSTANT VARCHAR2(200) := 'OKS_BILL_CUST_NOT_ACTIVE_HEAD';
  G_SHIP_CUST_INACTIVE  CONSTANT VARCHAR2(200) := 'OKS_SHIP_CUST_NOT_ACTIVE_HEAD';
  G_BTO_INVALID_HEAD      CONSTANT VARCHAR2(200) := 'OKS_BTO_INVALID_HEADER';
  G_STO_INVALID_HEAD   CONSTANT VARCHAR2(200) := 'OKS_STO_INVALID_HEADER';

  -- END GCHADHA--
  -- GCHADHA --
  -- MULTI CURRENCY PRICELIST --
  -- 05-DEC-2004 --
  -- BUG 4048186 --
  -- ADDED THE MESSAGE  G_PRICE_LIST_CURR_R --
  G_PRICE_LIST_CURR_L     CONSTANT VARCHAR2(200) := 'OKS_INVALID_PRICE_LIST_LINE'; -- MSG FOR INVALID PL AT LINES
  G_PRICE_LIST_CURR_H     CONSTANT VARCHAR2(200) := 'OKS_INVALID_PRICE_LIST'; -- MSG FOR INVALID PL AT HDR
  G_PRICE_LIST_CURR_R     CONSTANT VARCHAR2(200) := 'OKS_INVALID_RENEWAL_PRICE_LIST'; -- MSG FOR INVALID PL AT RENEWAL
  -- END GCHADHA --
  -- Added for bug # 3630149
  G_BTO_INVALID     CONSTANT VARCHAR2(200) := 'OKS_BTO_INVALID';
  G_STO_INVALID     CONSTANT VARCHAR2(200) := 'OKS_STO_INVALID';
  G_BTO_REQUIRED         CONSTANT VARCHAR2(200) := 'OKS_BTO_REQUIRED';
  G_BTO_ACCT         CONSTANT VARCHAR2(200) := 'OKS_BT_ACCT';
  G_STO_ACCT         CONSTANT VARCHAR2(200) := 'OKS_ST_ACCT';
  G_CUST_INACTIVE   CONSTANT VARCHAR2(200) := 'OKS_CUST_INACTIVE';  -- Customer is not acitive.
  G_THIRD_PARTY_INACTIVE CONSTANT VARCHAR2(200) := 'OKS_THIRD_PARTY_INACTIVE'; -- Third party is not active.
  G_SUB_INACTIVE CONSTANT VARCHAR2(200) := 'OKS_SUB_INACTIVE';
  G_INVALID_TAX_EXEMPT_DATE CONSTANT VARCHAR2(200) := 'OKS_INVALID_TAX_EXEMPT_DATE'; -- added for bug # 4069388
  --- End of bug # 3630149
  G_MISS_PRICE_LOCK    CONSTANT VARCHAR2(200) := 'OKS_MISS_PRICE_LOCK';
  G_UNAPPROVED_TAX_EXEMPT   CONSTANT VARCHAR2(200) := 'OKS_UNAPPROVED_TAX_EXEMPT';
  G_UNAPPROVED_HDR_TAX_EXEMPT CONSTANT VARCHAR2(200) := 'OKS_UNAPPROVED_HDR_TAX_EXEMPT';
  -- IKON ENHANCEMENT --
  G_INVALID_TAX_EXEMPT_LINE    CONSTANT VARCHAR2(200) := 'OKS_INVALID_TAX_EXEMPT_LINE';
  -- IKON ENHANCEMENT --


  G_LINE_REQUIRED CONSTANT VARCHAR2(200) := 'OKS_LINE_REQUIRED';
  G_COVERED_LINE_REQUIRED CONSTANT VARCHAR2(200) := 'OKS_COVERED_LINE_REQUIRED';
  G_NEG_AMT_REQUIRED CONSTANT VARCHAR2(200) := 'OKS_NEG_AMT_REQUIRED';
  G_INVALID_BILLING_CONTACTS CONSTANT VARCHAR2(200) := 'OKS_INVALID_BILLING_CONTACTS';
  G_INACTIVE_INVENTORY_ITEM CONSTANT VARCHAR2(200) := 'OKS_INACTIVE_INVENTORY_ITEM';
  G_INACTIVE_COVERED_ITEM CONSTANT VARCHAR2(200) := 'OKS_INACTIVE_COVERED_ITEM';
  G_INACTIVE_COVERED_PARTY CONSTANT VARCHAR2(200) := 'OKS_INACTIVE_COVERED_PARTY';
  G_INACTIVE_COVERED_PRODUCT CONSTANT VARCHAR2(200) := 'OKS_INACTIVE_COVERED_PRODUCT';
  G_INACTIVE_COVERED_SYSTEM CONSTANT VARCHAR2(200) := 'OKS_INACTIVE_COVERED_SYSTEM';
  G_INACTIVE_COVERED_SITE CONSTANT VARCHAR2(200) := 'OKS_INACTIVE_COVERED_SITE';

  G_MISSING_SALESREP CONSTANT VARCHAR2(200) := 'OKS_MISSING_SALESREP';

  TYPE numeric_tab_typ IS TABLE of number INDEX BY BINARY_INTEGER;

 ------------------------------------------------------------------------------------
  -- GLOBAL EXCEPTION
  ---------------------------------------------------------------------------
  G_EXCEPTION_HALT_VALIDATION	EXCEPTION;

  -- GLOBAL VARIABLES
  ---------------------------------------------------------------------------
  G_PKG_NAME			CONSTANT VARCHAR2(200) := 'OKS_QA_DATA_INTEGRITY';
  G_APP_NAME			CONSTANT VARCHAR2(3)   :=  'OKS';
  ---------------------------------------------------------------------------

  FUNCTION val_credit_card(
			p_cc_num_stripped       IN  Varchar2
  ) RETURN number;

  PROCEDURE check_required_values(
    x_return_status            OUT NOCOPY VARCHAR2,
    p_chr_id                   IN  NUMBER);

  PROCEDURE check_req_values(
    x_return_status            OUT NOCOPY VARCHAR2,
    p_chr_id                   IN  NUMBER);

 PROCEDURE check_covered_levels(
    x_return_status            OUT NOCOPY VARCHAR2,
    p_chr_id                   IN  NUMBER
  ) ;

 Procedure Check_Counter_base_reading
(
p_chr_id        IN  Number,
X_return_status OUT NOCOPY Varchar2
);

PROCEDURE check_covlvl_Overlap(
    x_return_status            OUT NOCOPY VARCHAR2,
    p_chr_id                   IN  NUMBER
  ) ;

PROCEDURE check_tax_exemption(
    x_return_status            OUT NOCOPY VARCHAR2,
    p_chr_id                   IN  NUMBER
  ) ;

PROCEDURE check_cust_credit_hold(
    x_return_status            OUT NOCOPY VARCHAR2,
    p_chr_id                   IN  NUMBER
  ) ;

PROCEDURE check_address(
    x_return_status            OUT NOCOPY VARCHAR2,
    p_chr_id                   IN  NUMBER
  ) ;

/*cgopinee bugfix for 8361496*/
PROCEDURE check_curr_conv_date(
    x_return_status            OUT NOCOPY VARCHAR2,
    p_chr_id                   IN  NUMBER
  ) ;

PROCEDURE check_item_effectivity
  (
    x_return_status            OUT NOCOPY VARCHAR2,
    p_chr_id                   IN  NUMBER
  );

PROCEDURE Check_Authorize_Payment
(
    x_return_status            OUT NOCOPY VARCHAR2,
    p_chr_id                   IN  NUMBER
);


PROCEDURE check_billing_schedule
(
 x_return_status            OUT NOCOPY VARCHAR2,
 p_chr_id                   IN  NUMBER
);

Procedure Check_product_availability
(
   X_Return_Status	  OUT NOCOPY Varchar2,
   p_chr_id		  IN   NUMBER
);

Procedure check_customer_availability
(
   x_return_status	  OUT NOCOPY Varchar2,
   p_chr_id		      IN   NUMBER
);

PROCEDURE check_pm
 (
  x_return_status            OUT NOCOPY VARCHAR2,
  p_chr_id                   IN  NUMBER
 );

PROCEDURE Check_item_instance_valid
 (
  x_return_status            OUT NOCOPY VARCHAR2,
  p_chr_id                   IN  NUMBER
 );

PROCEDURE check_subscr_element_exist
    (
        p_chr_id IN NUMBER,
        x_return_status OUT NOCOPY VARCHAR2
    );

PROCEDURE check_subscr_is_shipable
    (
        p_chr_id IN NUMBER,
        x_return_status OUT NOCOPY VARCHAR2
    );

PROCEDURE check_covered_product
    (
	p_chr_id IN NUMBER,
        x_return_status OUT NOCOPY VARCHAR2
    );

PROCEDURE check_required_PM
    (
      	p_chr_id IN NUMBER,
        x_return_status OUT NOCOPY VARCHAR2
    );

PROCEDURE check_pirce_lock
    (
  	p_chr_id IN NUMBER,
        x_return_status OUT NOCOPY VARCHAR2
    );

--[llc]

PROCEDURE Check_Ren_Source_Lines
    (
	p_chr_id IN NUMBER,
        x_return_status OUT NOCOPY VARCHAR2
    );

PROCEDURE Check_Ren_Target_Lines
    (
	p_chr_id in NUMBER,
        x_return_status OUT NOCOPY VARCHAR2
    );



END OKS_QA_DATA_INTEGRITY;

/
