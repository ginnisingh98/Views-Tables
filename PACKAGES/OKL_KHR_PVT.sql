--------------------------------------------------------
--  DDL for Package OKL_KHR_PVT
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE "APPS"."OKL_KHR_PVT" AUTHID CURRENT_USER AS
/* $Header: OKLSKHRS.pls 120.4 2006/11/10 06:17:02 dpsingh noship $ */

  ---------------------------------------------------------------------------
  -- GLOBAL DATASTRUCTURES
  ---------------------------------------------------------------------------

  TYPE khr_rec_type IS RECORD (
    ID NUMBER := OKL_API.G_MISS_NUM,
    ISG_ID NUMBER := OKL_API.G_MISS_NUM,
    KHR_ID NUMBER := OKL_API.G_MISS_NUM,
    PDT_ID NUMBER := OKL_API.G_MISS_NUM,
    OBJECT_VERSION_NUMBER NUMBER := OKL_API.G_MISS_NUM,
    DATE_FIRST_ACTIVITY OKL_K_HEADERS.DATE_FIRST_ACTIVITY%TYPE := OKL_API.G_MISS_DATE,
    SYNDICATABLE_YN OKL_K_HEADERS.SYNDICATABLE_YN%TYPE := OKL_API.G_MISS_CHAR,
    SALESTYPE_YN OKL_K_HEADERS.SALESTYPE_YN%TYPE := OKL_API.G_MISS_CHAR,
    DATE_REFINANCED OKL_K_HEADERS.DATE_REFINANCED%TYPE := OKL_API.G_MISS_DATE,
    DATE_CONVERSION_EFFECTIVE OKL_K_HEADERS.DATE_CONVERSION_EFFECTIVE%TYPE := OKL_API.G_MISS_DATE,
    DATE_DEAL_TRANSFERRED OKL_K_HEADERS.DATE_DEAL_TRANSFERRED%TYPE := OKL_API.G_MISS_DATE,
    TERM_DURATION NUMBER := OKL_API.G_MISS_NUM,
    DATETIME_PROPOSAL_EFFECTIVE OKL_K_HEADERS.DATETIME_PROPOSAL_EFFECTIVE%TYPE := OKL_API.G_MISS_DATE,
    DATETIME_PROPOSAL_INEFFECTIVE OKL_K_HEADERS.DATETIME_PROPOSAL_INEFFECTIVE%TYPE := OKL_API.G_MISS_DATE,
    DATE_PROPOSAL_ACCEPTED OKL_K_HEADERS.DATE_PROPOSAL_ACCEPTED%TYPE := OKL_API.G_MISS_DATE,
    ATTRIBUTE_CATEGORY OKL_K_HEADERS.ATTRIBUTE_CATEGORY%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE1 OKL_K_HEADERS.ATTRIBUTE1%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE2 OKL_K_HEADERS.ATTRIBUTE2%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE3 OKL_K_HEADERS.ATTRIBUTE3%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE4 OKL_K_HEADERS.ATTRIBUTE4%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE5 OKL_K_HEADERS.ATTRIBUTE5%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE6 OKL_K_HEADERS.ATTRIBUTE6%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE7 OKL_K_HEADERS.ATTRIBUTE7%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE8 OKL_K_HEADERS.ATTRIBUTE8%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE9 OKL_K_HEADERS.ATTRIBUTE9%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE10 OKL_K_HEADERS.ATTRIBUTE10%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE11 OKL_K_HEADERS.ATTRIBUTE11%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE12 OKL_K_HEADERS.ATTRIBUTE12%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE13 OKL_K_HEADERS.ATTRIBUTE13%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE14 OKL_K_HEADERS.ATTRIBUTE14%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE15 OKL_K_HEADERS.ATTRIBUTE15%TYPE := OKL_API.G_MISS_CHAR,
    CREATED_BY NUMBER := OKL_API.G_MISS_NUM,
    CREATION_DATE OKL_K_HEADERS.CREATION_DATE%TYPE := OKL_API.G_MISS_DATE,
    LAST_UPDATED_BY NUMBER := OKL_API.G_MISS_NUM,
    LAST_UPDATE_DATE OKL_K_HEADERS.LAST_UPDATE_DATE%TYPE := OKL_API.G_MISS_DATE,
    LAST_UPDATE_LOGIN NUMBER := OKL_API.G_MISS_NUM,
    AMD_CODE OKL_K_HEADERS.AMD_CODE%TYPE := OKL_API.G_MISS_CHAR,
    GENERATE_ACCRUAL_YN OKL_K_HEADERS.GENERATE_ACCRUAL_YN%TYPE := OKL_API.G_MISS_CHAR,
    GENERATE_ACCRUAL_OVERRIDE_YN OKL_K_HEADERS.GENERATE_ACCRUAL_OVERRIDE_YN%TYPE := OKL_API.G_MISS_CHAR,
    CREDIT_ACT_YN OKL_K_HEADERS.CREDIT_ACT_YN%TYPE := OKL_API.G_MISS_CHAR,
    CONVERTED_ACCOUNT_YN OKL_K_HEADERS.CONVERTED_ACCOUNT_YN%TYPE := OKL_API.G_MISS_CHAR,
    PRE_TAX_YIELD NUMBER := OKL_API.G_MISS_NUM,
    AFTER_TAX_YIELD NUMBER := OKL_API.G_MISS_NUM,
    IMPLICIT_INTEREST_RATE NUMBER := OKL_API.G_MISS_NUM,
    IMPLICIT_NON_IDC_INTEREST_RATE NUMBER := OKL_API.G_MISS_NUM,
    TARGET_PRE_TAX_YIELD NUMBER := OKL_API.G_MISS_NUM,
    TARGET_AFTER_TAX_YIELD NUMBER := OKL_API.G_MISS_NUM,
    TARGET_IMPLICIT_INTEREST_RATE NUMBER := OKL_API.G_MISS_NUM,
    TARGET_IMPLICIT_NONIDC_INTRATE NUMBER := OKL_API.G_MISS_NUM,
    DATE_LAST_INTERIM_INTEREST_CAL OKL_K_HEADERS.DATE_LAST_INTERIM_INTEREST_CAL%TYPE := OKL_API.G_MISS_DATE,
    DEAL_TYPE OKL_K_HEADERS.DEAL_TYPE%TYPE := OKL_API.G_MISS_CHAR,
    PRE_TAX_IRR NUMBER := OKL_API.G_MISS_NUM,
    AFTER_TAX_IRR NUMBER := OKL_API.G_MISS_NUM,
    EXPECTED_DELIVERY_DATE OKL_K_HEADERS.EXPECTED_DELIVERY_DATE%TYPE := OKL_API.G_MISS_DATE,
    ACCEPTED_DATE OKL_K_HEADERS.ACCEPTED_DATE%TYPE := OKL_API.G_MISS_DATE,
    PREFUNDING_ELIGIBLE_YN OKL_K_HEADERS.PREFUNDING_ELIGIBLE_YN%TYPE := OKL_API.G_MISS_CHAR,
    REVOLVING_CREDIT_YN OKL_K_HEADERS.REVOLVING_CREDIT_YN%TYPE := OKL_API.G_MISS_CHAR,
-- Bug# 2697681 11.5.9 enhancements
    CURRENCY_CONVERSION_TYPE  OKL_K_HEADERS.CURRENCY_CONVERSION_TYPE%TYPE  := OKL_API.G_MISS_CHAR,
    CURRENCY_CONVERSION_RATE  NUMBER := OKL_API.G_MISS_NUM,
    CURRENCY_CONVERSION_DATE  OKL_K_HEADERS.CURRENCY_CONVERSION_DATE%TYPE  := OKL_API.G_MISS_DATE,
    MULTI_GAAP_YN             OKL_K_HEADERS.MULTI_GAAP_YN%TYPE := OKL_API.G_MISS_CHAR,
    RECOURSE_CODE             OKL_K_HEADERS.RECOURSE_CODE%TYPE := OKL_API.G_MISS_CHAR,
    LESSOR_SERV_ORG_CODE      OKL_K_HEADERS.LESSOR_SERV_ORG_CODE%TYPE := OKL_API.G_MISS_CHAR,
    ASSIGNABLE_YN             OKL_K_HEADERS.ASSIGNABLE_YN%TYPE := OKL_API.G_MISS_CHAR,
    SECURITIZED_CODE          OKL_K_HEADERS.SECURITIZED_CODE%TYPE := OKL_API.G_MISS_CHAR,
    SECURITIZATION_TYPE       OKL_K_HEADERS.SECURITIZATION_TYPE%TYPE := OKL_API.G_MISS_CHAR,
-- Bug# 3143522 : 11.5.10
   --subsidy
   SUB_PRE_TAX_YIELD          NUMBER := OKL_API.G_MISS_NUM,
   SUB_AFTER_TAX_YIELD        NUMBER := OKL_API.G_MISS_NUM,
   SUB_IMPL_INTEREST_RATE     NUMBER := OKL_API.G_MISS_NUM,
   SUB_IMPL_NON_IDC_INT_RATE  NUMBER := OKL_API.G_MISS_NUM,
   SUB_PRE_TAX_IRR            NUMBER := OKL_API.G_MISS_NUM,
   SUB_AFTER_TAX_IRR          NUMBER := OKL_API.G_MISS_NUM,
-- Bug# Rollover fix
-- Rollover
   TOT_CL_TRANSFER_AMT        NUMBER := OKL_API.G_MISS_NUM,
   TOT_CL_NET_TRANSFER_AMT    NUMBER := OKL_API.G_MISS_NUM,
   TOT_CL_LIMIT               NUMBER := OKL_API.G_MISS_NUM,
   TOT_CL_FUNDING_AMT         NUMBER := OKL_API.G_MISS_NUM,
-- Added by Manu
   CRS_ID                     NUMBER := OKL_API.G_MISS_NUM,
   TEMPLATE_TYPE_CODE         OKL_K_HEADERS.TEMPLATE_TYPE_CODE%TYPE := OKL_API.G_MISS_CHAR,
--Bug# 4419339 OKLH Schema Sales Quote
   DATE_FUNDING_EXPECTED      DATE   := OKL_API.G_MISS_DATE,
   DATE_TRADEIN      	      DATE   := OKL_API.G_MISS_DATE,
   TRADEIN_AMOUNT             NUMBER := OKL_API.G_MISS_NUM,
   TRADEIN_DESCRIPTION        OKL_K_HEADERS.TRADEIN_DESCRIPTION%TYPE := OKL_API.G_MISS_CHAR,
   --Added by dpsingh for LE uptake
   LEGAL_ENTITY_ID  NUMBER := Okl_Api.G_MISS_NUM
  );

  g_miss_khr_rec  khr_rec_type;

  TYPE khr_tbl_type IS TABLE OF khr_rec_type INDEX BY BINARY_INTEGER;

  TYPE okl_k_headers_h_rec_type IS RECORD (
    ID NUMBER := OKL_API.G_MISS_NUM,
    MAJOR_VERSION NUMBER := OKL_API.G_MISS_NUM,
    ISG_ID NUMBER := OKL_API.G_MISS_NUM,
    KHR_ID NUMBER := OKL_API.G_MISS_NUM,
    PDT_ID NUMBER := OKL_API.G_MISS_NUM,
    OBJECT_VERSION_NUMBER NUMBER := OKL_API.G_MISS_NUM,
    DATE_FIRST_ACTIVITY OKL_K_HEADERS_H.DATE_FIRST_ACTIVITY%TYPE := OKL_API.G_MISS_DATE,
    SYNDICATABLE_YN OKL_K_HEADERS_H.SYNDICATABLE_YN%TYPE := OKL_API.G_MISS_CHAR,
    SALESTYPE_YN OKL_K_HEADERS_H.SALESTYPE_YN%TYPE := OKL_API.G_MISS_CHAR,
    DATE_REFINANCED OKL_K_HEADERS_H.DATE_REFINANCED%TYPE := OKL_API.G_MISS_DATE,
    DATE_CONVERSION_EFFECTIVE OKL_K_HEADERS_H.DATE_CONVERSION_EFFECTIVE%TYPE := OKL_API.G_MISS_DATE,
    DATE_DEAL_TRANSFERRED OKL_K_HEADERS_H.DATE_DEAL_TRANSFERRED%TYPE := OKL_API.G_MISS_DATE,
    TERM_DURATION NUMBER := OKL_API.G_MISS_NUM,
    DATETIME_PROPOSAL_EFFECTIVE OKL_K_HEADERS_H.DATETIME_PROPOSAL_EFFECTIVE%TYPE := OKL_API.G_MISS_DATE,
    DATETIME_PROPOSAL_INEFFECTIVE OKL_K_HEADERS_H.DATETIME_PROPOSAL_INEFFECTIVE%TYPE := OKL_API.G_MISS_DATE,
    DATE_PROPOSAL_ACCEPTED OKL_K_HEADERS_H.DATE_PROPOSAL_ACCEPTED%TYPE := OKL_API.G_MISS_DATE,
    ATTRIBUTE_CATEGORY OKL_K_HEADERS_H.ATTRIBUTE_CATEGORY%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE1 OKL_K_HEADERS_H.ATTRIBUTE1%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE2 OKL_K_HEADERS_H.ATTRIBUTE2%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE3 OKL_K_HEADERS_H.ATTRIBUTE3%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE4 OKL_K_HEADERS_H.ATTRIBUTE4%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE5 OKL_K_HEADERS_H.ATTRIBUTE5%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE6 OKL_K_HEADERS_H.ATTRIBUTE6%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE7 OKL_K_HEADERS_H.ATTRIBUTE7%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE8 OKL_K_HEADERS_H.ATTRIBUTE8%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE9 OKL_K_HEADERS_H.ATTRIBUTE9%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE10 OKL_K_HEADERS_H.ATTRIBUTE10%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE11 OKL_K_HEADERS_H.ATTRIBUTE11%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE12 OKL_K_HEADERS_H.ATTRIBUTE12%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE13 OKL_K_HEADERS_H.ATTRIBUTE13%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE14 OKL_K_HEADERS_H.ATTRIBUTE14%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE15 OKL_K_HEADERS_H.ATTRIBUTE15%TYPE := OKL_API.G_MISS_CHAR,
    CREATED_BY NUMBER := OKL_API.G_MISS_NUM,
    CREATION_DATE OKL_K_HEADERS_H.CREATION_DATE%TYPE := OKL_API.G_MISS_DATE,
    LAST_UPDATED_BY NUMBER := OKL_API.G_MISS_NUM,
    LAST_UPDATE_DATE OKL_K_HEADERS_H.LAST_UPDATE_DATE%TYPE := OKL_API.G_MISS_DATE,
    LAST_UPDATE_LOGIN NUMBER := OKL_API.G_MISS_NUM,
    AMD_CODE OKL_K_HEADERS_H.AMD_CODE%TYPE := OKL_API.G_MISS_CHAR,
    GENERATE_ACCRUAL_YN OKL_K_HEADERS_H.GENERATE_ACCRUAL_YN%TYPE := OKL_API.G_MISS_CHAR,
    GENERATE_ACCRUAL_OVERRIDE_YN OKL_K_HEADERS_H.GENERATE_ACCRUAL_OVERRIDE_YN%TYPE := OKL_API.G_MISS_CHAR,
    CREDIT_ACT_YN OKL_K_HEADERS_H.CREDIT_ACT_YN%TYPE := OKL_API.G_MISS_CHAR,
    CONVERTED_ACCOUNT_YN OKL_K_HEADERS_H.CONVERTED_ACCOUNT_YN%TYPE := OKL_API.G_MISS_CHAR,
    PRE_TAX_YIELD NUMBER := OKL_API.G_MISS_NUM,
    AFTER_TAX_YIELD NUMBER := OKL_API.G_MISS_NUM,
    IMPLICIT_INTEREST_RATE NUMBER := OKL_API.G_MISS_NUM,
    IMPLICIT_NON_IDC_INTEREST_RATE NUMBER := OKL_API.G_MISS_NUM,
    TARGET_PRE_TAX_YIELD NUMBER := OKL_API.G_MISS_NUM,
    TARGET_AFTER_TAX_YIELD NUMBER := OKL_API.G_MISS_NUM,
    TARGET_IMPLICIT_INTEREST_RATE NUMBER := OKL_API.G_MISS_NUM,
    TARGET_IMPLICIT_NONIDC_INTRATE NUMBER := OKL_API.G_MISS_NUM,
    DATE_LAST_INTERIM_INTEREST_CAL OKL_K_HEADERS_H.DATE_LAST_INTERIM_INTEREST_CAL%TYPE := OKL_API.G_MISS_DATE,
    DEAL_TYPE OKL_K_HEADERS_H.DEAL_TYPE%TYPE := OKL_API.G_MISS_CHAR,
    PRE_TAX_IRR NUMBER := OKL_API.G_MISS_NUM,
    AFTER_TAX_IRR NUMBER := OKL_API.G_MISS_NUM,
    EXPECTED_DELIVERY_DATE OKL_K_HEADERS_H.EXPECTED_DELIVERY_DATE%TYPE := OKL_API.G_MISS_DATE,
    ACCEPTED_DATE OKL_K_HEADERS_H.ACCEPTED_DATE%TYPE := OKL_API.G_MISS_DATE,
    PREFUNDING_ELIGIBLE_YN OKL_K_HEADERS_H.PREFUNDING_ELIGIBLE_YN%TYPE := OKL_API.G_MISS_CHAR,
    REVOLVING_CREDIT_YN OKL_K_HEADERS_H.REVOLVING_CREDIT_YN%TYPE := OKL_API.G_MISS_CHAR,
-- Bug# 2697681  schema changes 11.5.9 enhancements
    CURRENCY_CONVERSION_TYPE  OKL_K_HEADERS_H.CURRENCY_CONVERSION_TYPE%TYPE  := OKL_API.G_MISS_CHAR,
    CURRENCY_CONVERSION_RATE  NUMBER := OKL_API.G_MISS_NUM,
    CURRENCY_CONVERSION_DATE  OKL_K_HEADERS_H.CURRENCY_CONVERSION_DATE%TYPE  := OKL_API.G_MISS_DATE,
    MULTI_GAAP_YN             OKL_K_HEADERS_H.MULTI_GAAP_YN%TYPE := OKL_API.G_MISS_CHAR,
    RECOURSE_CODE             OKL_K_HEADERS_H.RECOURSE_CODE%TYPE := OKL_API.G_MISS_CHAR,
    LESSOR_SERV_ORG_CODE      OKL_K_HEADERS_H.LESSOR_SERV_ORG_CODE%TYPE := OKL_API.G_MISS_CHAR,
    ASSIGNABLE_YN             OKL_K_HEADERS_H.ASSIGNABLE_YN%TYPE := OKL_API.G_MISS_CHAR,
    SECURITIZED_CODE          OKL_K_HEADERS_H.SECURITIZED_CODE%TYPE := OKL_API.G_MISS_CHAR,
    SECURITIZATION_TYPE       OKL_K_HEADERS_H.SECURITIZATION_TYPE%TYPE := OKL_API.G_MISS_CHAR,
-- Bug#3143522 : 11.5.10
   --subsidy
   SUB_PRE_TAX_YIELD          NUMBER := OKL_API.G_MISS_NUM,
   SUB_AFTER_TAX_YIELD        NUMBER := OKL_API.G_MISS_NUM,
   SUB_IMPL_INTEREST_RATE     NUMBER := OKL_API.G_MISS_NUM,
   SUB_IMPL_NON_IDC_INT_RATE  NUMBER := OKL_API.G_MISS_NUM,
   SUB_PRE_TAX_IRR            NUMBER := OKL_API.G_MISS_NUM,
   SUB_AFTER_TAX_IRR          NUMBER := OKL_API.G_MISS_NUM,
-- Bug# Rollover fix
-- Rollover
   TOT_CL_TRANSFER_AMT        NUMBER := OKL_API.G_MISS_NUM,
   TOT_CL_NET_TRANSFER_AMT    NUMBER := OKL_API.G_MISS_NUM,
   TOT_CL_LIMIT               NUMBER := OKL_API.G_MISS_NUM,
   TOT_CL_FUNDING_AMT         NUMBER := OKL_API.G_MISS_NUM,
-- Added by Manu
   CRS_ID                     NUMBER := OKL_API.G_MISS_NUM,
   TEMPLATE_TYPE_CODE         OKL_K_HEADERS.TEMPLATE_TYPE_CODE%TYPE := OKL_API.G_MISS_CHAR,
  --Bug# 4419339 OKLH Schema Sales Quote
   DATE_FUNDING_EXPECTED      DATE   := OKL_API.G_MISS_DATE,
   DATE_TRADEIN      	      DATE   := OKL_API.G_MISS_DATE,
   TRADEIN_AMOUNT             NUMBER := OKL_API.G_MISS_NUM,
   TRADEIN_DESCRIPTION        OKL_K_HEADERS.TRADEIN_DESCRIPTION%TYPE := OKL_API.G_MISS_CHAR,
   --Added by dpsingh for LE uptake
   LEGAL_ENTITY_ID  NUMBER := Okl_Api.G_MISS_NUM
);

  g_miss_okl_k_headers_h_rec  okl_k_headers_h_rec_type;

  TYPE okl_k_headers_h_tbl_type IS TABLE OF okl_k_headers_h_rec_type INDEX BY BINARY_INTEGER;

  TYPE khrv_rec_type IS RECORD (
    ID NUMBER := OKL_API.G_MISS_NUM,
    OBJECT_VERSION_NUMBER NUMBER := OKL_API.G_MISS_NUM,
    ISG_ID NUMBER := OKL_API.G_MISS_NUM,
    KHR_ID NUMBER := OKL_API.G_MISS_NUM,
    PDT_ID NUMBER := OKL_API.G_MISS_NUM,
    AMD_CODE OKL_K_HEADERS_V.AMD_CODE%TYPE := OKL_API.G_MISS_CHAR,
    DATE_FIRST_ACTIVITY OKL_K_HEADERS_V.DATE_FIRST_ACTIVITY%TYPE := OKL_API.G_MISS_DATE,
    GENERATE_ACCRUAL_YN OKL_K_HEADERS_V.GENERATE_ACCRUAL_YN%TYPE := OKL_API.G_MISS_CHAR,
    GENERATE_ACCRUAL_OVERRIDE_YN OKL_K_HEADERS_V.GENERATE_ACCRUAL_OVERRIDE_YN%TYPE := OKL_API.G_MISS_CHAR,
    DATE_REFINANCED OKL_K_HEADERS_V.DATE_REFINANCED%TYPE := OKL_API.G_MISS_DATE,
    CREDIT_ACT_YN OKL_K_HEADERS_V.CREDIT_ACT_YN%TYPE := OKL_API.G_MISS_CHAR,
    TERM_DURATION NUMBER := OKL_API.G_MISS_NUM,
    CONVERTED_ACCOUNT_YN OKL_K_HEADERS_V.CONVERTED_ACCOUNT_YN%TYPE := OKL_API.G_MISS_CHAR,
    DATE_CONVERSION_EFFECTIVE OKL_K_HEADERS_V.DATE_CONVERSION_EFFECTIVE%TYPE := OKL_API.G_MISS_DATE,
    SYNDICATABLE_YN OKL_K_HEADERS_V.SYNDICATABLE_YN%TYPE := OKL_API.G_MISS_CHAR,
    SALESTYPE_YN OKL_K_HEADERS_V.SALESTYPE_YN%TYPE := OKL_API.G_MISS_CHAR,
    DATE_DEAL_TRANSFERRED OKL_K_HEADERS_V.DATE_DEAL_TRANSFERRED%TYPE := OKL_API.G_MISS_DATE,
    DATETIME_PROPOSAL_EFFECTIVE OKL_K_HEADERS_V.DATETIME_PROPOSAL_EFFECTIVE%TYPE := OKL_API.G_MISS_DATE,
    DATETIME_PROPOSAL_INEFFECTIVE OKL_K_HEADERS_V.DATETIME_PROPOSAL_INEFFECTIVE%TYPE := OKL_API.G_MISS_DATE,
    DATE_PROPOSAL_ACCEPTED OKL_K_HEADERS_V.DATE_PROPOSAL_ACCEPTED%TYPE := OKL_API.G_MISS_DATE,
    ATTRIBUTE_CATEGORY OKL_K_HEADERS_V.ATTRIBUTE_CATEGORY%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE1 OKL_K_HEADERS_V.ATTRIBUTE1%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE2 OKL_K_HEADERS_V.ATTRIBUTE2%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE3 OKL_K_HEADERS_V.ATTRIBUTE3%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE4 OKL_K_HEADERS_V.ATTRIBUTE4%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE5 OKL_K_HEADERS_V.ATTRIBUTE5%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE6 OKL_K_HEADERS_V.ATTRIBUTE6%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE7 OKL_K_HEADERS_V.ATTRIBUTE7%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE8 OKL_K_HEADERS_V.ATTRIBUTE8%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE9 OKL_K_HEADERS_V.ATTRIBUTE9%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE10 OKL_K_HEADERS_V.ATTRIBUTE10%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE11 OKL_K_HEADERS_V.ATTRIBUTE11%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE12 OKL_K_HEADERS_V.ATTRIBUTE12%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE13 OKL_K_HEADERS_V.ATTRIBUTE13%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE14 OKL_K_HEADERS_V.ATTRIBUTE14%TYPE := OKL_API.G_MISS_CHAR,
    ATTRIBUTE15 OKL_K_HEADERS_V.ATTRIBUTE15%TYPE := OKL_API.G_MISS_CHAR,
    CREATED_BY NUMBER := OKL_API.G_MISS_NUM,
    CREATION_DATE OKL_K_HEADERS_V.CREATION_DATE%TYPE := OKL_API.G_MISS_DATE,
    LAST_UPDATED_BY NUMBER := OKL_API.G_MISS_NUM,
    LAST_UPDATE_DATE OKL_K_HEADERS_V.LAST_UPDATE_DATE%TYPE := OKL_API.G_MISS_DATE,
    LAST_UPDATE_LOGIN NUMBER := OKL_API.G_MISS_NUM,
    PRE_TAX_YIELD NUMBER := OKL_API.G_MISS_NUM,
    AFTER_TAX_YIELD NUMBER := OKL_API.G_MISS_NUM,
    IMPLICIT_INTEREST_RATE NUMBER := OKL_API.G_MISS_NUM,
    IMPLICIT_NON_IDC_INTEREST_RATE NUMBER := OKL_API.G_MISS_NUM,
    TARGET_PRE_TAX_YIELD NUMBER := OKL_API.G_MISS_NUM,
    TARGET_AFTER_TAX_YIELD NUMBER := OKL_API.G_MISS_NUM,
    TARGET_IMPLICIT_INTEREST_RATE NUMBER := OKL_API.G_MISS_NUM,
    TARGET_IMPLICIT_NONIDC_INTRATE NUMBER := OKL_API.G_MISS_NUM,
    DATE_LAST_INTERIM_INTEREST_CAL OKL_K_HEADERS_V.DATE_LAST_INTERIM_INTEREST_CAL%TYPE := OKL_API.G_MISS_DATE,
    DEAL_TYPE OKL_K_HEADERS_V.DEAL_TYPE%TYPE := OKL_API.G_MISS_CHAR,
    PRE_TAX_IRR NUMBER := OKL_API.G_MISS_NUM,
    AFTER_TAX_IRR NUMBER := OKL_API.G_MISS_NUM,
    EXPECTED_DELIVERY_DATE OKL_K_HEADERS_V.EXPECTED_DELIVERY_DATE%TYPE := OKL_API.G_MISS_DATE,
    ACCEPTED_DATE OKL_K_HEADERS_V.ACCEPTED_DATE%TYPE := OKL_API.G_MISS_DATE,
    PREFUNDING_ELIGIBLE_YN OKL_K_HEADERS_V.PREFUNDING_ELIGIBLE_YN%TYPE := OKL_API.G_MISS_CHAR,
    REVOLVING_CREDIT_YN OKL_K_HEADERS_V.REVOLVING_CREDIT_YN%TYPE := OKL_API.G_MISS_CHAR,
---- Bug# 2697681  schema changes 11.5.9 enhancements
    CURRENCY_CONVERSION_TYPE  OKL_K_HEADERS_V.CURRENCY_CONVERSION_TYPE%TYPE  := OKL_API.G_MISS_CHAR,
    CURRENCY_CONVERSION_RATE  NUMBER := OKL_API.G_MISS_NUM,
    CURRENCY_CONVERSION_DATE  OKL_K_HEADERS_V.CURRENCY_CONVERSION_DATE%TYPE  := OKL_API.G_MISS_DATE,
    MULTI_GAAP_YN             OKL_K_HEADERS_V.MULTI_GAAP_YN%TYPE := OKL_API.G_MISS_CHAR,
    RECOURSE_CODE             OKL_K_HEADERS_V.RECOURSE_CODE%TYPE := OKL_API.G_MISS_CHAR,
    LESSOR_SERV_ORG_CODE      OKL_K_HEADERS_V.LESSOR_SERV_ORG_CODE%TYPE := OKL_API.G_MISS_CHAR,
    ASSIGNABLE_YN             OKL_K_HEADERS_V.ASSIGNABLE_YN%TYPE := OKL_API.G_MISS_CHAR,
    SECURITIZED_CODE          OKL_K_HEADERS_V.SECURITIZED_CODE%TYPE := OKL_API.G_MISS_CHAR,
    SECURITIZATION_TYPE       OKL_K_HEADERS_V.SECURITIZATION_TYPE%TYPE := OKL_API.G_MISS_CHAR,
-- Bug#3143522 : 11.5.10
   --subsidy
   SUB_PRE_TAX_YIELD          NUMBER := OKL_API.G_MISS_NUM,
   SUB_AFTER_TAX_YIELD        NUMBER := OKL_API.G_MISS_NUM,
   SUB_IMPL_INTEREST_RATE     NUMBER := OKL_API.G_MISS_NUM,
   SUB_IMPL_NON_IDC_INT_RATE  NUMBER := OKL_API.G_MISS_NUM,
   SUB_PRE_TAX_IRR            NUMBER := OKL_API.G_MISS_NUM,
   SUB_AFTER_TAX_IRR          NUMBER := OKL_API.G_MISS_NUM,
-- Bug# Rollover fix
-- Rollover
   TOT_CL_TRANSFER_AMT        NUMBER := OKL_API.G_MISS_NUM,
   TOT_CL_NET_TRANSFER_AMT    NUMBER := OKL_API.G_MISS_NUM,
   TOT_CL_LIMIT               NUMBER := OKL_API.G_MISS_NUM,
   TOT_CL_FUNDING_AMT         NUMBER := OKL_API.G_MISS_NUM,
-- Added by Manu
   CRS_ID                     NUMBER := OKL_API.G_MISS_NUM,
   TEMPLATE_TYPE_CODE         OKL_K_HEADERS.TEMPLATE_TYPE_CODE%TYPE := OKL_API.G_MISS_CHAR,
  --Bug# 4419339 OKLH Schema Sales Quote
   DATE_FUNDING_EXPECTED      DATE   := OKL_API.G_MISS_DATE,
   DATE_TRADEIN      	      DATE   := OKL_API.G_MISS_DATE,
   TRADEIN_AMOUNT             NUMBER := OKL_API.G_MISS_NUM,
   TRADEIN_DESCRIPTION        OKL_K_HEADERS.TRADEIN_DESCRIPTION%TYPE := OKL_API.G_MISS_CHAR,
   --Bug# 4558486
   VALIDATE_DFF_YN            VARCHAR(3) := OKL_API.G_MISS_CHAR,

   --Added by dpsingh for LE uptake
   LEGAL_ENTITY_ID  NUMBER := Okl_Api.G_MISS_NUM
);

  g_miss_khrv_rec  khrv_rec_type;

  TYPE khrv_tbl_type IS TABLE OF khrv_rec_type INDEX BY BINARY_INTEGER;

  ---------------------------------------------------------------------------
  -- GLOBAL MESSAGE CONSTANTS
  ---------------------------------------------------------------------------
  G_FND_APP			CONSTANT VARCHAR2(200) := OKL_API.G_FND_APP;
  G_FORM_UNABLE_TO_RESERVE_REC	CONSTANT VARCHAR2(200) := OKL_API.G_FORM_UNABLE_TO_RESERVE_REC;
  G_FORM_RECORD_DELETED		CONSTANT VARCHAR2(200) := OKL_API.G_FORM_RECORD_DELETED;
  G_FORM_RECORD_CHANGED		CONSTANT VARCHAR2(200) := OKL_API.G_FORM_RECORD_CHANGED;
  G_RECORD_LOGICALLY_DELETED	CONSTANT VARCHAR2(200) := OKL_API.G_RECORD_LOGICALLY_DELETED;
  G_REQUIRED_VALUE		CONSTANT VARCHAR2(200) := OKL_API.G_REQUIRED_VALUE;
  G_INVALID_VALUE			CONSTANT VARCHAR2(200) := OKL_API.G_INVALID_VALUE;
  G_COL_NAME_TOKEN		CONSTANT VARCHAR2(200) := OKL_API.G_COL_NAME_TOKEN;
  G_PARENT_TABLE_TOKEN		CONSTANT VARCHAR2(200) := OKL_API.G_PARENT_TABLE_TOKEN;
  G_CHILD_TABLE_TOKEN		CONSTANT VARCHAR2(200) := OKL_API.G_CHILD_TABLE_TOKEN;

  ---------------------------------------------------------------------------
  -- GLOBAL VARIABLES
  ---------------------------------------------------------------------------
  G_PKG_NAME			CONSTANT VARCHAR2(200) := 'OKL_KHR_PVT';
  G_APP_NAME			CONSTANT VARCHAR2(3)   :=  OKL_API.G_APP_NAME;

  ---------------------------------------------------------------------------
  -- Procedures and Functions
  ---------------------------------------------------------------------------

  PROCEDURE qc;
  PROCEDURE change_version;
  PROCEDURE api_copy;


  PROCEDURE insert_row(

    p_api_version                  IN NUMBER,
    p_init_msg_list                IN VARCHAR2 DEFAULT OKL_API.G_FALSE,
    x_return_status                OUT NOCOPY VARCHAR2,
    x_msg_count                    OUT NOCOPY NUMBER,
    x_msg_data                     OUT NOCOPY VARCHAR2,
    p_khrv_rec                     IN khrv_rec_type,
    x_khrv_rec                     OUT NOCOPY khrv_rec_type);

  PROCEDURE insert_row(

    p_api_version                  IN NUMBER,
    p_init_msg_list                IN VARCHAR2 DEFAULT OKL_API.G_FALSE,
    x_return_status                OUT NOCOPY VARCHAR2,
    x_msg_count                    OUT NOCOPY NUMBER,
    x_msg_data                     OUT NOCOPY VARCHAR2,
    p_khrv_tbl                     IN khrv_tbl_type,
    x_khrv_tbl                     OUT NOCOPY khrv_tbl_type);

  PROCEDURE update_row(

    p_api_version                  IN NUMBER,
    p_init_msg_list                IN VARCHAR2 DEFAULT OKL_API.G_FALSE,
    x_return_status                OUT NOCOPY VARCHAR2,
    x_msg_count                    OUT NOCOPY NUMBER,
    x_msg_data                     OUT NOCOPY VARCHAR2,
    p_khrv_rec                     IN khrv_rec_type,
    x_khrv_rec                     OUT NOCOPY khrv_rec_type);

  PROCEDURE update_row(

    p_api_version                  IN NUMBER,
    p_init_msg_list                IN VARCHAR2 DEFAULT OKL_API.G_FALSE,
    x_return_status                OUT NOCOPY VARCHAR2,
    x_msg_count                    OUT NOCOPY NUMBER,
    x_msg_data                     OUT NOCOPY VARCHAR2,
    p_khrv_tbl                     IN khrv_tbl_type,
    x_khrv_tbl                     OUT NOCOPY khrv_tbl_type);

  PROCEDURE delete_row(

    p_api_version                  IN NUMBER,
    p_init_msg_list                IN VARCHAR2 DEFAULT OKL_API.G_FALSE,
    x_return_status                OUT NOCOPY VARCHAR2,
    x_msg_count                    OUT NOCOPY NUMBER,
    x_msg_data                     OUT NOCOPY VARCHAR2,
    p_khrv_rec                     IN khrv_rec_type);

  PROCEDURE delete_row(

    p_api_version                  IN NUMBER,
    p_init_msg_list                IN VARCHAR2 DEFAULT OKL_API.G_FALSE,
    x_return_status                OUT NOCOPY VARCHAR2,
    x_msg_count                    OUT NOCOPY NUMBER,
    x_msg_data                     OUT NOCOPY VARCHAR2,
    p_khrv_tbl                     IN khrv_tbl_type);

  PROCEDURE validate_row(

    p_api_version                  IN NUMBER,
    p_init_msg_list                IN VARCHAR2 DEFAULT OKL_API.G_FALSE,
    x_return_status                OUT NOCOPY VARCHAR2,
    x_msg_count                    OUT NOCOPY NUMBER,
    x_msg_data                     OUT NOCOPY VARCHAR2,
    p_khrv_rec                     IN khrv_rec_type);

  PROCEDURE validate_row(

    p_api_version                  IN NUMBER,
    p_init_msg_list                IN VARCHAR2 DEFAULT OKL_API.G_FALSE,
    x_return_status                OUT NOCOPY VARCHAR2,
    x_msg_count                    OUT NOCOPY NUMBER,
    x_msg_data                     OUT NOCOPY VARCHAR2,
    p_khrv_tbl                     IN khrv_tbl_type);

  PROCEDURE lock_row(

    p_api_version                  IN NUMBER,
    p_init_msg_list                IN VARCHAR2 DEFAULT OKL_API.G_FALSE,
    x_return_status                OUT NOCOPY VARCHAR2,
    x_msg_count                    OUT NOCOPY NUMBER,
    x_msg_data                     OUT NOCOPY VARCHAR2,
    p_khrv_rec                     IN khrv_rec_type);

  PROCEDURE lock_row(

    p_api_version                  IN NUMBER,
    p_init_msg_list                IN VARCHAR2 DEFAULT OKL_API.G_FALSE,
    x_return_status                OUT NOCOPY VARCHAR2,
    x_msg_count                    OUT NOCOPY NUMBER,
    x_msg_data                     OUT NOCOPY VARCHAR2,
    p_khrv_tbl                     IN khrv_tbl_type);

  FUNCTION create_version(
    p_khr_id IN NUMBER,
    p_major_version IN NUMBER) RETURN VARCHAR2;

  FUNCTION restore_version(
    p_khr_id IN NUMBER,
    p_major_version IN NUMBER) RETURN VARCHAR2;


END OKL_KHR_PVT;

/
