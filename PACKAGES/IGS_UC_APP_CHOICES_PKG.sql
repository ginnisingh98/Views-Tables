--------------------------------------------------------
--  DDL for Package IGS_UC_APP_CHOICES_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE "APPS"."IGS_UC_APP_CHOICES_PKG" AUTHID CURRENT_USER AS
/* $Header: IGSXI02S.pls 120.1 2005/06/09 23:51:09 appldev  $ */

  PROCEDURE insert_row (
    x_rowid                             IN OUT NOCOPY VARCHAR2,
    x_app_choice_id                     IN OUT NOCOPY NUMBER,
    x_app_id                            IN     NUMBER,
    x_app_no                            IN     NUMBER,
    x_choice_no                         IN     NUMBER,
    x_last_change                       IN     DATE,
    x_institute_code                    IN     VARCHAR2,
    x_ucas_program_code                 IN     VARCHAR2,
    x_oss_program_code                  IN     VARCHAR2,
    x_oss_program_version               IN     NUMBER,
    x_oss_attendance_type               IN     VARCHAR2,
    x_oss_attendance_mode               IN     VARCHAR2,
    x_campus                            IN     VARCHAR2,
    x_oss_location                      IN     VARCHAR2,
    x_faculty                           IN     VARCHAR2,
    x_entry_year                        IN     NUMBER,
    x_entry_month                       IN     NUMBER,
    x_point_of_entry                    IN     NUMBER,
    x_home                              IN     VARCHAR2,
    x_deferred                          IN     VARCHAR2,
    x_route_b_pref_round                IN     NUMBER,
    x_route_b_actual_round              IN     NUMBER,
    x_condition_category                IN     VARCHAR2,
    x_condition_code                    IN     VARCHAR2,
    x_decision                          IN     VARCHAR2,
    x_decision_date                     IN     DATE,
    x_decision_number                   IN     NUMBER,
    x_reply                             IN     VARCHAR2,
    x_summary_of_cond                   IN     VARCHAR2,
    x_choice_cancelled                  IN     VARCHAR2,
    x_action                            IN     VARCHAR2,
    x_substitution                      IN     VARCHAR2,
    x_date_substituted                  IN     DATE,
    x_prev_institution                  IN     VARCHAR2,
    x_prev_course                       IN     VARCHAR2,
    x_prev_campus                       IN     VARCHAR2,
    x_ucas_amendment                    IN     VARCHAR2,
    x_withdrawal_reason                 IN     VARCHAR2,
    x_offer_course                      IN     VARCHAR2,
    x_offer_campus                      IN     VARCHAR2,
    x_offer_crse_length                 IN     NUMBER,
    x_offer_entry_month                 IN     VARCHAR2,
    x_offer_entry_year                  IN     VARCHAR2,
    x_offer_entry_point                 IN     VARCHAR2,
    x_offer_text                        IN     VARCHAR2,
    x_mode                              IN     VARCHAR2    DEFAULT 'R' ,
    x_export_to_oss_status              IN     VARCHAR2   DEFAULT NULL,
    x_error_code                        IN     VARCHAR2   DEFAULT NULL,
    x_request_id                        IN     NUMBER     DEFAULT NULL,
    x_batch_id                          IN     NUMBER     DEFAULT NULL,
    x_extra_round_nbr                   IN     NUMBER     DEFAULT NULL ,
    x_system_code		        IN     VARCHAR2	  DEFAULT NULL,
    x_part_time		                IN     VARCHAR2	  DEFAULT NULL,
    x_interview	                       	IN     DATE	  DEFAULT NULL,
    x_late_application	              	IN     VARCHAR2	  DEFAULT NULL,
    x_modular	                        IN     VARCHAR2	  DEFAULT NULL,
    x_residential	                IN     VARCHAR2	  DEFAULT NULL,
    x_ucas_cycle                        IN     NUMBER     DEFAULT NULL
  );

  PROCEDURE lock_row (
    x_rowid                             IN     VARCHAR2,
    x_app_choice_id                     IN     NUMBER,
    x_app_id                            IN     NUMBER,
    x_app_no                            IN     NUMBER,
    x_choice_no                         IN     NUMBER,
    x_last_change                       IN     DATE,
    x_institute_code                    IN     VARCHAR2,
    x_ucas_program_code                 IN     VARCHAR2,
    x_oss_program_code                  IN     VARCHAR2,
    x_oss_program_version               IN     NUMBER,
    x_oss_attendance_type               IN     VARCHAR2,
    x_oss_attendance_mode               IN     VARCHAR2,
    x_campus                            IN     VARCHAR2,
    x_oss_location                      IN     VARCHAR2,
    x_faculty                           IN     VARCHAR2,
    x_entry_year                        IN     NUMBER,
    x_entry_month                       IN     NUMBER,
    x_point_of_entry                    IN     NUMBER,
    x_home                              IN     VARCHAR2,
    x_deferred                          IN     VARCHAR2,
    x_route_b_pref_round                IN     NUMBER,
    x_route_b_actual_round              IN     NUMBER,
    x_condition_category                IN     VARCHAR2,
    x_condition_code                    IN     VARCHAR2,
    x_decision                          IN     VARCHAR2,
    x_decision_date                     IN     DATE,
    x_decision_number                   IN     NUMBER,
    x_reply                             IN     VARCHAR2,
    x_summary_of_cond                   IN     VARCHAR2,
    x_choice_cancelled                  IN     VARCHAR2,
    x_action                            IN     VARCHAR2,
    x_substitution                      IN     VARCHAR2,
    x_date_substituted                  IN     DATE,
    x_prev_institution                  IN     VARCHAR2,
    x_prev_course                       IN     VARCHAR2,
    x_prev_campus                       IN     VARCHAR2,
    x_ucas_amendment                    IN     VARCHAR2,
    x_withdrawal_reason                 IN     VARCHAR2,
    x_offer_course                      IN     VARCHAR2,
    x_offer_campus                      IN     VARCHAR2,
    x_offer_crse_length                 IN     NUMBER,
    x_offer_entry_month                 IN     VARCHAR2,
    x_offer_entry_year                  IN     VARCHAR2,
    x_offer_entry_point                 IN     VARCHAR2,
    x_offer_text                        IN     VARCHAR2,
    x_export_to_oss_status              IN     VARCHAR2  DEFAULT NULL,
    x_error_code                        IN     VARCHAR2  DEFAULT NULL,
    x_request_id                        IN     NUMBER  DEFAULT NULL,
    x_batch_id                          IN     NUMBER  DEFAULT NULL,
    x_extra_round_nbr                   IN     NUMBER     DEFAULT NULL   ,
    x_system_code		        IN	VARCHAR2	DEFAULT NULL,
    x_part_time		                IN	VARCHAR2	DEFAULT NULL,
    x_interview	                       	IN	DATE		DEFAULT NULL,
    x_late_application	              	IN	VARCHAR2	DEFAULT NULL,
    x_modular	                        IN	VARCHAR2	DEFAULT NULL,
    x_residential	                IN	VARCHAR2	DEFAULT NULL,
    x_ucas_cycle                        IN     NUMBER		DEFAULT NULL
  );

  PROCEDURE update_row (
    x_rowid                             IN     VARCHAR2,
    x_app_choice_id                     IN     NUMBER,
    x_app_id                            IN     NUMBER,
    x_app_no                            IN     NUMBER,
    x_choice_no                         IN     NUMBER,
    x_last_change                       IN     DATE,
    x_institute_code                    IN     VARCHAR2,
    x_ucas_program_code                 IN     VARCHAR2,
    x_oss_program_code                  IN     VARCHAR2,
    x_oss_program_version               IN     NUMBER,
    x_oss_attendance_type               IN     VARCHAR2,
    x_oss_attendance_mode               IN     VARCHAR2,
    x_campus                            IN     VARCHAR2,
    x_oss_location                      IN     VARCHAR2,
    x_faculty                           IN     VARCHAR2,
    x_entry_year                        IN     NUMBER,
    x_entry_month                       IN     NUMBER,
    x_point_of_entry                    IN     NUMBER,
    x_home                              IN     VARCHAR2,
    x_deferred                          IN     VARCHAR2,
    x_route_b_pref_round                IN     NUMBER,
    x_route_b_actual_round              IN     NUMBER,
    x_condition_category                IN     VARCHAR2,
    x_condition_code                    IN     VARCHAR2,
    x_decision                          IN     VARCHAR2,
    x_decision_date                     IN     DATE,
    x_decision_number                   IN     NUMBER,
    x_reply                             IN     VARCHAR2,
    x_summary_of_cond                   IN     VARCHAR2,
    x_choice_cancelled                  IN     VARCHAR2,
    x_action                            IN     VARCHAR2,
    x_substitution                      IN     VARCHAR2,
    x_date_substituted                  IN     DATE,
    x_prev_institution                  IN     VARCHAR2,
    x_prev_course                       IN     VARCHAR2,
    x_prev_campus                       IN     VARCHAR2,
    x_ucas_amendment                    IN     VARCHAR2,
    x_withdrawal_reason                 IN     VARCHAR2,
    x_offer_course                      IN     VARCHAR2,
    x_offer_campus                      IN     VARCHAR2,
    x_offer_crse_length                 IN     NUMBER,
    x_offer_entry_month                 IN     VARCHAR2,
    x_offer_entry_year                  IN     VARCHAR2,
    x_offer_entry_point                 IN     VARCHAR2,
    x_offer_text                        IN     VARCHAR2,
    x_mode                              IN     VARCHAR2    DEFAULT 'R' ,
    x_export_to_oss_status              IN     VARCHAR2   DEFAULT NULL,
    x_error_code                        IN     VARCHAR2  DEFAULT NULL,
    x_request_id                        IN     NUMBER  DEFAULT NULL,
    x_batch_id                          IN     NUMBER  DEFAULT NULL,
    x_extra_round_nbr                   IN     NUMBER      DEFAULT NULL ,
    x_system_code		        IN	VARCHAR2	DEFAULT NULL,
    x_part_time		                IN	VARCHAR2	DEFAULT NULL,
    x_interview	                       	IN	DATE		DEFAULT NULL,
    x_late_application	              	IN	VARCHAR2	DEFAULT NULL,
    x_modular	                        IN	VARCHAR2	DEFAULT NULL,
    x_residential	                IN	VARCHAR2	DEFAULT NULL,
    x_ucas_cycle                        IN     NUMBER		DEFAULT NULL
  );

  PROCEDURE add_row (
    x_rowid                             IN OUT NOCOPY VARCHAR2,
    x_app_choice_id                     IN OUT NOCOPY NUMBER,
    x_app_id                            IN     NUMBER,
    x_app_no                            IN     NUMBER,
    x_choice_no                         IN     NUMBER,
    x_last_change                       IN     DATE,
    x_institute_code                    IN     VARCHAR2,
    x_ucas_program_code                 IN     VARCHAR2,
    x_oss_program_code                  IN     VARCHAR2,
    x_oss_program_version               IN     NUMBER,
    x_oss_attendance_type               IN     VARCHAR2,
    x_oss_attendance_mode               IN     VARCHAR2,
    x_campus                            IN     VARCHAR2,
    x_oss_location                      IN     VARCHAR2,
    x_faculty                           IN     VARCHAR2,
    x_entry_year                        IN     NUMBER,
    x_entry_month                       IN     NUMBER,
    x_point_of_entry                    IN     NUMBER,
    x_home                              IN     VARCHAR2,
    x_deferred                          IN     VARCHAR2,
    x_route_b_pref_round                IN     NUMBER,
    x_route_b_actual_round              IN     NUMBER,
    x_condition_category                IN     VARCHAR2,
    x_condition_code                    IN     VARCHAR2,
    x_decision                          IN     VARCHAR2,
    x_decision_date                     IN     DATE,
    x_decision_number                   IN     NUMBER,
    x_reply                             IN     VARCHAR2,
    x_summary_of_cond                   IN     VARCHAR2,
    x_choice_cancelled                  IN     VARCHAR2,
    x_action                            IN     VARCHAR2,
    x_substitution                      IN     VARCHAR2,
    x_date_substituted                  IN     DATE,
    x_prev_institution                  IN     VARCHAR2,
    x_prev_course                       IN     VARCHAR2,
    x_prev_campus                       IN     VARCHAR2,
    x_ucas_amendment                    IN     VARCHAR2,
    x_withdrawal_reason                 IN     VARCHAR2,
    x_offer_course                      IN     VARCHAR2,
    x_offer_campus                      IN     VARCHAR2,
    x_offer_crse_length                 IN     NUMBER,
    x_offer_entry_month                 IN     VARCHAR2,
    x_offer_entry_year                  IN     VARCHAR2,
    x_offer_entry_point                 IN     VARCHAR2,
    x_offer_text                        IN     VARCHAR2,
    x_mode                              IN     VARCHAR2    DEFAULT 'R'  ,
    x_export_to_oss_status              IN     VARCHAR2   DEFAULT NULL,
    x_error_code                        IN     VARCHAR2  DEFAULT NULL,
    x_request_id                        IN     NUMBER  DEFAULT NULL,
    x_batch_id                          IN     NUMBER  DEFAULT NULL,
    x_extra_round_nbr                   IN     NUMBER       DEFAULT NULL  ,
    x_system_code		        IN	VARCHAR2	DEFAULT NULL,
    x_part_time		                IN	VARCHAR2	DEFAULT NULL,
    x_interview	                       	IN	DATE		DEFAULT NULL,
    x_late_application	              	IN	VARCHAR2	DEFAULT NULL,
    x_modular	                        IN	VARCHAR2	DEFAULT NULL,
    x_residential	                IN	VARCHAR2	DEFAULT NULL,
    x_ucas_cycle                        IN     NUMBER		DEFAULT NULL
  );

  PROCEDURE delete_row (
    x_rowid                             IN     VARCHAR2,
  x_mode IN VARCHAR2 DEFAULT 'R'
  );

  FUNCTION get_pk_for_validation (
    x_app_choice_id                     IN     NUMBER
  ) RETURN BOOLEAN;

  FUNCTION get_uk_for_validation (
    x_app_no                            IN     NUMBER,
    x_choice_no                         IN     NUMBER,
    x_ucas_cycle                        IN     NUMBER
  ) RETURN BOOLEAN;

  PROCEDURE get_fk_igs_uc_applicants (
    x_app_id                            IN     NUMBER
  );

 PROCEDURE get_fk_igs_uc_crse_dets(
    x_ucas_program_code                 IN     VARCHAR2,
    x_institute_code                    IN     VARCHAR2,
    x_campus                            IN     VARCHAR2,
    x_system_code                       IN     VARCHAR2
  );

  PROCEDURE get_fk_igs_uc_offer_conds (
    x_condition_category                IN     VARCHAR2,
    x_condition_name                    IN     VARCHAR2
  );

  PROCEDURE before_dml (
    p_action                            IN     VARCHAR2,
    x_rowid                             IN     VARCHAR2    DEFAULT NULL,
    x_app_choice_id                     IN     NUMBER      DEFAULT NULL,
    x_app_id                            IN     NUMBER      DEFAULT NULL,
    x_app_no                            IN     NUMBER      DEFAULT NULL,
    x_choice_no                         IN     NUMBER      DEFAULT NULL,
    x_last_change                       IN     DATE        DEFAULT NULL,
    x_institute_code                    IN     VARCHAR2    DEFAULT NULL,
    x_ucas_program_code                 IN     VARCHAR2    DEFAULT NULL,
    x_oss_program_code                  IN     VARCHAR2    DEFAULT NULL,
    x_oss_program_version               IN     NUMBER      DEFAULT NULL,
    x_oss_attendance_type               IN     VARCHAR2    DEFAULT NULL,
    x_oss_attendance_mode               IN     VARCHAR2    DEFAULT NULL,
    x_campus                            IN     VARCHAR2    DEFAULT NULL,
    x_oss_location                      IN     VARCHAR2    DEFAULT NULL,
    x_faculty                           IN     VARCHAR2    DEFAULT NULL,
    x_entry_year                        IN     NUMBER      DEFAULT NULL,
    x_entry_month                       IN     NUMBER      DEFAULT NULL,
    x_point_of_entry                    IN     NUMBER      DEFAULT NULL,
    x_home                              IN     VARCHAR2    DEFAULT NULL,
    x_deferred                          IN     VARCHAR2    DEFAULT NULL,
    x_route_b_pref_round                IN     NUMBER      DEFAULT NULL,
    x_route_b_actual_round              IN     NUMBER      DEFAULT NULL,
    x_condition_category                IN     VARCHAR2    DEFAULT NULL,
    x_condition_code                    IN     VARCHAR2    DEFAULT NULL,
    x_decision                          IN     VARCHAR2    DEFAULT NULL,
    x_decision_date                     IN     DATE        DEFAULT NULL,
    x_decision_number                   IN     NUMBER      DEFAULT NULL,
    x_reply                             IN     VARCHAR2    DEFAULT NULL,
    x_summary_of_cond                   IN     VARCHAR2    DEFAULT NULL,
    x_choice_cancelled                  IN     VARCHAR2    DEFAULT NULL,
    x_action                            IN     VARCHAR2    DEFAULT NULL,
    x_substitution                      IN     VARCHAR2    DEFAULT NULL,
    x_date_substituted                  IN     DATE        DEFAULT NULL,
    x_prev_institution                  IN     VARCHAR2    DEFAULT NULL,
    x_prev_course                       IN     VARCHAR2    DEFAULT NULL,
    x_prev_campus                       IN     VARCHAR2    DEFAULT NULL,
    x_ucas_amendment                    IN     VARCHAR2    DEFAULT NULL,
    x_withdrawal_reason                 IN     VARCHAR2    DEFAULT NULL,
    x_offer_course                      IN     VARCHAR2    DEFAULT NULL,
    x_offer_campus                      IN     VARCHAR2    DEFAULT NULL,
    x_offer_crse_length                 IN     NUMBER      DEFAULT NULL,
    x_offer_entry_month                 IN     VARCHAR2    DEFAULT NULL,
    x_offer_entry_year                  IN     VARCHAR2    DEFAULT NULL,
    x_offer_entry_point                 IN     VARCHAR2    DEFAULT NULL,
    x_offer_text                        IN     VARCHAR2    DEFAULT NULL,
    x_creation_date                     IN     DATE        DEFAULT NULL,
    x_created_by                        IN     NUMBER      DEFAULT NULL,
    x_last_update_date                  IN     DATE        DEFAULT NULL,
    x_last_updated_by                   IN     NUMBER      DEFAULT NULL,
    x_last_update_login                 IN     NUMBER      DEFAULT NULL ,
    x_export_to_oss_status              IN     VARCHAR2 DEFAULT NULL ,
    x_error_code                        IN     VARCHAR2 DEFAULT NULL ,
    x_request_id                        IN     NUMBER  DEFAULT NULL ,
    x_batch_id                          IN     NUMBER  DEFAULT NULL,
    x_extra_round_nbr                   IN     NUMBER  DEFAULT NULL    ,
    x_system_code		        IN	VARCHAR2	DEFAULT NULL,
    x_part_time		                IN	VARCHAR2	DEFAULT NULL,
    x_interview	                       	IN	DATE		DEFAULT NULL,
    x_late_application	              	IN	VARCHAR2	DEFAULT NULL,
    x_modular	                        IN	VARCHAR2	DEFAULT NULL,
    x_residential	                IN	VARCHAR2	DEFAULT NULL,
    x_ucas_cycle                        IN      NUMBER		DEFAULT NULL
  );

END igs_uc_app_choices_pkg;

 

/
