--------------------------------------------------------
--  DDL for Package IEX_PAYMENTS_PUB
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE "APPS"."IEX_PAYMENTS_PUB" AUTHID CURRENT_USER as
/* $Header: iexpypys.pls 120.5.12010000.2 2008/08/29 13:52:24 gnramasa ship $ */

TYPE ATTRIBUTE_REC_TYPE IS RECORD
(
    	ATTRIBUTE_CATEGORY    VARCHAR2(30) DEFAULT NULL,
    	ATTRIBUTE1            VARCHAR2(150) DEFAULT NULL,
    	ATTRIBUTE2            VARCHAR2(150) DEFAULT NULL,
    	ATTRIBUTE3            VARCHAR2(150) DEFAULT NULL,
	ATTRIBUTE4            VARCHAR2(150) DEFAULT NULL,
	ATTRIBUTE5            VARCHAR2(150) DEFAULT NULL,
	ATTRIBUTE6            VARCHAR2(150) DEFAULT NULL,
    	ATTRIBUTE7            VARCHAR2(150) DEFAULT NULL,
    	ATTRIBUTE8            VARCHAR2(150) DEFAULT NULL,
    	ATTRIBUTE9            VARCHAR2(150) DEFAULT NULL,
    	ATTRIBUTE10           VARCHAR2(150) DEFAULT NULL,
    	ATTRIBUTE11           VARCHAR2(150) DEFAULT NULL,
    	ATTRIBUTE12           VARCHAR2(150) DEFAULT NULL,
    	ATTRIBUTE13           VARCHAR2(150) DEFAULT NULL,
    	ATTRIBUTE14           VARCHAR2(150) DEFAULT NULL,
    	ATTRIBUTE15           VARCHAR2(150) DEFAULT NULL
);

TYPE BANKACCTINSTR_REC_TYPE IS RECORD
(
	FINAME               VARCHAR2(80),
	BANK_ID              VARCHAR2(25),
	BRANCH_ID            VARCHAR2(30),
	BANKACCT_TYPE        VARCHAR2(80),
	BANKACCT_NUM         VARCHAR2(80),
	BANKACCT_HOLDERNAME  VARCHAR2(80)
);

TYPE CREDITCARDINSTR_REC_TYPE IS RECORD
(
	FINAME          VARCHAR2(80),
	CC_TYPE         VARCHAR2(80),
	CC_NUM          VARCHAR2(80),
	CC_EXPDATE      DATE,
	CC_HOLDERNAME   VARCHAR2(80)
);

TYPE PMTINSTR_REC_TYPE IS RECORD
(
	USE_INSTRUMENT     VARCHAR2(5),
	CREDITCARDINSTR    CREDITCARDINSTR_REC_TYPE,
	BANKACCTINSTR      BANKACCTINSTR_REC_TYPE
);

TYPE PMT_REC_TYPE IS RECORD
(
	PAYMENT_TARGET			VARCHAR2(30), /*(valid[ values: ACCOUNTS, INVOICES, CNSLD, CONTRACTS)*/
	TOTAL_AMOUNT			NUMBER,
	CURRENCY_CODE			VARCHAR2(80),
    	EXCHANGE_RATE_TYPE      	VARCHAR2(30),
    	EXCHANGE_DATE          		DATE,
    	PAYEE_ID			VARCHAR2(80),
    	PAYER_PARTY_REL_ID		NUMBER,
    	PAYER_PARTY_ORG_ID		NUMBER,
    	PAYER_PARTY_PER_ID		NUMBER,
    	NOTE                    	VARCHAR2(2000),
    	CAMPAIGN_SCHED_ID       	NUMBER,
    	RESOURCE_ID			NUMBER,
    	ATTRIBUTES              	ATTRIBUTE_REC_TYPE,
	CUST_ACCOUNT_ID                 NUMBER,  --Added for bug 6717279 25-Aug-2008 gnramasa
	CUST_SITE_USE_ID                NUMBER   --Added for bug 6717279 25-Aug-2008 gnramasa
);

TYPE PMTDTL_REC_TYPE IS RECORD
(
    	CUST_ACCOUNT_ID         NUMBER,			-- required, used with all payment targets
    	CUST_SITE_USE_ID	NUMBER,			-- used only for paying on INVOICES and ACCOUNTS
    	PAYMENT_SCHEDULE_ID     NUMBER, 		-- used only for paying on INVOICES
	CNSLD_INVOICE_ID     	NUMBER, 		-- used only for paying on CNSLD
	CONTRACT_ID     	NUMBER, 		-- used only for paying on CONTRACTS
    	AMOUNT			NUMBER,			-- required, used with all payment targets
    	TRX_TO_CR_RATE		NUMBER := 1,-- used only for paying on INVOICES and ACCOUNTS
   -- Begin -- varangan --Bug4528444 -- for payments uptake
    	TRX_EXTN_ID  NUMBER,
        CURRENCY_CODE                   VARCHAR2(80)
   -- End -- varangan --Bug4528444 -- for payments uptake
);
TYPE PMTDTLS_TBL_TYPE IS TABLE OF PMTDTL_REC_TYPE INDEX BY BINARY_INTEGER;

TYPE PMTRESP_REC_TYPE IS RECORD
(
    	PAYMENT_ID              NUMBER,
    	NOTE_ID                 NUMBER,
	TRXN_ID			NUMBER,
	TRXN_TYPE		NUMBER,
	TRXN_DATE		DATE,
	AUTHCODE		VARCHAR2(80),
	INSTRUMENT_ID		NUMBER,
	INSTRUMENT_TYPE		VARCHAR2(10),
	PAYEE_ID		VARCHAR2(100),
	TANGIBLE_ID		VARCHAR2(100)
);

PROCEDURE CREATE_PAYMENT(
    P_API_VERSION		    	IN      NUMBER,
	P_INIT_MSG_LIST		    	IN      VARCHAR2, -- DEFAULT FND_API.G_FALSE,
	P_COMMIT                    	IN      VARCHAR2, -- DEFAULT FND_API.G_FALSE,
	P_VALIDATION_LEVEL	    	IN      NUMBER, --  DEFAULT FND_API.G_VALID_LEVEL_FULL,
	X_RETURN_STATUS		    	OUT NOCOPY     VARCHAR2,
	X_MSG_COUNT                 	OUT NOCOPY     NUMBER,
	X_MSG_DATA	    	    	OUT NOCOPY     VARCHAR2,
	P_PMT_REC			IN	IEX_PAYMENTS_PUB.PMT_REC_TYPE,
	P_PMTDTLS_TBL			IN	IEX_PAYMENTS_PUB.PMTDTLS_TBL_TYPE,
	P_PMTINSTR_REC			IN	IEX_PAYMENTS_PUB.PMTINSTR_REC_TYPE,
	P_PMT_METHOD            IN  NUMBER, -- Included by varangan for profile bug#4558547
	X_PMTRESP_REC			OUT NOCOPY	IEX_PAYMENTS_PUB.PMTRESP_REC_TYPE
    );

PROCEDURE GET_PAYER_INFO(P_PAYER_PARTY_REL_ID	IN	NUMBER,
			P_PAYER_PARTY_ORG_ID	IN	NUMBER,
			P_PAYER_PARTY_PER_ID	IN	NUMBER,
			X_NOTE_PAYER_TYPE	OUT NOCOPY	VARCHAR2,
			X_NOTE_PAYER_NUM_ID	OUT NOCOPY	NUMBER,
			X_PAYER_NUM_ID		OUT NOCOPY	NUMBER,
			X_PAYER_ID		OUT NOCOPY	VARCHAR2,
			X_PAYER_NAME		OUT NOCOPY	VARCHAR2) ;
   -- Begin -- varangan --Bug4528444 -- for payments uptake

   l_result_rec IBY_FNDCPT_COMMON_PUB.Result_rec_type;
   -- End -- varangan --Bug4528444 -- for payments uptake

END;

/
