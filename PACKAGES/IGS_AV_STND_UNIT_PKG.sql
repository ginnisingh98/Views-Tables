--------------------------------------------------------
--  DDL for Package IGS_AV_STND_UNIT_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE "APPS"."IGS_AV_STND_UNIT_PKG" AUTHID CURRENT_USER as
/* $Header: IGSBI04S.pls 120.0 2005/07/05 12:29:40 appldev noship $ */
procedure INSERT_ROW (
  X_ROWID in out NOCOPY VARCHAR2,
  X_PERSON_ID in NUMBER,
  X_AS_COURSE_CD in VARCHAR2,
  X_AS_VERSION_NUMBER in NUMBER,
  X_S_ADV_STND_TYPE in out NOCOPY VARCHAR2,
  X_UNIT_CD in VARCHAR2,
  X_VERSION_NUMBER in NUMBER,
  X_S_ADV_STND_GRANTING_STATUS in VARCHAR2,
  X_CREDIT_PERCENTAGE in NUMBER DEFAULT NULL,
  X_S_ADV_STND_RECOGNITION_TYPE in VARCHAR2,
  X_APPROVED_DT in DATE,
  X_AUTHORISING_PERSON_ID in NUMBER,
  X_CRS_GROUP_IND in VARCHAR2,
  X_EXEMPTION_INSTITUTION_CD in VARCHAR2,
  X_GRANTED_DT in DATE,
  X_EXPIRY_DT in DATE,
  X_CANCELLED_DT in DATE,
  X_REVOKED_DT in DATE,
  X_COMMENTS in VARCHAR2,
  X_AV_STND_UNIT_ID  IN OUT NOCOPY NUMBER ,
  X_CAL_TYPE            in VARCHAR2 DEFAULT NULL,
  X_CI_SEQUENCE_NUMBER  in NUMBER DEFAULT NULL,
  X_INSTITUTION_CD      in VARCHAR2 DEFAULT NULL,
  X_UNIT_DETAILS_ID     in NUMBER DEFAULT NULL,
  X_TST_RSLT_DTLS_ID    in NUMBER DEFAULT NULL,
  X_GRADING_SCHEMA_CD   in VARCHAR2 DEFAULT NULL,
  X_GRD_SCH_VERSION_NUMBER in NUMBER DEFAULT NULL,
  X_GRADE               in VARCHAR2 DEFAULT NULL,
  X_ACHIEVABLE_CREDIT_POINTS in  NUMBER DEFAULT NULL,
  X_MODE		in VARCHAR2 default 'R',
  X_ORG_ID		in NUMBER,
  X_ADV_STND_TRANS	IN VARCHAR2 DEFAULT 'N',  -- This parameter has been added for Career Impact DLD.
  X_DEG_AUD_DETAIL_ID   IN NUMBER DEFAULT NULL
  );
procedure LOCK_ROW (
  X_ROWID in VARCHAR2,
  X_PERSON_ID in NUMBER,
  X_AS_COURSE_CD in VARCHAR2,
  X_AS_VERSION_NUMBER in NUMBER,
  X_S_ADV_STND_TYPE in VARCHAR2,
  X_UNIT_CD in VARCHAR2,
  X_VERSION_NUMBER in NUMBER,
  X_S_ADV_STND_GRANTING_STATUS in VARCHAR2,
  X_CREDIT_PERCENTAGE in NUMBER DEFAULT NULL,
  X_S_ADV_STND_RECOGNITION_TYPE in VARCHAR2,
  X_APPROVED_DT in DATE,
  X_AUTHORISING_PERSON_ID in NUMBER,
  X_CRS_GROUP_IND in VARCHAR2,
  X_EXEMPTION_INSTITUTION_CD in VARCHAR2,
  X_GRANTED_DT in DATE,
  X_EXPIRY_DT in DATE,
  X_CANCELLED_DT in DATE,
  X_REVOKED_DT in DATE,
  X_COMMENTS in VARCHAR2,
  X_AV_STND_UNIT_ID IN NUMBER,
  X_CAL_TYPE            in VARCHAR2 DEFAULT NULL,
  X_CI_SEQUENCE_NUMBER  in NUMBER DEFAULT NULL,
  X_INSTITUTION_CD      in VARCHAR2 DEFAULT NULL,
  X_UNIT_DETAILS_ID     in NUMBER DEFAULT NULL,
  X_TST_RSLT_DTLS_ID    in NUMBER DEFAULT NULL,
  X_GRADING_SCHEMA_CD   in VARCHAR2 DEFAULT NULL,
  X_GRD_SCH_VERSION_NUMBER in NUMBER DEFAULT NULL,
  X_GRADE               in VARCHAR2 DEFAULT NULL,
  X_ACHIEVABLE_CREDIT_POINTS in  NUMBER DEFAULT NULL,
  X_DEG_AUD_DETAIL_ID   IN NUMBER DEFAULT NULL
);
procedure UPDATE_ROW (
  X_ROWID in VARCHAR2,
  X_PERSON_ID in NUMBER,
  X_AS_COURSE_CD in VARCHAR2,
  X_AS_VERSION_NUMBER in NUMBER,
  X_S_ADV_STND_TYPE in VARCHAR2,
  X_UNIT_CD in VARCHAR2,
  X_VERSION_NUMBER in NUMBER,
  X_S_ADV_STND_GRANTING_STATUS in VARCHAR2,
  X_CREDIT_PERCENTAGE in NUMBER DEFAULT NULL,
  X_S_ADV_STND_RECOGNITION_TYPE in VARCHAR2,
  X_APPROVED_DT in DATE,
  X_AUTHORISING_PERSON_ID in NUMBER,
  X_CRS_GROUP_IND in VARCHAR2,
  X_EXEMPTION_INSTITUTION_CD in VARCHAR2,
  X_GRANTED_DT in DATE,
  X_EXPIRY_DT in DATE,
  X_CANCELLED_DT in DATE,
  X_REVOKED_DT in DATE,
  X_COMMENTS in VARCHAR2,
  X_AV_STND_UNIT_ID     IN NUMBER,
  X_CAL_TYPE            in VARCHAR2 DEFAULT NULL,
  X_CI_SEQUENCE_NUMBER  in NUMBER DEFAULT NULL,
  X_INSTITUTION_CD      in VARCHAR2 DEFAULT NULL,
  X_UNIT_DETAILS_ID     in NUMBER DEFAULT NULL,
  X_TST_RSLT_DTLS_ID    in NUMBER DEFAULT NULL,
  X_GRADING_SCHEMA_CD   in VARCHAR2 DEFAULT NULL,
  X_GRD_SCH_VERSION_NUMBER in NUMBER DEFAULT NULL,
  X_GRADE               in VARCHAR2 DEFAULT NULL,
  X_ACHIEVABLE_CREDIT_POINTS in  NUMBER DEFAULT NULL,
  X_DEG_AUD_DETAIL_ID    IN NUMBER DEFAULT NULL,
  X_MODE in VARCHAR2 default 'R'
  );
procedure ADD_ROW (
  X_ROWID in out NOCOPY VARCHAR2,
  X_PERSON_ID in NUMBER,
  X_AS_COURSE_CD in VARCHAR2,
  X_AS_VERSION_NUMBER in NUMBER,
  X_S_ADV_STND_TYPE in out NOCOPY VARCHAR2,
  X_UNIT_CD in VARCHAR2,
  X_VERSION_NUMBER in NUMBER,
  X_S_ADV_STND_GRANTING_STATUS in VARCHAR2,
  X_CREDIT_PERCENTAGE in NUMBER DEFAULT NULL,
  X_S_ADV_STND_RECOGNITION_TYPE in VARCHAR2,
  X_APPROVED_DT in DATE,
  X_AUTHORISING_PERSON_ID in NUMBER,
  X_CRS_GROUP_IND in VARCHAR2,
  X_EXEMPTION_INSTITUTION_CD in VARCHAR2,
  X_GRANTED_DT in DATE,
  X_EXPIRY_DT in DATE,
  X_CANCELLED_DT in DATE,
  X_REVOKED_DT in DATE,
  X_COMMENTS in VARCHAR2,
  X_AV_STND_UNIT_ID     IN OUT NOCOPY NUMBER ,
  X_CAL_TYPE            in VARCHAR2 DEFAULT NULL,
  X_CI_SEQUENCE_NUMBER  in NUMBER DEFAULT NULL,
  X_INSTITUTION_CD      in VARCHAR2 DEFAULT NULL,
  X_UNIT_DETAILS_ID     in NUMBER DEFAULT NULL,
  X_TST_RSLT_DTLS_ID    in NUMBER DEFAULT NULL,
  X_GRADING_SCHEMA_CD   in VARCHAR2 DEFAULT NULL,
  X_GRD_SCH_VERSION_NUMBER in NUMBER DEFAULT NULL,
  X_GRADE               in VARCHAR2 DEFAULT NULL,
  X_ACHIEVABLE_CREDIT_POINTS in  NUMBER DEFAULT NULL,
  X_MODE in VARCHAR2 default 'R',
  X_ORG_ID in NUMBER,
  X_DEG_AUD_DETAIL_ID    IN NUMBER DEFAULT NULL
  );
procedure DELETE_ROW (
  X_ROWID in VARCHAR2,
  x_mode IN VARCHAR2 DEFAULT 'R');

---
FUNCTION Get_PK_For_Validation (
    x_av_stnd_unit_id IN NUMBER
    ) RETURN BOOLEAN ;

---
FUNCTION get_uk_for_validation(
    X_PERSON_ID	                IN NUMBER,
    X_EXEMPTION_INSTITUTION_CD  IN VARCHAR2, /* Modified as per Bug# 2523546 */
    X_UNIT_DETAILS_ID           IN NUMBER,
    X_TST_RSLT_DTLS_ID          IN NUMBER,
    X_UNIT_CD                   IN VARCHAR2,
    X_AS_COURSE_CD              IN VARCHAR2,
    X_AS_VERSION_NUMBER         IN NUMBER,
		X_VERSION_NUMBER            IN NUMBER,   /* Added as per Bug# 2523546 */
		X_S_ADV_STND_TYPE           IN VARCHAR2	 /* Added as per Bug# 2523546 */
    ) RETURN BOOLEAN;

PROCEDURE GET_FK_IGS_LOOKUPS_VIEW_1(
    x_s_adv_stnd_recognition_type IN VARCHAR2
    );
PROCEDURE GET_FK_IGS_AV_ADV_STANDING (
    x_person_id IN NUMBER,
    x_course_cd IN VARCHAR2,
    x_version_number IN NUMBER,
    x_exemption_institution_cd IN VARCHAR2
    );
  PROCEDURE GET_FK_IGS_PE_PERSON (
    x_person_id IN NUMBER
    );

  -- Added next two procedures as per Bug# 2401170
  PROCEDURE get_fk_igs_ad_term_unitdtls (
    x_unit_details_id IN NUMBER
    );
  PROCEDURE get_fk_igs_ad_tst_rslt_dtls (
    x_tst_rslt_dtls_id IN NUMBER
    );

 PROCEDURE GET_FK_IGS_LOOKUPS_VIEW_2(
    x_s_adv_stnd_granting_status IN VARCHAR2
    );
  PROCEDURE GET_FK_IGS_PS_UNIT_VER (
    x_unit_cd IN VARCHAR2,
    x_version_number IN NUMBER
    );
  PROCEDURE GET_FK_IGS_CA_INST (
    x_cal_type IN VARCHAR2,
    x_ci_sequence_number  NUMBER
    );
  PROCEDURE GET_FK_IGS_AS_GRD_SCH_GRADE(
    x_grading_schema_cd  IN VARCHAR2,
    x_grd_sch_version_number IN NUMBER,
    x_grade    IN VARCHAR2
    );

---

PROCEDURE Before_DML (
    p_action IN VARCHAR2,
    x_rowid IN  VARCHAR2 DEFAULT NULL,
    x_person_id IN NUMBER DEFAULT NULL,
    x_as_course_cd IN VARCHAR2 DEFAULT NULL,
    x_as_version_number IN NUMBER DEFAULT NULL,
    x_s_adv_stnd_type IN VARCHAR2 DEFAULT NULL,
    x_unit_cd IN VARCHAR2 DEFAULT NULL,
    x_version_number IN NUMBER DEFAULT NULL,
    x_s_adv_stnd_granting_status IN VARCHAR2 DEFAULT NULL,
    x_credit_percentage IN NUMBER DEFAULT NULL,
    x_s_adv_stnd_recognition_type IN VARCHAR2 DEFAULT NULL,
    x_approved_dt IN DATE DEFAULT NULL,
    x_authorising_person_id IN NUMBER DEFAULT NULL,
    x_crs_group_ind IN VARCHAR2 DEFAULT NULL,
    x_exemption_institution_cd IN VARCHAR2 DEFAULT NULL,
    x_granted_dt IN DATE DEFAULT NULL,
    x_expiry_dt IN DATE DEFAULT NULL,
    x_cancelled_dt IN DATE DEFAULT NULL,
    x_revoked_dt IN DATE DEFAULT NULL,
    x_comments IN VARCHAR2 DEFAULT NULL,
    X_AV_STND_UNIT_ID     IN NUMBER DEFAULT NULL,
    X_CAL_TYPE            in VARCHAR2 DEFAULT NULL,
    X_CI_SEQUENCE_NUMBER  in NUMBER DEFAULT NULL,
    X_INSTITUTION_CD      in VARCHAR2 DEFAULT NULL,
    X_UNIT_DETAILS_ID     in NUMBER DEFAULT NULL,
    X_TST_RSLT_DTLS_ID    in NUMBER DEFAULT NULL,
    X_GRADING_SCHEMA_CD   in VARCHAR2 DEFAULT NULL,
    X_GRD_SCH_VERSION_NUMBER in NUMBER DEFAULT NULL,
    X_GRADE               in VARCHAR2 DEFAULT NULL,
    X_ACHIEVABLE_CREDIT_POINTS in  NUMBER DEFAULT NULL,
    x_creation_date IN DATE DEFAULT NULL,
    x_created_by IN NUMBER DEFAULT NULL,
    x_last_update_date IN DATE DEFAULT NULL,
    x_last_updated_by IN NUMBER DEFAULT NULL,
    x_last_update_login IN NUMBER DEFAULT NULL,
    x_org_id in NUMBER DEFAULT NULL,
    x_adv_stnd_trans IN VARCHAR2 DEFAULT 'N',  -- This parameter has been added for Career Impact DLD.
    X_DEG_AUD_DETAIL_ID    IN NUMBER DEFAULT NULL
) ;

 PROCEDURE After_DML (
    p_action IN VARCHAR2,
    x_rowid IN VARCHAR2
  ) ;


PROCEDURE Check_Constraints (
  Column_Name	IN	VARCHAR2	DEFAULT NULL,
  Column_Value 	IN	VARCHAR2	DEFAULT NULL
);
end IGS_AV_STND_UNIT_PKG;

 

/
