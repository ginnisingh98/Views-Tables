--------------------------------------------------------
--  DDL for Package PAY_PAYSGI21_XMLP_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE "APPS"."PAY_PAYSGI21_XMLP_PKG" AUTHID CURRENT_USER AS
/* $Header: PAYSGI21S.pls 120.0 2007/12/13 12:13:16 amakrish noship $ */
	P_business_group_id	number;
	P_person_id	number;
	P_basis_year	number;
	P_ir21_mode	varchar2(32767);
	P_conc_request_id	number;
	P_CR_YEAR_AMOUNT	number;
	P_PR_YEAR_AMOUNT	number;
		LP_business_group_id	number;
		LP_person_id	number;
		LP_basis_year	number;
		LP_ir21_mode	varchar2(32767);
		LP_CR_YEAR_AMOUNT	number;
		LP_PR_YEAR_AMOUNT	number;
		DebugFlag varchar2(1);
		t_run varchar2(10);
	CP_outstanding_stocks	number;
	CP_outstanding_no	varchar2(20);
	CP_outstanding_yes	varchar2(20);
	CP_cr_year_amount	number;
	CP_pr_year_amount	number;
	CP_taxable_residence_basis	number;
	CP_taxable_residence_basis_1	number;
	CP_taxable_residence_basis_2	number;
	CP_ir21_cessation_from	date;
	CP_ir21_cessation_to	date;
	CP_ir21_cessation_from_1	date;
	CP_ir21_cessation_to_1	date;
	CP_ir21_cessation_from_2	date;
	CP_ir21_cessation_to_2	date;
	CP_ir21a_employ_from	date;
	CP_ir21a_employ_to	date;
	CP_ir21a_employ_from_1	date;
	CP_ir21a_employ_to_1	date;
	CP_ir21a_employ_from_2	date;
	CP_ir21a_employ_to_2	date;
	CP_date_premise_from	date;
	CP_date_premise_from_1	date;
	CP_date_premise_from_2	date;
	CP_date_premise_to	date;
	CP_date_premise_to_1	date;
	CP_date_premise_to_2	date;
	CP_days_occupying_premise	varchar2(20);
	CP_days_occupying_premise_1	varchar2(20);
	CP_days_occupying_premise_2	varchar2(20);
	CP_emps_sharing_premise	varchar2(20);
	CP_emps_sharing_premise_1	varchar2(20);
	CP_emps_sharing_premise_2	varchar2(20);
	CP_child_seq	number;
	function CF_business_group_nameFormula return Char  ;
	--function cf_ir21a_total_basisformula(CS_ir21a_furniture_bas ;
	function cf_ir21a_total_basisformula(CS_ir21a_furniture_basis in number, CS_ir21a_furniture_basis_sub in number, CS_ir21a_hotel_basis in number, CS_ir21a_others_basis in number) return number;
	function cf_ir21a_total_basis_1formula(CS_ir21a_furniture_basis_1 in number, CS_ir21a_furniture_basis_sub1 in number, CS_ir21a_hotel_basis_1 in number, CS_ir21a_others_basis_1 in number) return number  ;
	--function cf_taxable_value_residenceform(CS_ir21_income_bas ;
	function cf_taxable_value_residenceform(CS_ir21_income_basis in number, CS_ir21_others_basis in number, CS_ir21a_furniture_basis in number, CS_ir21a_others_basis in number, CS_a8a_moa_501_basis in number,
	CS_a8a_moa_502_basis in number, CS_ir21_income_basis_1 in number, CS_ir21_others_basis_1 in number, CS_ir21a_furniture_basis_1 in number, CS_ir21a_others_basis_1 in number, CS_a8a_moa_501_basis_1 in number,
	CS_a8a_moa_502_basis_1 in number) return number;
	--function cf_ir21_subtotal_basisformula(CS_ir21_others_bas ;
	function cf_ir21_subtotal_basisformula(CS_ir21_others_basis in number, CF_ir21a_total_basis in number) return number;
	function cf_ir21_subtotal_basis_1formul(CS_ir21_others_basis_1 in number, CF_ir21a_total_basis_1 in number) return number  ;
	--function cf_ir21_total_basisformula(CS_ir21_income_bas ;
	function cf_ir21_total_basisformula(CS_ir21_income_basis in number, CS_ir21_others_basis in number, CF_ir21a_total_basis in number) return number;
	function cf_ir21_total_basis_1formula(CS_ir21_income_basis_1 in number, CS_ir21_others_basis_1 in number, CF_ir21a_total_basis_1 in number) return number  ;
	function cf_ir21_cessation_datesformula(date_start in date, actual_termination_date in date) return number  ;
	function CF_ir21_dateFormula return Date  ;
	function CF_child_seqFormula return Number  ;
	function BeforeReport return boolean  ;
	function AfterReport return boolean  ;
	function cf_end_of_reportformula(cs_no_data_exists in number) return char  ;
	--function cf_ir21_totalformula(CF_ir21_total_bas ;
	function cf_ir21_totalformula(CF_ir21_total_basis in number, CF_ir21_total_basis_1 in number) return number;
	--function cf_pay_basisformula(organization_id in varchar2, person_id in number, actual_termination_date in date) return char  ;
	function cf_pay_basisformula(organization_id_v in varchar2, person_id in number, actual_termination_date in date) return char  ;
	function cf_employer_premiseformula(person_id in number) return number  ;
	PROCEDURE set_ir21_date  ;
	function CF_stock_outstandingFormula (date_start in date,actual_termination_date in date,organization_id in varchar2)return Number ;
	function latest_le(organization_id in varchar2, date_start in date, actual_termination_date in date) return boolean ;
	function P_CR_YEAR_AMOUNTValidTrigger return boolean  ;
	function P_PR_YEAR_AMOUNTValidTrigger return boolean  ;
	Function CP_outstanding_stocks_p return number;
	Function CP_outstanding_no_p return varchar2;
	Function CP_outstanding_yes_p return varchar2;
	Function CP_cr_year_amount_p return number;
	Function CP_pr_year_amount_p return number;
	Function CP_taxable_residence_basis_p return number;
	Function CP_taxable_residence_basis_1_p return number;
	Function CP_taxable_residence_basis_2_p return number;
	Function CP_ir21_cessation_from_p return date;
	Function CP_ir21_cessation_to_p return date;
	Function CP_ir21_cessation_from_1_p return date;
	Function CP_ir21_cessation_to_1_p return date;
	Function CP_ir21_cessation_from_2_p return date;
	Function CP_ir21_cessation_to_2_p return date;
	Function CP_ir21a_employ_from_p return date;
	Function CP_ir21a_employ_to_p return date;
	Function CP_ir21a_employ_from_1_p return date;
	Function CP_ir21a_employ_to_1_p return date;
	Function CP_ir21a_employ_from_2_p return date;
	Function CP_ir21a_employ_to_2_p return date;
	Function CP_date_premise_from_p return date;
	Function CP_date_premise_from_1_p return date;
	Function CP_date_premise_from_2_p return date;
	Function CP_date_premise_to_p return date;
	Function CP_date_premise_to_1_p return date;
	Function CP_date_premise_to_2_p return date;
	Function CP_days_occupying_premise_p return varchar2;
	Function CP_days_occupying_premise_1_p return varchar2;
	Function CP_days_occupying_premise_2_p return varchar2;
	Function CP_emps_sharing_premise_p return varchar2;
	Function CP_emps_sharing_premise_1_p return varchar2;
	Function CP_emps_sharing_premise_2_p return varchar2;
	Function CP_child_seq_p return number;
END PAY_PAYSGI21_XMLP_PKG;

/
